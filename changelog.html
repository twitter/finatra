
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Changelog &#8212; Finatra 22.4.0 documentation</title>
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Finatra Presentations" href="presentations/index.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39101739-4', 'twitter.github.io');
    ga('send', 'pageview');

  </script>

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="presentations/index.html" title="Finatra Presentations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Finatra</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<p>Below is a list of changes for each Finatra release.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">RB_ID=#</span></code> and <code class="docutils literal notranslate"><span class="pre">PHAB_ID=#</span></code> correspond to associated message in commits.</p>
<div class="section" id="unreleased">
<h2>Unreleased<a class="headerlink" href="#unreleased" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id1">
<h2>22.4.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>No Changes</p>
</div>
<div class="section" id="id2">
<h2>22.3.0<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<div class="section" id="runtime-behavior-changes">
<h3>Runtime Behavior Changes<a class="headerlink" href="#runtime-behavior-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: Remove the SLF4J-API logging bridges as dependencies. These were originally
added as the framework was expressly opionated that users should use Logback as an SLF4J-API
implementation, however specifying the bridges on the Finatra inject/inject-app library
causes many issues with code that must use a different SLF4J-API logging implementation
but still uses the Finatra framework. Users should note that if they do not include these
bridges in some other manner that they may lose logging if they have any libraries which
log with one of the formerly bridged implementations. Also note that servers using a
<cite>TwitterServer</cite> logging implementation to support <a class="reference external" href="https://twitter.github.io/twitter-server/Features.html#dynamically-change-log-levels">dynamically changing log levels</a> will get the proper bridges as dependencies.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D854393</span></code></li>
</ul>
</div>
<div class="section" id="id3">
<h3>Runtime Behavior Changes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Throw an <cite>UnsupportedOperationException</cite> when access to the <cite>c.t.inject.server.DeprecatedLogging#log</cite>
instance is attempted. This is a JUL Logger instance which was provided only as a backward-compatible
shim for Finatra services when the <cite>c.t.server.TwitterServer</cite> framework was moved to the <cite>SLF4J-API</cite>.
The instance was marked <cite>&#64;deprecated</cite> in hopes of alerting users to not use it. We have now updated
it to throw an exception when accessed. Please refer to the Finatra documentation for more information
on using the SLF4J-API for logging with the Finatra framework: <a class="reference external" href="https://twitter.github.io/finatra/user-guide/logging/index.html">https://twitter.github.io/finatra/user-guide/logging/index.html</a>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D854365</span></code></li>
</ul>
</div>
<div class="section" id="added">
<h3>Added<a class="headerlink" href="#added" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: Introduce test-friendly <cite>c.t.inject.app.console.ConsoleWriter</cite> and
<cite>c.t.inject.app.TestConsoleWriter</cite>, which can be used to inspect the output of a command-line
style <cite>c.t.inject.app.App</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D856159</span></code></li>
</ul>
</div>
<div class="section" id="changed">
<h3>Changed<a class="headerlink" href="#changed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-modules: Remove deprecated <cite>c.t.inject.modules.LoggerModule</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D853325</span></code></li>
<li>finatra: Bump version of Jackson to 2.13.2 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D848592</span></code></li>
<li>inject-thrift-client: Deprecate <cite>c.t.inject.thrift.AndThenService</cite>, <cite>c.t.inject.thrift.modules.AndThenServiceModule</cite>,
and <cite>c.t.inject.thrift.internal.DefaultAndThenServiceImpl</cite>. These were plumbing for unreleased
experimental record/replay functionality and currently do nothing with no plan for implementation.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D845841</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id4">
<h2>22.2.0<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">inject-modules: Deprecate <cite>c.t.inject.modules.LoggerModule</cite>. Update <cite>c.t.inject.app.App</cite> to
mix in the <cite>util/util-slf4j-jul-bridge</cite> <cite>Slf4jBridge</cite> trait. The <cite>LoggerModule</cite> does
not provide a solution inline with the best practices for bridging JUL to the SLF4J-API
and users are encouraged to instead mix in the <cite>c.t.util.logging.Slf4jBridge</cite> into the
main class of their application if necessary. The updates to <cite>c.t.inject.app.App</cite> will now
properly bridge JUL to the SLF4J-API early in the constructor of the application catching any
log messages emitted to JUL before where the bridging would have been attempted when using
the <cite>LoggerModule</cite>.</p>
<p>Note that the <cite>Slf4jBridge</cite> trait is already mixed into the <cite>c.t.server.TwitterServer</cite> trait and
thus no further action is necessary for bridging JUL to the SLF4J-API in extensions of
<cite>c.t.server.TwitterServer</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D827584</span></code></p>
</li>
<li><p class="first">inject-slf4j: Deprecate <cite>c.t.inject.logging.Logging</cite> trait and methods. Users are encouraged
to use the <cite>c.t.util.logging.Logging</cite> trait directly. There are no replacements for
<cite>c.t.inject.logging.Logging#debugFutureResult</cite> and <cite>c.t.inject.logging.Logging#time</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D821722</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id5">
<h2>22.1.0<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id6">
<h3>Added<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">http-server: (BREAKING API CHANGE) Allow for customization of the building of the HTTP and HTTPS
<cite>ListeningServer</cite> constructs. This allows users to specify any additional configuration over the
Finagle <cite>Service[-R, +R]</cite> that is constructed by the <cite>HttpRouter</cite>. The
<cite>c.t.finatra.http.HttpServerTrait#build</cite> method has been replaced by two more specific versions:
<cite>#buildHttpListeningServer</cite> and <cite>#buildHttpsListeningServer</cite> which are used in <cite>postWarmup</cite> to
create the appropriate <cite>ListeningServer</cite> given it has a defined port value.</p>
<p>We also update the <cite>EmbeddedHttpServer</cite> and <cite>EmbeddedHttpClient</cite> to allow for being able to run both
the HTTP and HTTPS listening servers in tests. This is done by setting the <cite>httpsPortFlag</cite> to the
value of <cite>https.port</cite> which will enable the binding of the HTTPS listening server to the ephemeral
port in tests. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D809633</span></code></p>
</li>
<li><p class="first">mysql-client: Add base client configuration in EmbeddedMysqlServer to enable for more robust
testing setup. This would allow users to add configurations like <cite>charset</cite>.
Added a overridable function <cite>createRichClient</cite> to MysqlClientModuleTrait to allow
creating the mysql client in other ways like <cite>newRichClient(Finagle.Name, String)</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D805245</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Changed<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Bump version of Jackson to 2.13.1 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D808049</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id8">
<h2>21.12.0<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id9">
<h3>Changed<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: Move <cite>runAfterAll</cite> hook from <cite>c.t.inject.IntegrationTestMixin</cite> to
<cite>c.t.inject.TestMixin</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D784576</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id10">
<h2>21.11.0<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id11">
<h3>Added<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: Introduce a <cite>runAfterAll</cite> hook in <cite>c.t.inject.IntegrationTestMixin</cite> to allow for
running logic to clean-up test resources in the <cite>org.scalatest.BeforeAndAfterAll#afterAll</cite> without
needing to 1) override <cite>org.scalatest.BeforeAndAfterAll#afterAll</cite>, 2) ensure <cite>super</cite> is called for
other resources clean-up, and 3) ensure all resources get cleaned up, regardless of non-fatal
exceptions thrown as part of the clean-up logic and otherwise fail the TestSuite run.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D707939</span></code></li>
</ul>
</div>
<div class="section" id="id12">
<h3>Runtime Behavior Changes<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>http-server: Treat non-constant routes with or without trailing slash as 2 different routes.
For example, “/user/:id” and “/user/:id/” are treated as different routes in Finatra. You can still
use the optional trailing slash <cite>/?</cite> which will indicate Finatra to ignore the trailing slash while
routing. We don’t recommend to mix both use cases when defining your routes. For example: passing
in both <cite>/user/:id</cite> and <cite>/user/:id/?</cite> at the same time. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D787560</span></code></li>
</ul>
</div>
<div class="section" id="id13">
<h3>Changed<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>http-server (BREAKING API CHANGE): Will now serialize many self-referential Jackson types as “{}”
instead of returning a serialization error.  See <a class="reference external" href="https://github.com/FasterXML/jackson-databind/commit/765e2fe1b7f6cdbc6855b32b39ba876fdff9fbcc">https://github.com/FasterXML/jackson-databind/commit/765e2fe1b7f6cdbc6855b32b39ba876fdff9fbcc</a>
for more details. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D744627</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id14">
<h2>21.10.0<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>http-server: Add versions of <cite>HttpRouter#filter</cite> which accept a Guice <cite>TypeLiteral</cite> to
aid Java users in being able to apply generically typed Filters obtained from the object graph.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D768777</span></code></li>
</ul>
</div>
<div class="section" id="id15">
<h2>21.9.0<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>Changed<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift (BREAKING API CHANGE): Removed c.t.finatra.thrift.ThriftClient#thriftClient, use
#methodPerEndpoint. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D747744</span></code></li>
<li>finatra: Bump version of Logback to 1.2.6. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D742405</span></code></li>
<li>finatra: Bump version of Jackson to 2.11.4. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D727879</span></code></li>
<li>finatra: Bump version of Joda-Time to 2.10.10. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D729742</span></code></li>
<li>finatra: Bump version of logback to 1.2.5. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D729767</span></code></li>
<li>finatra: Bump version of json4s to 3.6.11. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D729764</span></code></li>
</ul>
</div>
</div>
<div class="section" id="no-21-7-0-release">
<h2>21.8.0 (No 21.7.0 Release)<a class="headerlink" href="#no-21-7-0-release" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fixed">
<h3>Fixed<a class="headerlink" href="#fixed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: Fixed a bug where <cite>c.t.inject.TestMixin#assertFailedFuture</cite> would incorrectly pass
for non-failed <cite>c.t.util.Future</cite> in some cases where the tested failure is a supertype of
<cite>org.scalatest.exceptions.TestFailedException</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D705002</span></code></li>
</ul>
</div>
<div class="section" id="id17">
<h3>Changed<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-utils: Removed deprecated <cite>c.t.inject.conversions.string</cite>, use
<cite>c.t.conversions.StringOps</cite> in the util/util-core project instead.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D692729</span></code></li>
<li>inject-utils: Removed deprecated <cite>c.t.inject.conversions.tuple</cite>, use</li>
</ul>
<blockquote>
<div><dl class="docutils">
<dt><cite>c.t.conversions.TupleOps</cite> in the util/util-core project instead.</dt>
<dd><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D692429</span></code></dd>
</dl>
</div></blockquote>
<ul class="simple">
<li>inject-utils: Removed deprecated <cite>c.t.inject.conversions.seq</cite>, use
<cite>c.t.conversions.SeqOps</cite> in the util/util-core project instead.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D692775</span></code></li>
<li>inject-utils: Removed implicit class RichMap from  <cite>c.t.inject.conversions.map</cite>, use
<cite>c.t.conversions.MapOps</cite> in the util/util-core project instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D699010</span></code></li>
<li>thrift: Update the test <cite>c.t.finatra.thrift.ThriftClient</cite> to close client and clean-up resources
during the <cite>EmbeddedTwitterServer</cite> close. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D707963</span></code></li>
<li>finatra: Update ScalaCheck to version 1.15.4 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D691691</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id18">
<h2>21.6.0<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id19">
<h3>Changed<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">inject-thrift-client (BREAKING API CHANGE): Removed the deprecated
<cite>c.t.inject.thrift.modules.FilteredThriftClientModule</cite>. Please use its successor
<cite>c.t.inject.thrift.modules.ThriftMethodBuilderClientModule</cite> for per-method configuration of a
Thrift client. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D687663</span></code></p>
</li>
<li><p class="first">thrift: Add <cite>service_class</cite> to Finatra library thrift registry entry. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D687117</span></code></p>
</li>
<li><p class="first">finatra (BREAKING API CHANGE): Update to use the new util/util-jackson <cite>ScalaObjectMapper</cite> for
case class object mapping. We’ve removed the custom Finatra <cite>c.t.finatra.jackson.ScalaObjectMapper</cite>
and instead now use the <cite>c.t.util.jackson.ScalaObjectMapper</cite>. Since the <cite>c.t.util.jackson.ScalaObjectMapper</cite>
does not support <a class="reference external" href="https://www.joda.org/joda-time/">Joda-Time</a>, backwards compatibility is
maintained through usage of the Finatra <cite>ScalaObjectMapperModule</cite> for obtaining a configured
<cite>ScalaObjectMapper</cite> which will be created with Joda-Time support, though support for Joda-Time in
Finatra is deprecated and users should expect for Joda-Time support to be removed in an upcoming release.
Users should prefer to use the JDK 8 <cite>java.time</cite> classes or <cite>java.util.Date</cite>.</p>
<p>The finatra/inject <cite>c.t.inject.domain.WrappedValue</cite> has been removed and users should update to the
util/util-core <cite>c.t.util.WrappedValue</cite> instead.</p>
<p>The finatra/jackson JsonDiff utility is also removed. Users should switch to the improved version
in util/util-jackson: <cite>c.t.util.jackson.JsonDiff</cite>.</p>
<p>With the move to the util/util-jackson <cite>ScalaObjectMapper</cite> we’re also able to clean up some awkward
directory structures in Finatra which were necessary because of dependencies. Specifically, the
<cite>finatra/json-annotations</cite> library no longer exists, as <cite>&#64;InjectableValue</cite> is now an annotation in
<cite>util/util-jackson-annotations</cite>, and the remaining binding annotations <cite>&#64;CamelCaseMapper</cite> and <cite>&#64;SnakeCaseMapper</cite>
have been moved into <cite>finatra/jackson</cite>.</p>
<p>Using the util/util-jackson <cite>ScalaObjectMapper</cite> also brings <a class="reference external" href="https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html">Java 8 date/time</a>
(JSR310) support via inclusion of the Jackson <a class="reference external" href="https://github.com/FasterXML/jackson-modules-java8/tree/master/datetime">JavaTimeModule</a>
by default.</p>
<p>Lastly, we’ve also added the <cite>YamlScalaObjectMapperModule</cite> which can be used in place of the
<cite>ScalaObjectMapperModule</cite> in order to provide a <cite>YAMLFactory</cite> configured <cite>ScalaObjectMapper</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D664955</span></code></p>
</li>
<li><p class="first">inject-utils: Remove deprecated <cite>c.t.inject.utils.StringUtils</cite>. Users should prefer to use
the corresponding methods in <cite>com.twitter.conversions.StringOps</cite> from util/util-core, instead.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D684659</span></code></p>
</li>
<li><p class="first">inject-utils: Remove deprecated <cite>c.t.inject.utils.AnnotationUtils</cite>. Users should instead prefer
<cite>c.t.util.reflect.Annotations</cite> from util/util-reflect. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D684662</span></code></p>
</li>
</ul>
</div>
</div>
<div class="section" id="id20">
<h2>21.5.0<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id21">
<h3>Fixed<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-jackson: Do not enforce <cite>CaseClassDeserializer</cite> deserialization semantics for a
field until after any deserializer annotation has been resolved. This fully allows a deserializer
to specify how to deserialize a field completely independent of the <cite>CaseClassDeserializer</cite>
requirements for fields. For example, if a user wanted to allow parsing of a JSON <cite>null</cite> value
into a <cite>null</cite> field instance value, they could define a custom deserializer to do so and annotate
the case class field with <cite>&#64;JsonDeserialize(using = classOf[CustomNullableDeserializer])</cite>.</p>
<p>Additionally, we’ve fix a bug in how String case class fields are handled when the incoming JSON is
not a String-type. The current code incorrectly returns an empty string when the field value is
parsed into Jackson ContainerNode or ObjectNode types and an incorrect <cite>toString</cite> representation
for a PojoNode type. We now correctly represent the field value as a string in these cases to
deserialize into the case class field. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D676938</span></code></p>
</li>
<li><p class="first">finatra-jackson: Properly handle Scala enumeration fields wrapped in an <cite>Option</cite> during
deserialization failures in the <cite>CaseClassDeserializer#isScalaEnumerationType</cite> method.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D665062</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id22">
<h3>Changed<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-kafka: Deprecate <cite>c.t.finatra.kafka.consumers.TracingKafkaConsumer</cite>
as it only produced single-span traces and there is no way to propagate the <cite>TraceId</cite> back to the
caller without changing the entire API. Users should use the
<cite>c.t.finatra.kafka.consumers.KafkaConsumerTracer.trace</cite> method instead to enable tracing for
Kafka Consumers. Also added <cite>c.t.finatra.kafka.producers.KafkaProducerTraceAnnotator</cite> and
<cite>c.t.finatra.kafka.consumers.KafkaConsumerTraceAnnotator</cite> services which will can be used to add
custom trace annotations to the producer and consumer spans. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D649655</span></code></p>
</li>
<li><p class="first">finatra (BREAKING API CHANGE): Update to use the new util/util-validator <cite>ScalaValidator</cite> for case
class field validations. We’ve removed the custom Finatra <cite>c.t.finatra.validation.Validator</cite> and
instead now use the <cite>c.t.util.validation.ScalaValidator</cite>. Constraint annotations and validator
implementations now use the standard <cite>jakarta.validation</cite> API interface classes instead of any
custom Finatra types. We’ve deprecated the custom Finatra constraints as they are duplicative of
already existing “standard” or otherwise provided constraints and validators. Additionally,
<cite>c.t.finatra.validation.ErrorCode</cite> is deprecated with no replacement. The same data carried can be
obtained via the standard <cite>jakarta.validation.ConstraintViolation[T]</cite>.</p>
<p>Adapting the Finatra framework to use the util/util-validator also includes the framework Jackson
integration. We’re also taking this opportunity to clean up the error reporting interface of
the <cite>CaseClassFieldMappingException</cite> to define a <cite>CaseClassFieldMappingException.Reason</cite> type to
replace the usage of the (removed) <cite>ValidationResult.Invalid</cite> type. The <cite>Reason</cite> carries a message
String as well as a <cite>CaseClassFieldMappingException.Detail</cite> which can be one of several possible
types including a <cite>CaseClassFieldMappingException.ValidationError</cite> which carries any failed validation
information including the emitted <cite>ConstraintViolation[T]</cite>.</p>
<p>Lastly, we are deprecating support for JSON serialization/deserialization of JodaTime fields in
case classes. This support will be dropped in an upcoming release. Users should prefer to use the
JDK 8 <cite>java.time</cite> classes and we will be adding support for these types in the Finatra Jackson
integration in the future. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D659556</span></code></p>
</li>
<li><p class="first">finatra-jackson: (BREAKING API CHANGE) JsonLogging should use the lazy Scala SLF4J logger
and no longer return the passed in argument that’s logged as JSON. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D563699</span></code></p>
</li>
</ul>
</div>
</div>
<div class="section" id="id23">
<h2>21.4.0<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id24">
<h3>Changed<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>http-core: Add support to build a multipart/form-data POST request in Finatra RequestBuilder.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D648869</span></code></li>
<li>finatra-kafka-streams: Update AsyncTransformer to support threadpools. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D611608</span></code></li>
<li>finatra-kafka-streams: Set kafka.producer.acks=all by default <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D643266</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id25">
<h2>21.3.0<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id26">
<h3>Added<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-thrift-client: Add per-method retry configuration withMaxRetries in
<cite>com.twitter.inject.thrift.ThriftMethodBuilder</cite> for customizing <cite>configureServicePerEndpoint</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D619565</span></code></li>
</ul>
</div>
<div class="section" id="id27">
<h3>Changed<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra (BREAKING API CHANGE): Deprecate <cite>c.t.inject.utils.AnnotationUtils</cite>, users should instead use
<cite>c.t.util.reflect.Annotations</cite> from <cite>com.twitter:util-reflect</cite>. Deprecate
<cite>c.t.finatra.utils.ClassUtils</cite>, users should instead use either
<cite>c.t.util.reflect.Classes#simpleName</cite>, <cite>c.t.util.reflect.Types#isCaseClass</cite> or
<cite>c.t.util.reflect.Types#notCaseClass</cite> from <cite>com.twitter:util-reflect</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D638655</span></code></li>
<li>finatra (BREAKING API CHANGE): Builds are now only supported for Scala 2.12+ <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D631091</span></code></li>
<li>finatra: Revert to scala version 2.12.12 due to <a class="reference external" href="https://github.com/scoverage/sbt-scoverage/issues/319">https://github.com/scoverage/sbt-scoverage/issues/319</a>
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D635917</span></code></li>
<li>finatra: Bump scala version to 2.12.13 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D632567</span></code></li>
<li>finatra: Move com.twitter.finatra.http.{jsonpatch,request} from the finatra/http-server project to
finatra/http-core project. Please update your build artifact references accordingly.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D623745</span></code></li>
<li>http-server|http-core|jackson|thrift|validation: Update to use <cite>c.t.util.reflect.Types</cite>
in places for TypeTag reflection. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D631819</span></code></li>
<li>finatra: Move c.t.finatra.http.{context,exceptions,response} from the finatra/http-server project
to finatra/http-core project. Please update your build artifact references accordingly.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D631772</span></code></li>
<li>finatra: Move c.t.finatra.http.streaming from the finatra/http-server project to
finatra/http-core project. Please update your build artifact references accordingly.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D631371</span></code></li>
<li>http-core: Introduce <cite>c.t.finatra.http.marshalling.MessageBodyManager#builder</cite> for creating an immutable
<cite>c.t.finatra.http.marshalling.MessageBodyManager</cite>. The MessageBodyManager’s constructor is now private.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D621755</span></code></li>
<li>http-server: Move <cite>c.t.finatra.http.modules.MessageBodyFlagsModule</cite> to
<cite>c.t.finatra.http.marshalling.modules.MessageBodyFlagsModule</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D626600</span></code></li>
<li>validation: Remove deprecated constraint type aliases under <cite>com.twitter.finatra.validation</cite>, users
should prefer the actual constraint annotations at <cite>com.twitter.finatra.validation.constraints</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D625174</span></code></li>
<li>jackson: Remove deprecated <cite>com.twitter.finatra.json.utils.CamelCasePropertyNamingStrategy</cite>,
users should prefer to use <cite>PropertyNamingStrategy#LOWER_CAMEL_CASE</cite> or an equivalent directly.
Also remove the deprecated <cite>com.twitter.finatra.json.annotations.JsonCamelCase</cite>, users should
use the <cite>&#64;JsonProperty</cite> or <cite>&#64;JsonNaming</cite> annotations or an appropriately configured
Jackson <cite>PropertyNamingStrategy</cite> instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D623807</span></code></li>
<li>inject-core: (BREAKING API CHANGE) Rename <cite>c.t.inject.TwitterModule.closeOnExit</cite> to <cite>onExit</cite> so
it mirrors the API from <cite>c.t.inject.App</cite>.  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D621095</span></code></li>
<li>http-client: Remove deprecated c.t.finatra.httpclient.modules.HttpClientModule.
Use c.t.finatra.httpclient.modules.HttpClientModuleTrait instead.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D619591</span></code></li>
<li>http-client: Remove deprecated c.t.finatra.httpclient.RichHttpClient. Use c.t.finagle.Http.Client
or c.t.finatra.httpclient.modules.HttpClientModuleTrait instead. Additionally,
<cite>c.t.finatra.httpclient.modules.HttpClientModule.provideHttpService</cite> has been removed. Use
<cite>c.t.finatra.httpclient.modules.HttpClientModuleTrait.newService(injector, statsReceiver)</cite>
instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D619547</span></code></li>
<li>finatra: Move c.t.finatra.http.fileupload from the finatra/http-server project to
finatra/http-core project. Please update your build artifact references accordingly.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D620478</span></code></li>
<li>http-client: Remove deprecated method <cite>get</cite> from c.t.finatra.httpclient.HttpClient.
Use HttpClient’s <cite>execute</cite> instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D618904</span></code></li>
<li>finatra: Create the finatra/http-core project, which is meant to contain common artifacts
for the finatra/http-server and finatra/http-client project. As part of this
change, the <cite>com.twitter.finatra.httpclient.RequestBuilder</cite> has been deprecated
and should be updated to reference <cite>com.twitter.finatra.http.request.RequestBuilder</cite>.
<code class="docutils literal notranslate"><span class="pre">`PHAB_ID=D618583`</span></code></li>
<li>finatra: Rename the finatra/httpclient project to finatra/http-client. Please update your
build artifact references (i.e. SBT, Maven) to use “finatra-http-client”.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D617614</span></code></li>
<li>kafkaStreams:  Switch the default Kafka client and Kafka Stream client to version 2.4.1.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D606782</span></code></li>
<li>finatra: Rename the finatra/http project to finatra/http-server. Please update your
build artifact references (i.e. SBT, Maven) to use “finatra-http-server”. See the
<a class="reference external" href="https://twitter.github.io/finatra/user-guide/index.html">Finatra User’s Guide</a>
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D616257</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id28">
<h2>21.2.0<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id29">
<h3>Changed<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: all subprojects cross-building with 2.13.1. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D613483</span></code></li>
<li>kafkaStreams: Enables cross-build for 2.13.1 for projects kafkaStreamsStaticPartitioning,
kafkaStreamsPrerestore, and kafkaStreamsQueryableThrift. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D608958</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id30">
<h2>21.1.0<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id31">
<h3>Changed<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>kafka: Enables cross-build for 2.13.1. Note that kafka 2.5 is bundled with scala 2.13+
and kafka 2.2 is bundled with scala 2.12-. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D597065</span></code></li>
<li>kafkaStreams: Enables cross-build for 2.13.1. Note that kafka 2.5 is bundled with
scala 2.13+ and kafka 2.2 is bundled with scala 2.12-. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D597065</span></code></li>
<li>benchmarks: Enables cross-build for 2.13.1. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D597288</span></code></li>
<li>inject-thrift-client-http-mapper: Enables cross-build for 2.13.1. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D596470</span></code></li>
<li>http-mustache: Enables cross-build for 2.13.1. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D596470</span></code></li>
<li>thrift: (BREAKING API CHANGE) Removed <cite>JavaThriftRouter.add(controller, protocolFactory)</cite> method.
Use <cite>AbstractThriftServer.configureThriftServer</cite> to override Thrift-specific stack params
(including <cite>Thrift.param.ProtocolFactory</cite>).  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D593876</span></code></li>
<li>finatra-http: Remove deprecated <cite>c.t.finatra.http.response.StreamingResponse</cite>.
Use <cite>c.t.finatra.http.streaming.StreamingResponse</cite> instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D594642</span></code></li>
<li>finatra-kafka-streams: (BREAKING API CHANGE) Changed the <cite>delayWithStore</cite> DSL call to ensure that
the store name is consistent across shards. Requires a new <cite>storeName</cite> parameter to allow
for multiple delays in a single topology. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D593593</span></code></li>
</ul>
</div>
<div class="section" id="id32">
<h3>Fixed<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Renamed implicit Kafka Streams DSL classes in order to
permit multiple DSL extensions to be used in the same Kafka Streams topology.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D598368</span></code></li>
<li>thrift: Fixed a bug where Thrift stack params (i.e., protocol factory) that are passed to
<cite>AbstractThriftServer.configureThriftServer</cite> are ignored in <cite>JavaThriftRouter</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D593876</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id33">
<h2>20.12.0<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id34">
<h3>Added<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Add async map commands to Kafka Streams DSL (<cite>flatMapAsync</cite>,
<cite>flatMapValuesAsync</cite>, <cite>mapAsync</cite>, and <cite>mapValuesAsync</cite>) <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D593995</span></code></li>
<li><dl class="first docutils">
<dt>finatra-kafka-streams: Allow String configuration to be null and set upgradefrom to null if it is</dt>
<dd>running in 2.5 kafka client.  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D592608</span></code></dd>
</dl>
</li>
<li>finatra-http: Allow injecting filtered controllers in HttpRouter from Java. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D590707</span></code></li>
<li>inject-utils: Move deprecation warning from <cite>c.t.inject.conversions.map</cite> to
<cite>c.t.inject.conversions.map.RichMap</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D591979</span></code></li>
<li>kafka: Add an option <cite>includePartitionMetrics</cite> to <cite>KafkaFinagleMetricsReporter</cite> to not include
metrics per partition of the <cite>FinagleKafkaConsumer</cite>. Defaults to true. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D587636</span></code></li>
<li>finatra: Enables cross-build for 2.13.1 for inject-logback. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D588586</span></code></li>
<li>finatra-kafka-streams: Add delay DSL calls to insert a delay into a Kafka Streams topology.</li>
<li>finatra: Enables cross-build for 2.13.1 for inject-thrift-client. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D583509</span></code></li>
<li>finatra-kafka-streams: Add <cite>c.t.f.k.t.s.PersistentTimerValueStore</cite> which stores a value in the
timerstore that can be used when the timer is triggered. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D583020</span></code></li>
<li>inject-core: Add ability to call <cite>InMemoryStats#waitFor</cite> with a fixed timeout
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D576147</span></code></li>
<li>finatra: Enables cross-build for 2.13.1 for httpclient, http, and jackson. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D574391</span></code></li>
</ul>
</div>
<div class="section" id="id35">
<h3>Changed<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-utils: Deprecate all methods in <cite>c.t.inject.conversions.map.RichMap</cite>, and move
functionality to <cite>c.t.conversions.MapOps</cite> in the util/util-core project. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D578819</span></code></li>
<li>inject-utils: Deprecate all methods in <cite>c.t.inject.conversions.tuple</cite>, and move functionality
to <cite>c.t.conversions.TupleOps</cite> in the util/util-core project. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D578804</span></code></li>
<li>inject-utils: Deprecate all methods in <cite>c.t.inject.conversions.seq</cite>, and move functionality
to <cite>c.t.conversions.SeqOps</cite> in the util/util-core project. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D578605</span></code></li>
<li>inject-utils: Remove deprecated <cite>camelify</cite>, <cite>pascalify</cite>, and <cite>snakify</cite> from
<cite>c.t.inject.conversions.string.RichString</cite>. Additionally, deprecate <cite>toOption</cite> and
<cite>getOrElse</cite> in <cite>c.t.inject.conversions.string.RichString</cite>, and move functionality to
<cite>c.t.conversions.StringOps</cite> in the util/util-core project. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D578549</span></code></li>
<li>c.t.finatra.http.exceptions.ExceptionMapperCollection changed from Traversable to Iterable
for cross-building 2.12 and 2.13. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D574391</span></code></li>
<li>inject-core: (BREAKING API CHANGE) Move the testing utility <cite>InMemoryStatsReceiverUtility</cite>
and <cite>InMemoryStats</cite> into inject-core from inject-server. They can both be found under
<cite>com.twitter.inject</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D574643</span></code></li>
<li>validation: (BREAKING API CHANGE) Introduce new Validation Framework APIs which support
cascading validation to nested case classes and other improvements which also closer align
to JSR380. <cite>Validator#validate</cite> has changed from returning <cite>Unit</cite> and throwing an exception
to model the JSR380 version that returns a Set of failed constraints. There is a new method
which replicates the throwing behavior. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D559644</span></code></li>
<li>kafka: Split <cite>c.t.f.kafka.tracingEnabled</cite> flag into <cite>c.t.f.k.producers.producerTracingEnabled</cite> and
<cite>c.t.f.k.consumers.consumerTracingEnabled</cite> to selectively enable/disable tracing for
producers/consumers. Producer tracing is turned on by default and consumer tracing is turned off
by default now. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D571064</span></code></li>
</ul>
</div>
<div class="section" id="id36">
<h3>Fixed<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Wire through HTTP method in AdminHttpClient so that POST requests can be made to
HTTPAdmin endpoints. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D584988</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id37">
<h2>20.10.0<a class="headerlink" href="#id37" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id38">
<h3>Added<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Add toCluster DSL call to publish to another Kafka cluster.</li>
</ul>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D562195</span></code></div></blockquote>
<ul class="simple">
<li>jackson: Add support for validating <cite>&#64;JsonCreator</cite> annotated static (e.g., companion
object defined apply methods) or secondary case class constructors. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D552921</span></code></li>
<li>inject-app: Allow injecting flags without default values as both <cite>scala.Option</cite> and
<cite>java.util.Optional</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D526226</span></code></li>
</ul>
</div>
<div class="section" id="id39">
<h3>Changed<a class="headerlink" href="#id39" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>utils: Undo usage of TypesApi for help in determining if a class is a Scala case class
as this fails for generic case classes in Scala 2.11, failing some supported cases for
Jackson processing. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D566596</span></code></li>
<li>utils: Update <cite>ClassUtils#simpleName</cite> to handle when package names have underscores
followed by a number which throws an <cite>InternalError</cite>. Add tests. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D566069</span></code></li>
<li>utils: Revamp <cite>ClassUtils#isCaseClass</cite> to use the TypesApi for help in determining
if a class is a Scala case class. Add tests. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D566069</span></code></li>
<li>http: The http server did not properly log the bound address on server startup. Fix this
and make the thrift server consistent. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D563758</span></code></li>
<li>utils: (BREAKING API CHANGE) Rename <cite>maybeIsCaseClass</cite> to <cite>notCaseClass</cite> in
<cite>ClassUtils</cite> and change the scope of the method. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D556169</span></code></li>
<li>http: Adding support for optionally passing chain in the TLS sever trait. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D553718</span></code></li>
<li>finatra: Bump version of Joda-Time to 2.10.8. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D570496</span></code></li>
</ul>
</div>
<div class="section" id="id40">
<h3>Fixed<a class="headerlink" href="#id40" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Revert AsyncTransformer to still use ConcurrentHashMap.</li>
</ul>
<blockquote>
<div><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D555422</span></code></div></blockquote>
<ul class="simple">
<li>inject-thrift-client: The <cite>Singleton</cite> annotation has been removed from the <cite>DarkTrafficFilter</cite> and
the <cite>JavaDarkTrafficFilter</cite>. It was there in error. <cite>PHAB_ID=D553539</cite></li>
<li>inject-thrift-client: When using <cite>RepRepServicePerEndpoint</cite>, Finatra’s <cite>DarkTrafficFilter</cite> would
throw a <cite>NoSuchMethodException</cite> when trying to lookup an inherited Thrift endpoint.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D553361</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id41">
<h2>20.9.0<a class="headerlink" href="#id41" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id42">
<h3>Added<a class="headerlink" href="#id42" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-inject: <cite>TestInjector</cite> has been reworked to allow users executing modules’ lifecycle
callbacks. Specifically, the <cite>TestInjector</cite> builder API has been moved under <cite>TestInjector.Builder</cite>
to allow <cite>TestInjector</cite> extends <cite>Injector</cite> with two new methods: <cite>start()</cite> and <cite>close()</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D537056</span></code></li>
</ul>
</div>
<div class="section" id="id43">
<h3>Changed<a class="headerlink" href="#id43" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Update and separate the Finatra kafka stream code base which has direct
dependency on Kafka 2.2. Separate any code which cannot easily be upgraded to separate build
target. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D545900</span></code></li>
<li>inject-core: <cite>c.t.inject.Injector</cite> is now an abstract class. Use <cite>Injector.apply</cite> to create
a new instance (versus the <cite>new Injector(…)</cite> before). <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D543297</span></code></li>
<li>http: Ensure HttpWarmer creates the request exactly the number of times requested and
mutates the correct objects. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D547310</span></code></li>
<li>kafka: Replaced the <cite>com.twitter.finatra.kafka.TracingEnabled</cite> toggle with a GlobalFlag enabling
Zipkin tracing for Kafka clients. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D525274</span></code></li>
<li>finatra: Bump version of Jackson to 2.11.2. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D538440</span></code></li>
</ul>
</div>
<div class="section" id="id44">
<h3>Fixed<a class="headerlink" href="#id44" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>jackson: Fix issue in the handling of unknown properties. The <cite>CaseClassDeserializer</cite> only
considered the case where the incoming JSON contained more fields than the case class and
not the case where the incoming JSON contained less fields than specified in the case class.
This has been fixed to ensure that when the fields of the JSON do not line up to the
non-ignored case class fields the handling of unknown properties is properly invoked.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D549353</span></code></li>
<li>validation: <cite>c.t.f.validation.Validator</cite> would throw an <cite>IndexOutOfBoundsException</cite> when
trying to validate a case class which contained additional fields that are not included in the
constructor parameters. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D549253</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id45">
<h2>20.8.1<a class="headerlink" href="#id45" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id46">
<h3>Added<a class="headerlink" href="#id46" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>thrift: <cite>JavaThriftRouter</cite> now allows mounting controllers by value (as opposed to via DI).
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D528659</span></code></li>
<li>finatra-kafka: Expose delivery timeout duration in KafkaProducerConfig. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D535761</span></code></li>
</ul>
</div>
<div class="section" id="id47">
<h3>Changed<a class="headerlink" href="#id47" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: Remove deprecated <cite>com.twitter.inject.Mockito</cite> trait. Users are encouraged to
switch to the <cite>com.twitter.util.mock.Mockito</cite> trait from util/util-mock. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D529174</span></code></li>
</ul>
</div>
<div class="section" id="id48">
<h3>Fixed<a class="headerlink" href="#id48" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Ensure <cite>Awaiter.any</cite> does not try to block on an empty list of Awaitables. Add
tests. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D537727</span></code></li>
<li>finatra-jackson: Fix bugs around generic case class deserialization involving other generic
types. Reported (with reproduction and pointers) on GitHub by &#64;aatasiei
(<a class="reference external" href="https://github.com/twitter/finatra/issues/547">https://github.com/twitter/finatra/issues/547</a>). Fixes #547. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D532768</span></code></li>
<li>finatra-jackson: Fix a bug preventing JSON parsing of generic case classes, which in turn, contain
fields with generic case classes. Reported (with a thorough reproducer and an analysis) on GitHub
by &#64;aatasiei (<a class="reference external" href="https://github.com/twitter/finatra/issues/548">https://github.com/twitter/finatra/issues/548</a>). Fixes #548. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D531452</span></code></li>
</ul>
</div>
</div>
<div class="section" id="do-not-use">
<h2>20.8.0 (DO NOT USE)<a class="headerlink" href="#do-not-use" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id49">
<h3>Added<a class="headerlink" href="#id49" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: Add more Java-friendly constructors for the TestInjector. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D520900</span></code></li>
</ul>
</div>
<div class="section" id="id50">
<h3>Changed<a class="headerlink" href="#id50" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-modules: Improve Java usability: rename <cite>apply</cite> to <cite>get</cite> for
StatsReceiverModule and LoggerModule.
Add <cite>get</cite> methods for other TwitterModule singleton objects.
(BREAKING API CHANGE) <code class="docutils literal notranslate"><span class="pre">PHAB_IB=D525696</span></code></li>
<li>inject-core: Deprecate <cite>c.t.inject.Resettable</cite> (no replacement) and <cite>c.t.inject.TestTwitterModule</cite>.
Users should prefer the <cite>#bind[T]</cite> DSL over usage of the <cite>TestTwitterModule</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D520889</span></code></li>
</ul>
</div>
<div class="section" id="id51">
<h3>Fixed<a class="headerlink" href="#id51" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Fix EmbeddedTwitterServer to return <cite>StartupTimeoutException</cite> when server under
test fails to start within max startup time. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D519318</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id52">
<h2>20.7.0<a class="headerlink" href="#id52" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id53">
<h3>Added<a class="headerlink" href="#id53" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: Adding flag converters for <cite>java.io.File</cite> (including comma-separated variants).
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D516020</span></code></li>
<li>finatra-kafka-streams: Added <cite>TracingKafkaClientSupplier</cite> to provide <cite>TracingKafkaProducer</cite> and
<cite>TracingKafkaConsumer</cite> to enable Zipkin tracing. Tracing can be enabled with the toggle
<cite>com.twitter.finatra.kafka.TracingEnabled</cite>.  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D502911</span></code></li>
<li>finatra-kafka: Added <cite>TracingKafkaProducer</cite> and <cite>TracingKafkaConsumer</cite> to enable Zipkin tracing
for Kafka. <cite>FinagleKafkaProducerBuilder.build()</cite> and <cite>FinagleKafkaConsumerBuilder.buildClient()</cite>
now return instances of <cite>TracingKafkaProducer</cite> and <cite>TracingKafkaConsumer</cite> respectively with
tracing enabled by default. Tracing can be enabled with the toggle
<cite>com.twitter.finatra.kafka.TracingEnabled</cite>.  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D490711</span></code></li>
</ul>
</div>
<div class="section" id="id54">
<h3>Changed<a class="headerlink" href="#id54" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra: Update <cite>org.scalatest</cite> dependency to 3.1.2 and introduce finer-grained dependencies on
<cite>org.scalatestplus</cite> artifacts. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D518553</span></code> <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D518794</span></code></p>
</li>
<li><p class="first">inject-thrift-client: Remove unused ClientId property from
<cite>ThriftMethodBuilderClientModule#provideServicePerEndpoint</cite> method. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D513491</span></code></p>
</li>
<li><p class="first">inject-server: Improve startup time of <cite>EmbeddedTwitterServer</cite> by observing lifecycle events to
determine startup, where previously we were doing 1 second polls. The <cite>nonInjectableServerStarted</cite>
property is removed and <cite>isStarted</cite> should be referenced regardless of the type of underlying
<cite>twitterServer</cite> type. The end result should see a faster test execution feedback loop. Our Finatra
test targets range from a roughly 2x to 10x reduction in execution times.</p>
<p>You may experience new test failures in cases where an exception is thrown as part of
<cite>c.t.inject.TwitterServer.start()</cite> or <cite>c.t.server.TwitterServer.main()</cite> and the test would have
expected a failure as part of startup. As the error takes place after the startup lifecycle,
you may now need to <cite>Await.result</cite> the <cite>EmbeddedTwitterServer.mainResult()</cite> to assert the error.</p>
<p>You may also experience some new non-deterministic behavior when testing against PubSub style
logic. As the server may be started earlier, your tests may be relying on assumptions that
an event would have occurred within the previous 1 second startup poll, which is no longer
guaranteed. You may need to adjust your test logic to account for this behavior.</p>
<p><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D499999</span></code></p>
</li>
<li><p class="first">finatra: Update <cite>com.google.inject.guice</cite> dependency to 4.2.3 and <cite>net.codingwell.scala-guice</cite>
to version 4.2.11. The <cite>net.codingwell.scala-guice</cite> library has switched from Manifests to TypeTags
for transparent binding and injector key creation. The <cite>c.t.inject.TwitterModule</cite> has moved from its
custom bind DSL to the <cite>scalaguice.ScalaModule</cite> which brings the <cite>TwitterModule</cite> inline with both the
<cite>TwitterPrivateModule</cite> and the <cite>bind[T]</cite> test DSL to now have the same consistent binding DSL across
all three. Thus, there is no more confusing <cite>bindSingleton</cite> function in the <cite>TwitterModule</cite> bind API.</p>
<p>Upgrading scalaguice helps move a necessary dependency of Finatra to a version which is Scala 2.13
compatible moving Finatra closer to Scala 2.13 support. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D504559</span></code> <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D515857</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id55">
<h3>Fixed<a class="headerlink" href="#id55" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: Having two sets of flag converters for primitive types (both Java and Scala) confuses
the DI runtime, preventing the injection. We now have only a single set of converters, based off
Scala primitive types.  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D509192</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id56">
<h2>20.6.0<a class="headerlink" href="#id56" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id57">
<h3>Added<a class="headerlink" href="#id57" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: You can now inject Flag values of any type (not just primitive types). Most of the
common Flag types are already supported out of the box (e.g., <cite>Seq[InetSocketAddress]</cite>), but it’s
also possible to register your own converters derived from any Flaggable instance.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D498210</span></code></li>
<li>inject-stack: Move <cite>StackTransformer</cite> from <cite>inject/inject-core</cite> to <cite>inject/inject-stack</cite> to
remove the finagle-core dependency from <cite>inject/inject-core</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D489604</span></code></li>
<li>inject-server: adding httpPostAdmin test method. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D482624</span></code></li>
</ul>
</div>
<div class="section" id="id58">
<h3>Changed<a class="headerlink" href="#id58" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>thrift/http: Introduce a <a class="reference external" href="https://en.wikipedia.org/wiki/Common_Log_Format">Common Log Format</a>
type of formatting for Thrift access logging to replace the current <cite>prelog</cite> text. Ensure
the HTTP and Thrift access logging filters are aligned in functionality and behavior.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D497596</span></code></li>
<li>inject-slf4j: Remove Jackson dependency. Case classes which wish to use the slf4j Logging
functionality should use the finatra/jackson <cite>c.t.finatra.jackson.caseclass.SerdeLogging</cite>
trait which provides a <cite>&#64;JsonIgnoreProperties</cite> to ignore logging fields. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D487948</span></code></li>
</ul>
</div>
<div class="section" id="id59">
<h3>Fixed<a class="headerlink" href="#id59" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-validation: Added a <cite>c.t.finatra.validation.ValidatorModule</cite> to provide a default
Validator. The new module is added to the default Finatra HttpServer modules, users can override
it with a customized <cite>ValidatorModule</cite> by overriding the <cite>validatorModule</cite> field.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D503417</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id60">
<h2>20.5.0<a class="headerlink" href="#id60" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id61">
<h3>Added<a class="headerlink" href="#id61" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-mdc: Move MDC integration from <cite>inject/inject-slf4j</cite> to <cite>inject/inject-mdc</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D485870</span></code></li>
<li>finatra-http|finatra-thrift: Update TraceIdMDCFilter to log traceSampled and traceSpanId
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=472013</span></code></li>
<li>finatra-examples: Ensure there are Java and Scala examples for the different
types of applications and servers which can be built with Finatra. Update <cite>/examples</cite>
directory layout for discoverability and consistency. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D469677</span></code></li>
</ul>
</div>
<div class="section" id="id62">
<h3>Changed<a class="headerlink" href="#id62" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-slf4j: Move MDC integration from <cite>inject/inject-slf4j</cite> to <cite>inject/inject-mdc</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D485870</span></code></li>
<li>finatra-http: Allow extensions of the <cite>c.t.finatra.http.filters.HttpResponseFilter</cite>
to specify how to set the Location Header value into a Response. Additionally, don’t
allow exceptions resulting from the inability to set a non-compliant ‘Location’ response
header escape the filter. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D483793</span></code></li>
<li>inject-core: Make flag methods in <cite>c.t.inject.TwitterModule</cite> public an final. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D484168</span></code></li>
<li>inject-core: <cite>c.t.inject.Mockito</cite> has been marked deprecated. Users are encouraged to prefer
<a class="reference external" href="https://github.com/mockito/mockito-scala">mockito-scala</a> (or ScalaTest <a class="reference external" href="http://doc.scalatest.org/3.1.1/#org.scalatestplus.mockito.MockitoSugar">MockitoSugar</a>
which provides some basic syntax sugar for Mockito). <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D482531</span></code></li>
<li>http: (BREAKING API CHANGE) Update the <cite>c.t.finatra.http.HttpResponseFilter</cite> to optionally fully
qualify response ‘Location’ header values. A <a class="reference external" href="https://github.com/twitter/finatra/commit/ff9acc9fbf4e89b532df9daf2b9cba6d90b2df96">previous change</a>
made the filter always attempt to fully qualify any response ‘Location’ header value. This updates
the logic to be opt-in for the more strict returning of fully qualified ‘Location’ header values with
the default being to allow relative values per the <a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.1.2">RFC7231</a>
which replaces the obsolete <a class="reference external" href="https://tools.ietf.org/html/rfc2616#section-14.30">RFC2616</a>. This is
thus a breaking API change as the default is now to allow relative values. To enable the previous
strict behavior, users should instantiate the filter with the constructor arg <cite>fullyQualifyLocationHeader</cite>
set to ‘true’. This addresses issue #524. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D467909</span></code></li>
<li>jackson: Remove deprecated <cite>FinatraObjectMapper</cite> and <cite>FinatraJacksonModule</cite>. Users are encouraged
to switch to the equivalent <cite>c.t.finatra.jackson.ScalaObjectMapper</cite> and
<cite>c.t.finatra.jackson.modules.ScalaObjectMapperModule</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D473177</span></code></li>
<li>finatra-http: Update <cite>c.t.finatra.http.StreamingJsonTestHelper</cite> to not use <cite>Thread.sleep</cite> for
writing JSON elements on an artificial delay. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D470793</span></code></li>
<li>inject-app: Remove finagle-core dependency. Introduce finatra/inject/inject-dtab.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D474298</span></code></li>
<li>finatra: Bump version of Jackson to 2.11.0. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D457496</span></code></li>
<li>finatra-http: Only create <cite>EnrichedResponse</cite> counters when needed. Any “service/failure”
response counters will only be generated upon first failure and not eagerly for each
response generated. This change impacts users who expect a counter value of 0 when no
response failures have been encountered - now the counter will not exist until the first
failure has been recorded. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D474918</span></code></li>
<li>finatra: Bump version of Joda-Time to 2.10.6. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D473522</span></code></li>
</ul>
</div>
<div class="section" id="id63">
<h3>Fixed<a class="headerlink" href="#id63" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-thrift-client: Convert non-camel case <cite>ThriftMethod</cite> names, e.g., “get_tweets” to
camelCase, e.g., “getTweets” for reflection lookup of generated <cite>ReqRepServicePerEndpoint</cite>
interface methods in <cite>c.t.inject.thrift.filters.DarkTrafficFilter</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D478104</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id64">
<h2>20.4.1<a class="headerlink" href="#id64" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id65">
<h3>Added<a class="headerlink" href="#id65" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">inject-app: Add default type conversions for <cite>java.time.LocalTime</cite>, <cite>c.t.util.Time</cite>,
<cite>java.net.InetSocketAddress</cite>, and <cite>c.t.util.StorageUnit</cite>. This allows the injector to convert from
a String representation to the given type. The type conversion for <cite>java.net.InetSocketAddress</cite>
uses the <cite>c.t.app.Flaggable.ofInetSocketAddress</cite> implementation and the type conversion for
<cite>c.t.util.Time</cite> uses the <cite>c.t.app.Flaggable.ofTime</cite> implementation for consistency with Flag parsing.
Because of the current state of type erasure with <cite>c.t.app.Flag</cite> instances, Finatra currently binds
a parsed <cite>c.t.app.Flag</cite> value as a String type, relying on registered Guice TypeConverters to convert
from the bound String type to the requested type. These conversions now allow for a <cite>c.t.app.Flag</cite>
defined over the type to be injected by the type as Guice now has a type conversion from the bound
String type rather than as a String representation which then must be manually converted.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D471545</span></code></p>
</li>
<li><p class="first">finatra-http: Method in tests to return an absolute path URI with the https scheme and authority
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D466424</span></code></p>
</li>
<li><p class="first">finatra: Java-friendly <cite>bindClass</cite> test APIs. The <cite>bindClass</cite> API calls from Java can be
now chained with the <cite>TestInjector</cite>, <cite>EmbeddedApp</cite>, <cite>EmbeddedTwitterServer</cite>,
<cite>EmbeddedThriftServer</cite>, and <cite>EmbeddedHttpServer</cite>. For example, the following is now possible:</p>
<p><a href="#id66"><span class="problematic" id="id67">``</span></a>`
EmbeddedHttpServer server = new EmbeddedHttpServer(</p>
<blockquote>
<div><p>new HelloWorldServer(),
Collections.emptyMap(),
Stage.DEVELOPMENT)
.bindClass(Integer.class, Flags.named(“magic.number”), 42)
.bindClass(Integer.class, Flags.named(“module.magic.number”), 9999);</p>
</div></blockquote>
<p>return server;
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">``PHAB_ID=D463042</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id68">
<h3>Changed<a class="headerlink" href="#id68" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: Introduce consistent <cite>c.t.app.Flag</cite> creation methods for Java. Bring HTTP and Thrift
server traits inline with each other to provide consistent Java support. Ensure Java examples in
documentation. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D471716</span></code></li>
<li>inject-core: Update the configuration of <cite>c.t.app.Flag</cite> instances created within a <cite>c.t.inject.TwitterModule</cite>
to have <cite>failFastUntilParsed</cite> set to ‘true’ by default. While this is configurable for a given
<cite>c.t.inject.TwitterModule</cite>, much like for the application itself, it is STRONGLY recommended that
users adopt this behavior. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D448047</span></code></li>
<li>inject-app: Update <cite>c.t.inject.app.TestInjector</cite> to always add the <cite>InjectorModule</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D465943</span></code></li>
<li>inject-app: Reduce visibility of internal code in <cite>c.t.inject.app.internal</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D465597</span></code></li>
<li>inject-modules: Updated BUILD files for Pants 1:1:1 layout. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D442977</span></code></li>
</ul>
</div>
<div class="section" id="id69">
<h3>Fixed<a class="headerlink" href="#id69" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka: Close a result observer when Namer.resolve fails. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D416044</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id70">
<h2>20.4.0 (DO NOT USE)<a class="headerlink" href="#id70" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id71">
<h3>Added<a class="headerlink" href="#id71" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-app: Add Java-friendly <cite>main</cite> to <cite>EmbeddedApp</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D458375</span></code></li>
<li>finatra-kafka: Expose timeout duration in KafkaProducerConfig dest(). <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D457356</span></code></li>
</ul>
</div>
<div class="section" id="id72">
<h3>Changed<a class="headerlink" href="#id72" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-validation|jackson: (BREAKING API CHANGE) Introduced new case class validation library
inspired by JSR-380 specification. The new library can be used as its own to validate field and
method annotations for a case class. The library is also automatically integrated with Finatra’s
custom <cite>CaseClassDeserializer</cite> to efficiently apply per field and method validations as request
parsing is performed. However, Users can easily turn off validation during request parsing with
the setting <cite>noValidation</cite> in their server configurations. For more information, please checkout
<a class="reference external" href="https://docbird.twitter.biz/finatra/user-guide/index.html">Finatra User’s Guide</a>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D415743</span></code></li>
<li>finatra: guice is upgraded to 4.2.1 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D457714</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id73">
<h2>20.3.0<a class="headerlink" href="#id73" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id74">
<h3>Added<a class="headerlink" href="#id74" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id75">
<h3>Changed<a class="headerlink" href="#id75" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-validation|jackson: Remove Jackson dependency from finatra/validation. This
was for <cite>ErrorCode</cite> reporting but can be moved to finatra/jackson. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D445364</span></code></li>
<li>finatra-kafka-streams: (BREAKING API CHANGE) Update AsyncTransformer to preserve
record context. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D436227</span></code></li>
<li>finatra-jackson: Better handling of Scala enumeration mapping errors. Currently, if mapping
of a Scala enumeration during deserialization fails a <cite>java.util.NoSuchElementException</cite> is
thrown which escapes deserialization error handling. Update to instead handle this failure case
in order to correctly translate into a <cite>CaseClassFieldMappingException</cite> which will be wrapped
into a <cite>CaseClassMappingException</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D442575</span></code></li>
</ul>
</div>
<div class="section" id="id76">
<h3>Fixed<a class="headerlink" href="#id76" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id77">
<h2>20.2.1<a class="headerlink" href="#id77" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id78">
<h3>Added<a class="headerlink" href="#id78" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Add method to <cite>c.t.f.kafkastreams.test.TopologyTesterTopic</cite> to write
Kafka messages with custom headers to topics. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D424440</span></code></li>
<li>finatra-http: Add <cite>toBufReader</cite> to get the underlying Reader of Buf from StreamingResponse.
If the consumed Stream primitive is not Buf, the returned reader streams a serialized
JSON array. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D434448</span></code></li>
<li>inject-app: Add functions to <cite>c.t.inject.app.AbstractApp</cite> to provide better
ergonomics for Java users to call and use basic <cite>App</cite> lifecycle callbacks.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D433874</span></code></li>
<li>inject-server: Add functions to <cite>c.t.inject.server.AbstractTwitterServer</cite> to provide
better ergonomics for Java users to call and use basic <cite>TwitterServer</cite> lifecycle
callbacks. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D433874</span></code></li>
<li>inject-slf4j: Add a way to retrieve the currently stored Local Context map backing the
MDC. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D431148</span></code></li>
<li>finatra-jackson: Added new functionality in the <cite>CaseClassDeserializer</cite> to support more
Jackson annotations during deserialization. See documentation for more information.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D407284</span></code></li>
<li>finatra: Add NullKafkaProducer for unit tests to avoid network connection failures in the log.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D429004</span></code></li>
</ul>
</div>
<div class="section" id="id79">
<h3>Changed<a class="headerlink" href="#id79" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra: Update Google Guice version to 4.2.0 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D372886</span></code></p>
</li>
<li><p class="first">finatra: Bumped version of Joda to 2.10.2 and Joda-Convert to 1.5. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D435987</span></code></p>
</li>
<li><p class="first">finatra-jackson|finatra-http-annotations: Move http-releated Jackson “injectablevalues”
annotations from <cite>finatra/jackson</cite> to <cite>finatra/http-annotations</cite>.</p>
<p>Specifically the follow have changed packages,
<cite>c.t.finatra.request.QueryParam</cite>       –&gt; <cite>c.t.finatra.http.annotations.QueryParam</cite>
<cite>c.t.finatra.request.RouteParam</cite>        –&gt; <cite>c.t.finatra.http.annotations.RouteParam</cite>
<cite>c.t.finatra.request.FormParam</cite>         –&gt; <cite>c.t.finatra.http.annotations.FormParam</cite>
<cite>c.t.finatra.request.Header</cite>                –&gt; <cite>c.t.finatra.http.annotations.Header</cite>
<cite>c.t.finatra.request.JsonIgnoreBody</cite> –&gt; <cite>c.t.finatra.http.annotations.JsonIgnoreBody</cite></p>
<p>Users should update from <cite>finatra/jackson/src/main/java</cite> (<cite>finatra-jackson_2.12</cite>)
to <cite>finatra/http-annotations/src/main/java</cite> (<cite>finatra-http-annotations_2.12</cite>).
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D418766</span></code></p>
</li>
<li><p class="first">finatra-jackson: Updated Finatra Jackson integration to introduce a new <cite>ScalaObjectMapper</cite>
and module to simplify configuration and creation of the mapper. See documentation for more
information. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D407284</span></code></p>
</li>
<li><p class="first">finatra-jackson: (BREAKING API CHANGE) Moved the java binding annotations, <cite>CamelCaseMapper</cite> and
<cite>SnakeCaseMapper</cite> from <cite>c.t.finatra.annotations</cite> in <cite>finatra/jackson</cite> to
<cite>c.t.finatra.json.annotations</cite> in <cite>finatra/json-annotations</cite>. Moved
<cite>c.t.finatra.response.JsonCamelCase</cite> to <cite>c.t.finatra.json.annotations.JsonCamelCase</cite> which is also
now deprecated. Users are encouraged to use the standard Jackson annotations or a mapper with
the desired property naming strategy configured.</p>
<p>Many exceptions for case class deserialization were meant to be internal to the framework but are
useful or necessary outside of the internals of JSON deserialization. As such we have cleaned up
and made most JSON deserialization exceptions public. As a result, all the exceptions have been moved
from <cite>c.t.finatra.json.internal.caseclass.exceptions</cite> to <cite>c.t.finatra.jackson.caseclass.exceptions</cite>.</p>
<p><cite>c.t.finatra.json.internal.caseclass.exceptions.CaseClassValidationException</cite> has been renamed to
<cite>c.t.finatra.jackson.caseclass.exceptions.CaseClassFieldMappingException</cite>. <cite>JsonInjectException</cite>,
<cite>JsonInjectionNotSupportedException</cite>, and <cite>RequestFieldInjectionNotSupportedException</cite> have all been
deleted and replaced with <cite>c.t.finatra.jackson.caseclass.exceptions.InjectableValuesException</cite>
which represents the same error cases.</p>
<p>The <cite>FinatraJsonMappingException</cite> has been removed. Users are encouraged to instead use the general
Jackson <cite>JsonMappingException</cite> (which the <cite>FinatraJsonMappingException</cite> extends).</p>
<p><cite>RepeatedCommaSeparatedQueryParameterException</cite> has been moved tom finatra/http.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D407284</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id80">
<h3>Fixed<a class="headerlink" href="#id80" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: Access to parameter names via Java reflection is not supported in Scala 2.11.
Added a work around for the parsing of case class structures to support JSON deserialization in
Scala 2.11 and forward. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D431837</span></code></li>
<li>finatra-jackson: Fix for enforcing “fail on unknown properties” during deserialization. Previously,
the <cite>CaseClassDeserializer</cite> was optimized to only read the fields in the case class constructor
from the incoming JSON and thus ignored any unknown fields during deserialization. The fix will
now properly fail if the <cite>DeserializationFeature</cite> is set or if the <cite>JsonProperties</cite> is configured
accordingly. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D407284</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id81">
<h2>20.1.0<a class="headerlink" href="#id81" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id82">
<h3>Changed<a class="headerlink" href="#id82" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Track <cite>c.t.f.kafkastreams.flushing.AsyncProcessor</cite> and
<cite>c.t.f.kafkastreams.flushing.AsyncTransformer</cite> latencies with stat metrics <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D430688</span></code></li>
<li>finatra: Exposing Listening Server’s bound address in Thrift and HTTP server traits
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D424745</span></code></li>
<li>finatra: Upgrade logback to 1.2.3 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D415888</span></code></li>
</ul>
</div>
<div class="section" id="id83">
<h3>Fixed<a class="headerlink" href="#id83" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Fix issue in <cite>c.t.inject.server.EmbeddedHttpClient</cite> where assertion of an
empty response body was incorrectly disallowed. This prevented asserting that a server
was not yet healthy as the <cite>/health</cite> endpoint returns an empty string, thus even a not yet
healthy server would report as “healthy” to the testing infrastructure as long as the <cite>health</cite>
endpoint returned a <cite>200 - OK</cite> response. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D422712</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id84">
<h2>19.12.0<a class="headerlink" href="#id84" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id85">
<h3>Changed<a class="headerlink" href="#id85" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra: Upgrade to jackson 2.9.10 and jackson-databind 2.9.10.1 <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D410846</span></code></p>
</li>
<li><p class="first">finatra: Correctly track Ignorable Exceptions in per-method StatsFilter.  Responses
marked as Ignorable are tracked in the global requests and exceptions metrics but
were not counted under the per-method metrics.  There are now counts of <cite>ignored</cite>
and total <cite>requests</cite> as well as ignored requests by Exception for each method. E.g.</p>
<p>per_method_stats/foo/ignored 1
per_method_stats/foo/ignored/java.lang.Exception 1
per_method_stats/foo/requests 1</p>
<p><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D407474</span></code></p>
</li>
<li><p class="first">finatra-http|jackson: (BREAKING API CHANGE) Move parsing of message body contents
from <cite>finatra/jackson</cite> via the <cite>FinatraObjectMapper</cite> <cite>#parseMessageBody</cite>, <cite>#parseRequestBody</cite>,
and <cite>#parseResponseBody</cite> methods to <cite>finatra/http</cite> with functionality replicated via an
implicit which enhances a given <cite>FinatraObjectMapper</cite>. Additionally we have updated
finatra-http the <cite>MessageBodyComponent</cite> API to use <cite>c.t.finagle.http.Message</cite> instead
of <cite>c.t.finagle.http.Request</cite> and <cite>c.t.finagle.http.Response</cite>. This means that users can use the
<cite>MessageBodyComponent</cite> API to read the body of Finagle HTTP requests or responses and all HTTP
concerns are co-located in finatra-http instead of being partially implemented in finatra-jackson.</p>
<p>In updating the <cite>MessageBodyComponent</cite> API we have removed support for polymorphic <cite>MessageBodyReader</cite>
types, that is we have simplified the <cite>MessageBodyReader</cite> API to no longer express the <cite>#parse</cite>
method parameterized to a subtype of the class type. This API allowed parsing a message body
into a subtype solely through the presence of a given type parameter but the resulting API has
proven to be extremely clunky. We feel that the same behavior is achievable in other ways (such
as adapting the type after parsing) and the improvement and simplification of the
<cite>MessageBodyReader</cite> API to be worth removing the awkward method signature.</p>
<p>Lastly, we have fixed the returned charset encoding on response content-type header to be
applicable only where appropriate instead of always being added when the
<cite>http.response.charset.enabled</cite> flag is set to true. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D400560</span></code></p>
</li>
<li><p class="first">finatra: (BREAKING API CHANGE) move DarkTrafficFilter and related modules
from <cite>finatra/thrift</cite> to <cite>inject/inject-thrift-client</cite>. The modules now extend
from <cite>c.t.inject.thrift.modules.ThriftClientModuleTrait</cite> for more uniform configuration.
The following changes were made:</p>
<blockquote>
<div><ul class="simple">
<li>c.t.finatra.thrift.filters.DarkTrafficFilter -&gt;
c.t.inject.thrift.filters.DarkTrafficFilter</li>
<li>c.t.finatra.thrift.modules.DarkTrafficFilterModule -&gt;
c.t.inject.thrift.modules.DarkTrafficFilterModule</li>
<li>c.t.finatra.thrift.modules.ReqRepDarkTrafficFilterModule -&gt;
c.t.inject.thrift.modules.ReqRepDarkTrafficFilterModule</li>
<li>c.t.finatra.thrift.modules.JavaDarkTrafficFilterModule -&gt;
c.t.inject.thrift.modules.JavaDarkTrafficFilterModule</li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D401051</span></code></p>
</li>
<li><p class="first">finatra: Update Google Guice version to 4.1.0, update ScalaTest to 3.0.8, and ScalaCheck
to 1.14.0. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D408309</span></code></p>
</li>
<li><p class="first">finatra-http: Remove deprecated <cite>c.t.finatra.http.HttpHeaders</cite>. Users should use
<cite>com.twitter.finagle.http.Fields</cite> instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D407290</span></code></p>
</li>
<li><p class="first">finatra-http: Remove deprecated <cite>DocRootModule</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D404723</span></code></p>
</li>
<li><p class="first">finatra-http: (BREAKING CHANGE) Remove automatic handling of Mustache rendering from
<cite>finatra/http</cite> and break Mustache support into two separate libraries: <cite>finatra/mustache</cite>
and <cite>finatra/http-mustache</cite>.</p>
<p>HTTP services that want the framework to automatically negotiate Mustache template rendering
via the Finatra HTTP <cite>MessageBodyComponents</cite> framework must now bring this concern into their
HTTP services via the <cite>finatra/http-mustache</cite> <cite>c.t.finatra.http.modules.MustacheModule</cite> as the
HTTP framework support for specifying a <cite>MustacheModule</cite> in the <cite>HttpServer</cite> has been removed.
I.e., add this module to the server’s list of modules.</p>
<p>Additionally, it is also now possible to use Mustache templating completely independent of
Finatra HTTP concerns by consuming and using only the <cite>finatra/mustache</cite> library which will
render Strings via defined Mustache templates. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D387629</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id86">
<h3>Fixed<a class="headerlink" href="#id86" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Fixed issue in the <cite>DefaultMessageBodyReaderImpl</cite> that determines if the incoming
message is “json encoded”. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D412993</span></code></li>
<li>inject-modules: Removed the extra registration for closing a client, which used to log false
warnings when startup a ClientModule. Only register close after materialized clients.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D401288</span></code></li>
<li>inject-server: Addressed a race condition that could allow for an <cite>AdminHttpServer</cite> to be
started, even when the <cite>disableAdminHttpServer</cite> property was set. The <cite>AdminHttpServer</cite> will
no longer start prior to the warm-up phase if disabled. The <cite>disableAdminHttpServer</cite> property
has also been moved to <cite>com.twitter.server.AdminHttpServer</cite>. <cite>PHAB_ID=D397925`</cite></li>
<li>finatra: Remove <cite>com.sun.activation</cite> dependency from <cite>build.sbt</cite> file. The dependency
duplicates the <cite>javax.activation</cite> dependency and as a result can cause a uber-JAR to fail
to build. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D396506</span></code></li>
</ul>
</div>
<div class="section" id="id87">
<h3>Added<a class="headerlink" href="#id87" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: (BREAKING API CHANGE) Move all Case Class annotation validation related logic to
a new library in finatra-validation. Please update your library dependencies to the new library if
you are using case class validations. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D386969</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id88">
<h2>19.11.0<a class="headerlink" href="#id88" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id89">
<h3>Fixed<a class="headerlink" href="#id89" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Better handling of URI decoding issues when extracting path parameters for
routing. If we cannot extract a path pattern, and the exception is not intercepted by a
user-defined Exception Mapper, we will now explicitly return a <cite>400 - BAD REQUEST</cite>.
Fixes #507. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D381357</span></code></li>
</ul>
</div>
<div class="section" id="id90">
<h3>Added<a class="headerlink" href="#id90" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Add initial support for JDK 11 compatibility. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D365075</span></code></li>
<li>inject-core: Add support for optional binding in <cite>c.t.inject.TwitterModule</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D386288</span></code></li>
</ul>
</div>
<div class="section" id="id91">
<h3>Changed<a class="headerlink" href="#id91" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: (BREAKING API CHANGE) <cite>StreamingResponse[Reader, String]</cite> and
<cite>StreamingResponse[AsyncStream, String]</cite> now streaming <cite>String</cite> messages as JSON instead of
returning as-is. Concatenating text messages need to be handled from the Controller by users.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D394904</span></code></li>
<li>finatra-http: (BREAKING API CHANGE) <cite>AsyncStream[Buf] =&gt; AsyncStream[String]</cite> and
<cite>Reader[Buf] =&gt; Reader[String]</cite> handlers will always be tread the output as a JSON arrays of
<cite>Strings</cite>. Whereas, before, the incoming bytes would have been converted to <cite>String</cite> and
returned as-is. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D392551</span></code></li>
<li>finatra: Deprecate <cite>c.t.finatra.http.modules.DocRootModule</cite>. Introduce <cite>FileResolverModule</cite>.
The <cite>DocRootModule</cite> defines configuration flags for the <cite>FileResolver</cite> which was moved from
<cite>finatra/http</cite> to a more correctly generic location in <cite>finatra/utils</cite>. However, configuration for
injection of a properly configured <cite>FileResolver</cite> is still incorrectly tied to HTTP because of the
<cite>DocRootModule</cite>. Thus, we deprecate the <cite>DocRootModule</cite> and introduce the
<cite>c.t.finatra.modules.FileResolverModule</cite> which is defined closer to the
<cite>c.t.finatra.utils.FileResolver</cite> in <cite>finatra/utils</cite>. This allows the <cite>FileResolver</cite> to be properly
configured outside of HTTP concerns. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D390932</span></code></li>
<li>finatra-thrift: Updated BUILD files for Pants 1:1:1 layout. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D388297</span></code></li>
<li>inject-ports: Add <cite>finatra/inject/inject-ports</cite> which has <cite>c.t.inject.server.Ports</cite> and
<cite>c.t.inject.server.PortUtils</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D388277</span></code></li>
<li>inject-utils: Move <cite>AnnotationUtils</cite> to <cite>c.t.inject.utils.AnnotationUtils</cite> and make public
for use. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D388241</span></code></li>
<li>finatra-http: Updated package structure for Pants 1:1:1 layout. Moved <cite>META-INF/mime.types</cite> file
to finatra/utils which is where the <cite>FileResolver</cite> is located for proper resolution of mime types
from file extension. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D385792</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id92">
<h2>19.10.0<a class="headerlink" href="#id92" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id93">
<h3>Changed<a class="headerlink" href="#id93" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: Update jackson reflection to use <cite>org.json.reflect</cite> instead of
custom reflection. This enables support for parsing case classes defined over generic
types, e.g., <cite>case class Page[T](data: T)</cite>. As a result of this change, use of <cite>lazy val</cite>
for trait members which are mixed into case classes for use in deserialization is no
longer supported. This addresses issue #480. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D368822</span></code></li>
</ul>
</div>
<div class="section" id="id94">
<h3>Fixed<a class="headerlink" href="#id94" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: Add support for parsing of case classes defined over generic types
(even nested, and multiple), e.g., <cite>case class Page[T, U] (data: List[T], column: U)</cite>.
Fixes issue #408. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D368822</span></code></li>
<li>finatra-kafka: Sanitize topic name in MonitoringConsumer stats scope
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D373402</span></code></li>
<li>inject-server: Fix printing of all stats from the underlying <cite>InMemoryStatsReceiver</cite> in
the <cite>eventually</cite> loop for stat assertion. Address finatra/kafka test logging for
finatra/kakfa-streams/kafka-streams and finatra/kafka. <code class="docutils literal notranslate"><span class="pre">PHAB__ID=D372108</span></code></li>
<li>inject-logback: A <cite>NullReferenceException</cite> could be thrown during metrics
collection due to an incorrect logback.xml configuration. This has been fixed.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D369234</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id95">
<h2>19.9.0<a class="headerlink" href="#id95" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id96">
<h3>Added<a class="headerlink" href="#id96" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka: Add <cite>withConfig</cite> method variant which takes a <cite>Map[String, String]</cite>
to allow for more complex configurations <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D354389</span></code></li>
</ul>
</div>
<div class="section" id="id97">
<h3>Changed<a class="headerlink" href="#id97" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Remove commons-lang as a dependency and replace it with alternatives from stdlib
when possible. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D354013</span></code></li>
<li>inject-server: Changed <cite>c.t.inject.server.InMemoryStatsReceiverUtility</cite> to show the expected and
actual values as part of the error message when metric values do not match. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D360470</span></code></li>
<li>finatra-kafka-streams: Improve StaticPartitioning error message <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D351368</span></code></li>
</ul>
</div>
<div class="section" id="id98">
<h3>Fixed<a class="headerlink" href="#id98" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Support Http 405 response code, improve routing performance for non-constant route
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D278146</span></code></li>
<li>inject-app: Update <cite>c.t.inject.app.App</cite> to only recurse through modules once. We currently
call <cite>TwitterModule#modules</cite> more than once in reading flags and parsing the list of modules
over which to create the injector. When <cite>TwitterModule#modules</cite> is a function that inlines the
instantiation of new modules we can end up creating multiple instances causing issues with the
list of flags defined in the application. This is especially true in instances of <cite>TwitterModule</cite>
implemented in Java as there is no way to implement the trait <cite>TwitterModule#modules</cite> method as a
eagerly evaluated value. We also don’t provide an ergonomic method for Java users to define
dependent modules like we do in apps and servers via <cite>App#javaModules</cite>. Thus we also add a
<cite>TwitterModule#javaModules</cite> function which expresses a better API for Java users. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D349587</span></code></li>
</ul>
</div>
<div class="section" id="closed">
<h3>Closed<a class="headerlink" href="#closed" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id99">
<h2>19.8.0<a class="headerlink" href="#id99" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id100">
<h3>Added<a class="headerlink" href="#id100" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Introduce the new streaming request and response types:
<cite>c.t.finatra.http.streaming.StreamingRequest</cite> <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D342728</span></code>,
<cite>c.t.finatra.http.streaming.StreamingResponse</cite> <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D342703</span></code>.
Examples are located in finatra/examples/streaming-example/.</li>
<li>finatra-jackson: Add the ability to specify <cite>fields</cite> in the <cite>MethodValidation</cite> annotation.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D338079</span></code></li>
</ul>
</div>
<div class="section" id="id101">
<h3>Changed<a class="headerlink" href="#id101" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka: Make KafkaConsumerConfig config public from FinagleKafkaConsumerBuilder. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D362058</span></code></li>
<li>inject-thrift-client: make ThriftClientModuleTrait extend StackClientModuleTrait for symmetry
with other protocol client modules. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D342710</span></code></li>
<li>finatra-http: Deprecated <cite>c.t.finatra.http.response.StreamingResponse</cite>, Use
<cite>c.t.finatra.http.response.ResponseBuilder.streaming</cite> to construct a
<cite>c.t.finatra.http.streaming.StreamingResponse</cite> instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D342703</span></code></li>
<li>finatra: Upgrade to Jackson 2.9.9. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D345969</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id102">
<h2>19.7.0<a class="headerlink" href="#id102" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id103">
<h3>Added<a class="headerlink" href="#id103" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Adding test/sample for <cite>FinatraDslWindowedAggregations.aggregate</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D322558</span></code></li>
<li>finatra-jackson: Add <cite>com.twitter.util.Time</cite> deserializer with <cite>JsonFormat</cite> support.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D330682</span></code></li>
</ul>
</div>
<div class="section" id="id104">
<h3>Changed<a class="headerlink" href="#id104" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-kafka: BUILD file update compile and runtime deps.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D337742</span></code></p>
</li>
<li><p class="first">finatra-httpclient: introduce new <cite>HttpClientModuleTrait</cite> and deprecate <cite>HttpClientModule</cite>.
The <cite>HttpClientModule</cite> has been modified to extend from <cite>HttpClientModuleTrait</cite> to allow
for bridging the two implementations. <cite>c.t.f.httpclient.RichHttpClient</cite> has also been deprecated
as part of this change. The new <cite>HttpClientModuleTrait</cite> allows for direct configuration of the
underling <cite>c.t.finagle.Http.Client</cite>. The new <cite>HttpClientModuleTrait</cite> does not provide any
default bindings, so it is up to users to supply them - this allows for custom binding
annotations and binding multiple <cite>HttpClient`s, which was not previously possible with
`HttpClientModule</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D338320</span></code></p>
<p>To migrate,</p>
<p><a href="#id105"><span class="problematic" id="id106">``</span></a>`
class MyHttpClientModule extends HttpClientModule {</p>
<blockquote>
<div><p>override val dest = “flag!mydest”
override val sslHostname = Some(“sslHost”)</p>
</div></blockquote>
<p>}</p>
<p><a href="#id107"><span class="problematic" id="id108">``</span></a><a href="#id109"><span class="problematic" id="id110">`</span></a></p>
<p>becomes</p>
<p><a href="#id111"><span class="problematic" id="id112">``</span></a>`
class MyHttpClientModule extends HttpClientModuleTrait {</p>
<blockquote>
<div><p>override val dest = “flag!mydest”
override val label = “myhttpclient”
val sslHostname = “sslHost”</p>
<p>// we only override in this example for TLS configuration with the <cite>sslHostname</cite>
override def configureClient(</p>
<blockquote>
<div><p>injector: Injector,
client: Http.Client</p>
</div></blockquote>
<p>): Http.Client = client.withTls(sslHostname)</p>
<p>&#64;Singleton
&#64;Provides
final def provideHttpClient(</p>
<blockquote>
<div><p>injector: Injector,
statsReceiver: StatsReceiver,
mapper: FinatraObjectMapper</p>
</div></blockquote>
<p>): HttpClient = newHttpClient(injector, statsReceiver, mapper)</p>
<p>// Note that <cite>provideHttpClient</cite> no longer needs an injected <cite>Service[Request, Response]</cite> so
// the following is only needed if you require a <cite>Service[Request, Response]</cite> elsewhere:</p>
<p>&#64;Singleton
&#64;Provides
final def provideHttpService(</p>
<blockquote>
<div><p>injector: Injector,
statsReceiver: StatsReceiver</p>
</div></blockquote>
<p>): Service[Request, Response] = newService(injector, statsReceiver)</p>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="id113">
<h2>19.6.0<a class="headerlink" href="#id113" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id114">
<h3>Added<a class="headerlink" href="#id114" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-modules: Introduce a <cite>StackClientModuleTrait</cite> to aid in configuring modules for generic
Finagle Stack Clients. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D324891</span></code></li>
<li>finatra-http: Add <cite>c.t.inject.server.InMemoryStatsReceiverUtility</cite> which allows for testing
assertions on metrics captured within an embedded server’s <cite>InMemoryStatsReceiver</cite>. Update the
Kafka tests and utilities to use the <cite>InMemoryStatsReceiverUtility</cite> and mark the
<cite>c.t.finatra.kafka.test.utilsInMemoryStatsUtil</cite> as deprecated. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D316806</span></code></li>
</ul>
</div>
<div class="section" id="id115">
<h3>Changed<a class="headerlink" href="#id115" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Removed deprecated <cite>response_size</cite> stat from <cite>c.t.finatra.http.filters.StatsFilter</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D328254</span></code></li>
<li>finatra-kafka: Update finatra exported metrics to contains KafkaMetrics ‘rocksdb-window-state-id’.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D326320</span></code></li>
<li>finatra-kafka: Deprecate in <cite>c.t.finatra.kafka.consumers.FinagleKafkaConsumer</cite>.
Add <cite>c.t.finatra.kafka.consumers.FinagleKafkaConsumer.buildClient</cite> and
<cite>c.t.finatra.kafka.producters.FinagleKafkaProducer.buildClient</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D321699</span></code></li>
</ul>
</div>
<div class="section" id="id116">
<h3>Fixed<a class="headerlink" href="#id116" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Add an explicit dependency on <cite>com.sun.activation</cite> to allow for using
Finatra with JDK 11. This fixes #484. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D328724</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id117">
<h2>19.5.1<a class="headerlink" href="#id117" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id118">
<h3>Fixed<a class="headerlink" href="#id118" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: The added <cite>c.t.finatra.http.RouteHint</cite> was missing from the test-jar sources and has
been added. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D317282</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id119">
<h2>19.5.0<a class="headerlink" href="#id119" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id120">
<h3>Added<a class="headerlink" href="#id120" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server/http/thrift: Allow users to specify a <cite>StatsReceiver</cite> implementation to use in the
underlying <cite>EmbeddedTwitterServer</cite> instead of always providing an <cite>InMemoryStatsReceiver</cite>
implementation. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D315440</span></code></li>
<li>finatra-http: Add ability for Java HTTP Controllers to use the RouteDSL for per-route filtering
and for route prefixing. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D311625</span></code></li>
<li>inject-request-scope: Add a <cite>Filter.TypeAgnostic</cite> implementation for the <cite>FinagleRequestScopeFilter</cite>
for better compatibility with Thrift servers. Update the <cite>FinagleRequestScope</cite> to make more idiomatic
use of <cite>Context</cite> locals. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D310395</span></code></li>
<li>finatra-http: Route params are now URL-decoded automatically. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D309144</span></code></li>
<li>finatra-jackson: Add ability to bypass case class validation using the
<cite>NullValidationFinatraJacksonModule</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D307795</span></code></li>
<li>inject-app: Add <cite>c.t.inject.app.DtabResolution</cite> to help users apply supplemental Dtabs added by
setting the dtab.add flag. This will append the supplemental Dtabs to the
Dtab.base in a premain function. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D303813</span></code></li>
</ul>
</div>
<div class="section" id="id121">
<h3>Changed<a class="headerlink" href="#id121" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Move when admin routes are added to the AdminHttpServer to the <cite>postInjectorStartup</cite>
phase, such that any admin routes are available to be hit during server warmup. Simplify <cite>HttpWarmup</cite>
utility to make it clear that it can and should only be used for sending requests to endpoints added
to the server’s configured <cite>HttpRouter</cite>. The <cite>forceRouteToAdminHttpMuxers</cite> param has been renamed
to <cite>admin</cite> to signal that the request should be sent to the <cite>HttpRouter#adminRoutingService</cite> instead
of the <cite>HttpRouter#externalRoutingService</cite>. Routing to TwitterServer HTTP Admin Interface via this
utility never worked properly and the (broken) support has been dropped. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D314152</span></code></li>
<li>finatra-kafka: Update <cite>com.twitter.finatra.kafka.test.KafkaTopic</cite>, and
<cite>com.twitter.finatra.kafka.test.utils.PollUtils</cite> methods to take
<cite>com.twitter.util.Duration</cite> instead of <cite>org.joda.time.Duration</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D314958</span></code></li>
<li>finatra: Removed Commons IO as a dependency. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D314606</span></code></li>
<li>finatra-http: <cite>com.twitter.finatra.http.EmbeddedHttpServer</cite> methods which previously used the
<cite>routeToAdminServer</cite> parameter have been changed to use a <cite>RouteHint</cite> instead for added
flexibility in controlling where a test request is sent. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D313984</span></code></li>
<li>finatra-inject: Feature tests no longer default to printing metrics after tests.
This can be enabled on a per-test basis by overriding <cite>FeatureTestMixin.printStats</cite>
and setting it to <cite>true</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D314329</span></code></li>
<li>finatra-inject: Update <cite>com.twitter.inject.utils.RetryPolicyUtils</cite>,
<cite>com.twitter.inject.thrift.modules.FilteredThriftClientModule</cite>,  and
<cite>com.twitter.inject.thrift.filters.ThriftClientFilterChain</cite> methods to take
<cite>com.twitter.util.Duration</cite> instead of <cite>org.joda.time.Duration</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D313153</span></code></li>
<li>finatra: Fix Commons FileUpload vulnerability. Update <cite>org.apache.commons-fileupload</cite> from version
1.3.1 to version 1.4. This closes #PR-497. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D310470</span></code></li>
<li>finatra-http: Replace all usages of guava’s <cite>com.google.common.net.MediaType</cite> with <cite>String</cite>.
You can migrate by calling <cite>MediaType#toString</cite> everywhere you passed a <cite>MediaType</cite> before.  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D308761</span></code></li>
<li>finatra-http: Add <cite>http</cite> scope to <cite>shutdown.time</cite> flag, making it <cite>http.shutdown.time</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D307552</span></code></li>
<li>finatra-http: Remove deprecated <cite>DefaultExceptionMapper</cite>. Extend
<cite>c.t.finatra.http.exceptions.ExceptionMapper[Throwable]</cite> directly instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D307520</span></code></li>
<li>inject-app: Move override of <cite>com.twitter.app.App#failfastOnFlagsNotParsed</cite> up from
<cite>c.t.inject.server.TwitterServer</cite> to <cite>com.twitter.inject.app.App</cite> such that all Finatra-based
applications default to this behavior. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D307858</span></code></li>
<li>inject-app|server: change capturing of flag ordering from Modules for adding to the App’s <cite>c.t.app.Flags</cite>
instance to match the semantics of directly calling <cite>c.t.app.Flags#add</cite>. Prefer <cite>AtomicBoolean</cite>
instances over where we currently use mutable <cite>Boolean</cite> instances in <cite>c.t.inject.app.App</cite>, <cite>c.t.inject.app.TestInjector</cite>,
and <cite>c.t.inject.server.EmbeddedTwitterServer</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D306897</span></code></li>
<li>finatra-examples: Update “twitter-clone” example to use <cite>Dtabs</cite> instead of the deprecated <cite>resolverMap</cite>.
Move the “hello-world” example to “http-server”. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D303813</span></code></li>
</ul>
</div>
<div class="section" id="id122">
<h3>Fixed<a class="headerlink" href="#id122" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: Properly account for timezone in Joda <cite>DateTime</cite> deserialization. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D312027</span></code></li>
</ul>
<blockquote>
<div><ul class="simple">
<li>finatra-http: <cite>EmbeddedHttpServer</cite>’s <cite>httpGetJson</cite> method now properly passes
all parameters through to the underlying client call. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D312151</span></code></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id123">
<h3>Closed<a class="headerlink" href="#id123" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id124">
<h2>19.4.0<a class="headerlink" href="#id124" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id125">
<h3>Added<a class="headerlink" href="#id125" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Add <cite>globalFlags</cite> argument to EmbeddedTwitterServer, which will
allow for scoping a <cite>c.t.a.GlobalFlag</cite> property change to the lifecycle of the
underlying TwitterServer, as a <cite>c.t.a.GlobalFlag</cite> is normally scoped to the JVM/process.
This change is also reflected in <cite>EmbeddedHttpServer</cite> and <cite>EmbeddedThriftServer</cite> constructors.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D288032</span></code></li>
<li>inject-utils: add <cite>toOrderedMap</cite> implicit conversion for <cite>java.util.Map</cite> <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D295005</span></code></li>
<li>finatra-kafka-streams: Add flag <cite>rocksdb.manifest.preallocation.size</cite> with default value
<cite>4.megabytes</cite> to <cite>c.t.f.k.c.RocksDbFlags</cite> and set value in
<cite>c.t.f.k.c.FinatraRocksDBConfig</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D290130</span></code></li>
<li>finatra-http: Add <cite>commaSeparatedList</cite> boolean parameter to QueryParams, for
parsing comma-separated query parameters into collection types. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D268989</span></code></li>
</ul>
</div>
<div class="section" id="id126">
<h3>Changed<a class="headerlink" href="#id126" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Update snakeyaml to version 1.24. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D232547</span></code></li>
<li>finatra-kafka: Upgraded kafka libraries from 2.0.0 to 2.2.0.
- <a class="reference external" href="https://archive.apache.org/dist/kafka/2.0.1/RELEASE_NOTES.html">Kafka 2.0.1 Release Notes</a>
- <a class="reference external" href="https://archive.apache.org/dist/kafka/2.1.0/RELEASE_NOTES.html">Kafka 2.1.0 Release Notes</a>
- <a class="reference external" href="https://archive.apache.org/dist/kafka/2.1.1/RELEASE_NOTES.html">Kafka 2.1.1 Release Notes</a>
- <a class="reference external" href="https://archive.apache.org/dist/kafka/2.2.0/RELEASE_NOTES.html">Kafka 2.2.0 Release Notes</a>
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D248171</span></code></li>
<li>finatra-thrift: Removed <cite>c.t.finatra.thrift.exceptions.FinatraThriftExceptionMapper</cite>,
<cite>c.t.finatra.thrift.filters.ClientIdAcceptlistFilter</cite>,
<cite>c.t.finatra.thrift.modules.ClientIdAcceptlistModule</cite>,
<cite>c.t.finatra.thrift.filters.ClientIdWhitelistFilter</cite>,
<cite>c.t.finatra.thrift.modules.ClientIdWhitelistModule</cite>,
and the <cite>finatra/finatra_thrift_exceptions.thrift</cite> IDL. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D278231</span></code></li>
<li>finatra-thrift: Constructing a <cite>ThriftRouter</cite> now requires <cite>serverName</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D294345</span></code></li>
<li>finatra-examples: Updated <cite>StreamingController</cite> to use <cite>Reader</cite> instead of <cite>AsyncStream</cite>
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D295227</span></code></li>
<li>finatra-kafka-streams: Implement FinatraKeyValueStore as custom store. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D277612</span></code></li>
<li>finatra-thrift: Constructing a <cite>ThriftRouter</cite> now requires <cite>c.t.f.StackTransformer</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D277493</span></code></li>
</ul>
</div>
<div class="section" id="id127">
<h3>Fixed<a class="headerlink" href="#id127" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>finatra-kafka: Ensure that <cite>EmbeddedKafka</cite> implementation of <cite>beforeAll()</cite> makes
call to <cite>super.beforeAll()</cite> so hooks registered in super class get executed. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D296643</span></code></li>
<li>finatra-kafka-streams: <cite>FinatraTransformer.timerStore</cite> config object references immutable
map which causes exception thrown if user code calls <cite>AbstractStoreBuilder.withLoggingDisabled</cite>.
Fixed <cite>FinatraTransformer.timerStore</cite> to convert from immutable map to mutable map before
forwarding config object to kafka library. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D293979</span></code></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="id128">
<h2>19.3.0<a class="headerlink" href="#id128" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id129">
<h3>Added<a class="headerlink" href="#id129" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Exposing additional consumer configuration flags.
- <cite>kafka.consumer.max.poll.interval.ms</cite> Maximum delay between invocations of poll() when using
consumer group management.
- <cite>kafka.consumer.max.partition.fetch.bytes</cite> Consumer’s maximum amount of data per-partition the
server will return.
- <cite>kafka.consumer.request.timeout.ms</cite> Consumer’s maximum amount of time to wait for the response
of a request.
- <cite>kafka.consumer.connections.max.idle.ms</cite> Consumer’s maximum idle time for connections before
closing the connection.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D287371</span></code></li>
<li>finatra-kafka: FinagleKafka clients pass correct deadline for close to
underlying Kafka clients. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D261115</span></code></li>
<li>finatra-kafka-streams: (BREAKING API CHANGE) Create flags for common consumer and producer
configs. KafkaFlagUtils#kafkaDocumentation and getKafkaDefault are no longer public methods.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D277044</span></code></li>
<li>finatra-kafka: Added support to fetch end offset for a given partition. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D283813</span></code></li>
<li>finatra-http: Added <cite>HttpServerTrait</cite> which allows for a simple way to serve a
Finagle <cite>Service[Request, Response]</cite> on an external interface without the need to
configure the Finatra <cite>HttpRouter</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D280896</span></code></li>
<li>finatra-http: Added support to serve <cite>c.t.io.Reader</cite> as a streaming request.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D278988</span></code></li>
</ul>
</div>
<div class="section" id="id130">
<h3>Changed<a class="headerlink" href="#id130" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: finatra-kafka-streams: Refactor queryable state management  <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D277594</span></code></li>
<li>finatra-kafka-streams: Improve querying of windowed stores. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D277553</span></code></li>
<li>inject-utils: Mark <cite>c.t.inject.utils.StringUtils#snakify,camelify,pascalify</cite> as
deprecated as their implementations have moved to util/util-core <cite>c.t.conversions.StringOps</cite>.
Encourage users to switch usages to <cite>c.t.conversions.StringOps#toSnakeCase,toCamelCase,toPascalCase</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D280886</span></code></li>
<li>finatra-thrift: Changed <cite>c.t.finatra.thrift.ThriftServerTrait#service</cite> to <cite>#thriftService</cite> to
not collide with the serving of a Finagle service from the <cite>HttpServer</cite> when a server extends
both <cite>HttpServer</cite> and <cite>ThriftServer</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D280896</span></code></li>
</ul>
</div>
<div class="section" id="id131">
<h3>Fixed<a class="headerlink" href="#id131" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id132">
<h3>Closed<a class="headerlink" href="#id132" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id133">
<h2>19.2.0<a class="headerlink" href="#id133" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id134">
<h3>Added<a class="headerlink" href="#id134" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka: Expose timeout duration in FinagleKafkaConsumerBuilder dest(). <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D269701</span></code></li>
<li>finatra-kafka-streams: Expose all existing RocksDb configurations. See
<cite>c.t.f.k.config.FinatraRocksDBConfig</cite> for details on flag names,
descriptions and default values. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D272068</span></code></li>
<li>finatra-kafka-streams: Added two RocksDB flags related to block cache tuning,
<cite>cache_index_and_filter_blocks</cite> and <cite>pin_l0_filter_and_index_blocks_in_cache</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D269516</span></code></li>
<li>finatra-kafka: Adding an implicit implementation of
<cite>c.t.app.Flaggable[c.t.finatra.kafka.domain.SeekStrategy]</cite>
and <cite>c.t.app.Flaggable[org.apache.kafka.clients.consumer.OffsetResetStrategy]</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D271098</span></code></li>
<li>finatra-http: Added support to serve <cite>c.t.io.Reader</cite> as a streaming response in
<cite>c.t.finatra.http.internal.marshalling.CallbackConverter</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D266863</span></code></li>
<li>finatra-kafka: Expose endOffsets() in FinagleKafkaConsumer. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D263573</span></code></li>
<li>finatra-kafka-streams: Adding missing ScalaDocs. Adding metric for elapsed state
restore time. RocksDB configuration now contains a flag for adjusting the number
of cache shard bits, <cite>rocksdb.block.cache.shard.bits</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D255771</span></code></li>
<li>finatra-jackson: Added &#64;Pattern annotation to support finatra/jackson for regex pattern
validation on string values. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D259719</span></code></li>
</ul>
</div>
<div class="section" id="id135">
<h3>Changed<a class="headerlink" href="#id135" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-kafka-streams: Refactor package names. All classes moved from
com.twitter.finatra.streams to com.twitter.finatra.kafkastreams. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D268027</span></code></p>
</li>
<li><p class="first">finatra-kafka-streams: Delete deprecated and unused classes. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D267921</span></code></p>
</li>
<li><dl class="first docutils">
<dt>finatra-kafka-streams: <cite>c.t.finatra.streams.transformer.domain.Time</cite> is now the canonical</dt>
<dd><p class="first last">representation of time for watermarks and timers. <cite>RichLong</cite> implicit from
<cite>com.twitter.finatra.streams.converters.time</cite> has been renamed to <cite>RichFinatraKafkaStreamsLong</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D255736</span></code></p>
</dd>
</dl>
</li>
<li><p class="first">finatra-jackson: Fix <cite>CaseClassField</cite> annotation reflection for Scala 2.12. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D264423</span></code></p>
</li>
<li><p class="first">finatra-kafka-streams: Combine FinatraTransformer with FinatraTransformerV2. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D254411</span></code></p>
</li>
<li><p class="first">finatra-thrift: The return type of <cite>ReqRepDarkTrafficFilterModule#newFilter</cite> has been changed from
<cite>DarkTrafficFilter[MethodIface]</cite> to <cite>Filter.TypeAgnostic</cite>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D261868</span></code></p>
</li>
<li><p class="first">finatra-kafka: Add lookupBootstrapServers function that takes timeout as a parameter.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D256997</span></code></p>
</li>
<li><p class="first">finatra-thrift: If a Controller is not configured with exactly one endpoint
per method, it will throw an AssertionError instead of logging an error message.
An attempt to use non-legacy functionality with a legacy Controller will throw
an AssertionError. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D260230</span></code></p>
</li>
<li><p class="first">finatra-kafka: Add flags for controlling rocksdb internal LOG file growth.
- <cite>rocksdb.log.info.level</cite> Allows the setting of rocks log levels</p>
<blockquote>
<div><p><cite>DEBUG_LEVEL</cite>, <cite>INFO_LEVEL</cite>, <cite>WARN_LEVEL</cite>, <cite>ERROR_LEVEL</cite>, <cite>FATAL_LEVEL</cite>,
<cite>HEADER_LEVEL</cite>.</p>
</div></blockquote>
<ul class="simple">
<li><cite>rocksdb.log.max.file.size</cite> The maximal size of the info log file.</li>
<li><cite>rocksdb.log.keep.file.num</cite> Maximal info log files to be kept.</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D259579</span></code></p>
</li>
<li><p class="first">finatra-kafka: Add admin routes for properties and topology information
- <cite>/admin/kafka/streams/properties</cite> Dumps the</p>
<blockquote>
<div><p><cite>KafkaStreamsTwitterServer#properties</cite> as plain text in the TwitterServer
admin page.</p>
</div></blockquote>
<ul class="simple">
<li><cite>/admin/kafka/streams/topology</cite> Dumps the
<cite>KafkaStreamsTwitterServer#topology</cite> as plain text in the TwitterServer
admin page.</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D259597</span></code></p>
</li>
<li><p class="first">inject-server: EmbeddedTwitterServer that fails to start will now continue to
throw the startup failure on calls to methods that require a successfully started server.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D265543</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id136">
<h3>Fixed<a class="headerlink" href="#id136" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-kafka-streams: <cite>FinatraTopologyTester</cite> did not set
<cite>TopologyTestDriver#initialWallClockTimeMs</cite> on initialization causing diverging wall clock time
when <cite>TopologyTestDriver#advanceWallClockTime</cite> advanced time. The divergence was between
system time set by <cite>org.joda.time.DateTimeUtils.setCurrentMillisFixed</cite> and internal mock timer
<cite>TopologyTestDriver#mockWallClockTime</cite>. <cite>FinatraTopologyTester.inMemoryStatsReceiver</cite> is reset on
<cite>TopologyFeatureTest#beforeEach</cite> for all test that extend <cite>TopologyFeatureTest</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D269013</span></code></p>
</li>
<li><p class="first">finatra-kafka-streams: Improve watermark assignment/propagation upon reading the first
message and when caching key value stores are used. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D262054</span></code></p>
</li>
<li><p class="first">finatra-jackson: Support inherited annotations in case class deserialization. Case class
deserialization support does not properly find inherited Jackson annotations. This means
that code like this:</p>
<p><a href="#id137"><span class="problematic" id="id138">``</span></a>`
trait MyTrait {</p>
<blockquote>
<div><p>&#64;JsonProperty(“differentName”)
def name: String</p>
</div></blockquote>
<p>}
case class MyCaseClass(name: String) extends MyTrait
<a href="#id139"><span class="problematic" id="id140">``</span></a><a href="#id141"><span class="problematic" id="id142">`</span></a></p>
<p>would not properly expect an incoming field with name <cite>differentName</cite> to parse into the
case class <cite>name</cite> field. This commit provides support for capturing inherited annotations
on case class fields. Annotations processed in order, thus if the same annotation appears
in the class hierarchy multiple times, the value configured on the class will win otherwise
will be in the order of trait linearization with the “last” declaration prevailing.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D260376</span></code></p>
</li>
<li><p class="first">finatra: Remove extraneous dependency on old <cite>javax.servlet</cite> ServletAPI dependency.
The fixes #478. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D259671</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id143">
<h3>Closed<a class="headerlink" href="#id143" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id144">
<h2>19.1.0<a class="headerlink" href="#id144" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id145">
<h3>Added<a class="headerlink" href="#id145" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-kafka-streams: SumAggregator and CompositeSumAggregator only support enhanced window
aggregations for the sum operation. Deprecate SumAggregator and CompositeSumAggregator and create
an AggregatorTransformer class that can perform arbitrary aggregations. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D257138</span></code></p>
</li>
<li><p class="first">finatra-streams: Open-source Finatra Streams. Finatra Streams is an integration
between Kafka Streams and Finatra which we’ve been using internally at Twitter
for the last year. The library is not currently open-source.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D248408</span></code></p>
</li>
<li><p class="first">inject-server: Add lint rule to alert when deprecated <cite>util-logging</cite> JUL flags from the
<cite>c.t.inject.server.DeprecatedLogging</cite> trait are user defined. This trait was mixed-in
only for backwards compatibility when TwitterServer was moved to the slf4j-api and the flags are
not expected to be configured. By default, <cite>util-app</cite> based applications will fail to start if
they are passed a flag value at startup which they do not define. Users should instead configure
their chosen slf4j-api logging implementation directly. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D256489</span></code></p>
</li>
<li><p class="first">finatra-thrift: <cite>c.t.finatra.thrift.Controllers</cite> now support per-method filtering and
access to headers via <cite>c.t.scrooge.{Request, Response}</cite> wrappers. To use this new
functionality, create a <cite>Controller</cite> which extends the
<cite>c.t.finatra.thrift.Controller(SomeThriftService)</cite> abstract class instead of constructing a
Controller that mixes in the <cite>SomeThriftService.BaseServiceIface</cite> trait. With this, you can now
provide implementations in form of <cite>c.t.scrooge.Request</cite>/<cite>c.t.scrooge.Response</cite> wrappers by calling
the <cite>handle(ThriftMethod)</cite> method. Note that a <cite>Controller</cite> constructed this way cannot also
extend a <cite>BaseServiceIface</cite>.</p>
<blockquote>
<div><dl class="docutils">
<dt>handle(SomeMethod).filtered(someFilter).withFn { req: Request[SomeMethod.Args] =&gt;</dt>
<dd><p class="first">val requestHeaders = req.headers
// .. implementation here</p>
<p class="last">// response: Future[Response[SomeMethod.SuccessType]]</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>Note that if <cite>Request</cite>/<cite>Response</cite> based implementations are used the types on any
existing <cite>ExceptionMappers</cite> should be adjusted accordingly. Also, if a <cite>DarkTrafficFilterModule</cite>
was previously used, it must be swapped out for a <cite>ReqRepDarkTrafficFilterModule</cite>
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D236724</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id146">
<h3>Changed<a class="headerlink" href="#id146" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">inject-core, inject-server: Remove deprecated <cite>&#64;Bind</cite> support from test mixins. Users should
instead prefer using the <a class="reference external" href="https://twitter.github.io/finatra/user-guide/testing/bind_dsl.html">bind[T]</a>
DSL in tests. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D250325</span></code></p>
</li>
<li><p class="first">inject-app: Remove deprecated <cite>bind[T]</cite> DSL methods from <cite>c.t.inject.app.BindDSL</cite>.</p>
<p>Instead of:</p>
<div class="code scala highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">injector</span><span class="o">.</span><span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">](</span><span class="n">instance</span><span class="o">)</span>
<span class="n">injector</span><span class="o">.</span><span class="n">bind</span><span class="o">[</span><span class="kt">T</span>, <span class="kt">Ann</span><span class="o">](</span><span class="n">instance</span><span class="o">)</span>
<span class="n">injector</span><span class="o">.</span><span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">](</span><span class="n">ann</span><span class="o">,</span> <span class="n">instance</span><span class="o">)</span>
</pre></div>
</div>
<p>Users should instead use the more expressive forms of these methods, e.g.,:</p>
<div class="code scala highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">injector</span><span class="o">.</span><span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">toInstance</span><span class="o">(</span><span class="n">instance</span><span class="o">)</span>
<span class="n">injector</span><span class="o">.</span><span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Ann</span><span class="o">].</span><span class="n">toInstance</span><span class="o">(</span><span class="n">instance</span><span class="o">)</span>
<span class="n">injector</span><span class="o">.</span><span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">(</span><span class="n">ann</span><span class="o">).</span><span class="n">toInstance</span><span class="o">(</span><span class="n">instance</span><span class="o">)</span>
</pre></div>
</div>
<p>which more closely mirrors the scala-guice binding DSL. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D255591</span></code></p>
</li>
<li><p class="first">finatra-thrift: For services that wish to support dark traffic over
<cite>c.t.scrooge.Request</cite>/<cite>c.t.scrooge.Response</cite>-based services, a new dark traffic module is
available: <cite>c.t.finatra.thrift.modules.ReqRepDarkTrafficFilterModule</cite> <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D236724</span></code></p>
</li>
<li><p class="first">finatra-thrift: Creating a <cite>c.t.finatra.thrift.Controller</cite> that extends a
<cite>ThriftService.BaseServiceIface</cite> has been deprecated. See the related bullet point in “Added” with
the corresponding PHAB_ID to this one for how to migrate. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D236724</span></code></p>
</li>
<li><p class="first">inject-core, inject-server: Remove deprecated <cite>WordSpec</cite> testing utilities. The framework
default ScalaTest testing style is <cite>FunSuite</cite> though users are free to mix their testing
style of choice with the framework provided test mixins as per the
<a class="reference external" href="https://twitter.github.io/finatra/user-guide/testing/mixins.html">documentation</a>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D255094</span></code></p>
</li>
<li><p class="first">finatra-thrift: Instead of failing (potentially silently)
<cite>c.t.finatra.thrift.routing.ThriftWarmup</cite> now explicitly checks that it is
using a properly configured <cite>c.t.finatra.thrift.routing.Router</cite> <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D253603</span></code></p>
</li>
<li><p class="first">finatra-inject: <cite>c.t.finatra.inject.server.PortUtils</cite> has been modified to
work with <cite>c.t.f.ListeningServer</cite> only. Methods which worked with the
now-removed <cite>c.t.f.b.Server</cite> have been modified or removed.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D254339</span></code></p>
</li>
<li><p class="first">finatra-kafka-streams: Finatra Queryable State methods currently require the window size
to be passed into query methods for windowed key value stores. This is unnecessary, as
the queryable state class can be passed the window size at construction time. We also now
save off all FinatraKeyValueStores in a global manager class to allow query services
(e.g. thrift) to access the same KeyValueStore implementation that the FinatraTransformer
is using. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D256920</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id147">
<h3>Fixed<a class="headerlink" href="#id147" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-kafka-streams: Fix bug where KeyValueStore#isOpen was throwing an
exception when called on an uninitialized key value store
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D257635</span></code></li>
</ul>
</div>
<div class="section" id="id148">
<h3>Closed<a class="headerlink" href="#id148" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id149">
<h2>18.12.0<a class="headerlink" href="#id149" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id150">
<h3>Added<a class="headerlink" href="#id150" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id151">
<h3>Changed<a class="headerlink" href="#id151" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-thrift: <cite>c.t.finatra.thrift.Controller</cite> is now an abstract class
rather than a trait. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D251314</span></code></p>
</li>
<li><p class="first">finatra-thrift: <cite>c.t.finatra.thrift.internal.ThriftMethodService</cite> is now
private. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D251186</span></code></p>
</li>
<li><p class="first">finatra-thrift: <cite>c.t.finatra.thrift.exceptions.FinatraThriftExceptionMapper</cite> and
<cite>c.t.finatra.thrift.exceptions.FinatraJavaThriftExceptionMapper</cite> now extend
<cite>ExceptionManager[Throwable, Nothing]</cite> since the return type was never used. They are
now also final. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D249011</span></code></p>
</li>
<li><p class="first">finatra-thrift: Remove <cite>c.t.finatra.thrift.routing.JavaThriftRouter#beforeFilter</cite>. This method
adds too much confusion to the Router API and users are encouraged to instead apply their
TypeAgnostic Filters directly to the resultant <cite>Service[-R, +R]</cite>  by overriding the
<cite>c.t.finatra.thrift.AbstractThriftServer#configureService</cite> method instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D245424</span></code></p>
</li>
<li><p class="first">finatra-thrift: <cite>c.t.finagle.Filter.TypeAgnostic</cite> filters are now the standard type of filter
that can be added by configuring a <cite>ThriftRouter</cite>. <cite>c.t.finatra.thrift.ThriftFilter</cite> has been
deprecated. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D238666</span></code></p>
</li>
<li><p class="first">finatra-thrift: <cite>c.t.finatra.thrift.ThriftRequest</cite> has been deprecated. All of the information
contained in a ThriftRequest can be found in other ways:</p>
<blockquote>
<div><p><cite>methodName</cite> -&gt; <cite>Method.current.get.name</cite>
<cite>traceId</cite>    -&gt; <cite>Trace.id</cite>
<cite>clientId</cite>   -&gt; <cite>ClientId.current</cite></p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D238666</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id152">
<h3>Fixed<a class="headerlink" href="#id152" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Validate headers to prevent header injection vulnerability. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D246889</span></code></li>
</ul>
</div>
<div class="section" id="id153">
<h3>Closed<a class="headerlink" href="#id153" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id154">
<h2>18.11.0<a class="headerlink" href="#id154" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id155">
<h3>Added<a class="headerlink" href="#id155" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id156">
<h3>Changed<a class="headerlink" href="#id156" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Fixes and improvements for better Java support. ExceptionMappingFilter now
works properly with generated Java controllers, added an exception mapper for the exceptions
defined in <cite>finatra_thrift_exceptions.thrift</cite> which works on the geneated Java code for these
exceptions. Better Java API separation to make usage less error prone and confusing.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D237483</span></code></li>
<li>finatra-thrift: (BREAKING API CHANGE) Update <cite>DarkTrafficFilter#handleFailedInvocation</cite> to accept
the request type for more fidelity in handling the failure. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D237484</span></code></li>
<li>finatra-http: Move <cite>request.ContentType</cite> and <cite>response.Mustache</cite> Java annotations to
<cite>com.twitter.finatra.http</cite> package namespace. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D237485</span></code></li>
<li>finatra-jackson: Move away from deprecated code and update error handling and exceptions post
Jackson 2.9.x upgrade. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D229601</span></code></li>
<li>inject-core: (BREAKING API CHANGE) Remove <cite>c.t.inject.TestMixin#sleep</cite>. We do not want to
promote this usage of Thread blocking in testing utilities. Add a new testing function:
<cite>c.t.inject.TestMixin#await</cite> which will perform <cite>Await.result</cite> on a given <cite>c.t.util.Awaitable</cite>.
This function was duplicated across tests in the codebase. We also introduce an overridable default
timeout on the underlying <cite>Await.result</cite> call: <cite>c.t.inject.TestMixin#defaultAwaitTimeout</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D231717</span></code></li>
</ul>
</div>
<div class="section" id="id157">
<h3>Fixed<a class="headerlink" href="#id157" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Fix registration of HTTP Routes in the Library registry to properly account
for Routes that duplicate a URI with a different HTTP verb. That is, a Route should be considered
unique per URI + HTTP verb combination. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D232014</span></code></li>
</ul>
</div>
<div class="section" id="id158">
<h3>Closed<a class="headerlink" href="#id158" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id159">
<h2>18.10.0<a class="headerlink" href="#id159" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id160">
<h3>Added<a class="headerlink" href="#id160" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id161">
<h3>Changed<a class="headerlink" href="#id161" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra-http, finatra-thrift: Make HTTP and Thrift StatsFilters “Response Classification”
aware. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D219116</span></code></p>
</li>
<li><p class="first">finatra-http, finatra-thrift: (BREAKING API CHANGE) Update the <cite>DarkTrafficFilterModule</cite> in
both HTTP and Thrift to allow for specifying further configuration of the underlying Finagle client.
This allows users the ability to set Finagle client concerns like ResponseClassification or other
configuration not expressed by the DarkTrafficFilterModule’s API.</p>
<p>Additionally, the Thrift <cite>DarkTrafficFilterModule</cite> has been updated to be ThriftMux only.
For more information on mux see: <a class="reference external" href="https://twitter.github.io/finagle/guide/FAQ.html?highlight=thriftmux#what-is-thriftmux">What is ThriftMux</a>.</p>
<p>We also update the <cite>enableSampling</cite> method to accept a <cite>c.t.inject.Injector</cite> to aid in the
decision-making for if a given request should be “sampled” by the filter. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D225897</span></code></p>
</li>
<li><p class="first">finatra-thrift: (BREAKING API CHANGE) Update <cite>c.t.finatra.thrift.routing.ThriftRouter</cite> API for
adding Java Thrift controllers. The <cite>service: Class[_]</cite> was rendered unnecessary some time ago
but not removed from the API signature. Because this parameter is useless and it shadows
another variable inside of the code we remove it from the signature altogether rather than
deprecating the API. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D224336</span></code></p>
</li>
<li><p class="first">finatra-thrift: Rename <cite>defaultFinatraThriftPort</cite> to <cite>defaultThriftPort</cite>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D224735</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id162">
<h3>Fixed<a class="headerlink" href="#id162" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Set the bound <cite>StatsReceiver</cite> in the underlying Finagle <cite>ThriftMux</cite> server
in the <cite>c.t.finatra.thrift.ThriftServer</cite>. This prevented testing of underlying Finagle server
stats as the <cite>InMemoryStatsReceiver</cite> used by the <cite>EmbeddedThriftServer</cite> was not properly passed
all the way through the stack. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D228494</span></code></li>
</ul>
</div>
<div class="section" id="id163">
<h3>Closed<a class="headerlink" href="#id163" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id164">
<h2>18.9.1<a class="headerlink" href="#id164" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id165">
<h3>Added<a class="headerlink" href="#id165" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id166">
<h3>Changed<a class="headerlink" href="#id166" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Allow java classes to extend ThriftFilter via AbstractThriftFilter.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D221534</span></code></li>
<li>http/thrift: Update Library registry route information to include controller
class name. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D216425</span></code></li>
</ul>
</div>
<div class="section" id="id167">
<h3>Fixed<a class="headerlink" href="#id167" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id168">
<h3>Closed<a class="headerlink" href="#id168" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id169">
<h2>18.9.0<a class="headerlink" href="#id169" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id170">
<h3>Added<a class="headerlink" href="#id170" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id171">
<h3>Changed<a class="headerlink" href="#id171" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: Remove unnecessary Await.result Future.Value in TestMixin. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D208995</span></code></li>
<li>finatra-http: (BREAKING API CHANGE) <code class="docutils literal notranslate"><span class="pre">c.t.io.Reader</span></code> and <code class="docutils literal notranslate"><span class="pre">c.t.io.Writer</span></code> are now abstracted
over the type they produce/consume (<code class="docutils literal notranslate"><span class="pre">Reader[A]</span></code> and <code class="docutils literal notranslate"><span class="pre">Writer[A]</span></code>) and are no longer fixed to
<code class="docutils literal notranslate"><span class="pre">Buf</span></code>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D195638</span></code></li>
</ul>
</div>
<div class="section" id="id172">
<h3>Fixed<a class="headerlink" href="#id172" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id173">
<h3>Closed<a class="headerlink" href="#id173" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id174">
<h2>18.8.0<a class="headerlink" href="#id174" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id175">
<h3>Added<a class="headerlink" href="#id175" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id176">
<h3>Changed<a class="headerlink" href="#id176" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: (BREAKING API CHANGE) Typical TLS Configuration for an HTTPS server has been
moved into a trait, <code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.Tls</span></code> which also defines the relevant flags (and
overridable defaults) for specifying the SSL cert and key paths. Users can choose to mix this
trait into their <code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.HttpServer</span></code> classes in order to specify an HTTPS server.
Users who wish to maintain the current HTTPS functionality SHOULD mix in the Tls trait to their
HttpServer: e.g., <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">FooService</span> <span class="pre">extends</span> <span class="pre">HttpServer</span> <span class="pre">with</span> <span class="pre">Tls</span> <span class="pre">{</span> <span class="pre">...</span>&#160;&#160; <span class="pre">}</span></code> Additionally, TLS
transport configuration for the underlying Finagle <code class="docutils literal notranslate"><span class="pre">c.t.finagle.Http.Server</span></code> is no longer
done by default when creating and running an HTTPS server. This is to allow for more flexible
configuration on the underlying <code class="docutils literal notranslate"><span class="pre">c.t.finagle.Http.Server</span></code> when setting up TLS. Thus it is
recommended that users ensure to either mix in the provided Tls trait or provide the correct
<code class="docutils literal notranslate"><span class="pre">c.t.finagle.Http.Server</span></code> transport configuration via the <code class="docutils literal notranslate"><span class="pre">configureHttpsServer</span></code> method.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D193579</span></code></li>
<li>finatra-http: Rename <code class="docutils literal notranslate"><span class="pre">defaultFinatraHttpPort</span></code> to <code class="docutils literal notranslate"><span class="pre">defaultHttpPort</span></code>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D193578</span></code></li>
<li>finatra-utils: Remove deprecated <code class="docutils literal notranslate"><span class="pre">c.t.f.utils.Handler</span></code>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D192288</span></code></li>
</ul>
</div>
<div class="section" id="id177">
<h3>Fixed<a class="headerlink" href="#id177" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id178">
<h3>Closed<a class="headerlink" href="#id178" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id179">
<h2>18.7.0<a class="headerlink" href="#id179" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id180">
<h3>Added<a class="headerlink" href="#id180" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-utils: Add ‘toLoggable’ implicit from Array[Byte] to String.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D182262</span></code></li>
</ul>
</div>
<div class="section" id="id181">
<h3>Changed<a class="headerlink" href="#id181" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id182">
<h3>Fixed<a class="headerlink" href="#id182" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Fix infinite loop introduced by <code class="docutils literal notranslate"><span class="pre">PHAB</span> <span class="pre">D180166</span></code>. Fix underlying issue of the
<code class="docutils literal notranslate"><span class="pre">ResponseBuilder</span></code> requiring a stored <code class="docutils literal notranslate"><span class="pre">RouteInfo</span></code> for classifying exceptions for stating.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D189504</span></code></li>
<li>finatra-http: Fix FailureExceptionMapper handling of wrapped exceptions. Unwrap cause for
all <code class="docutils literal notranslate"><span class="pre">c.t.finagle.Failure</span></code> exceptions, regardless of flags and add a try-catch to
<code class="docutils literal notranslate"><span class="pre">ExceptionManager</span></code> to remap exceptions thrown by <code class="docutils literal notranslate"><span class="pre">ExceptionMapper</span></code>s <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D180166</span></code></li>
<li>finatra-http: (BREAKING API CHANGE) Fix HttpResponseFilter to properly respect URI schema
during location header overwriting<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D191448</span></code></li>
</ul>
</div>
<div class="section" id="id183">
<h3>Closed<a class="headerlink" href="#id183" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id184">
<h2>18.6.0<a class="headerlink" href="#id184" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id185">
<h3>Added<a class="headerlink" href="#id185" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Add HTTP route, Thrift method, and Filter information to the Library registry.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D177583</span></code></li>
<li>finatra-inject/inject-logback: Add an <code class="docutils literal notranslate"><span class="pre">c.t.inject.logback.AsyncAppender</span></code> to provide
metrics about the underlying queue. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D173278</span></code></li>
</ul>
</div>
<div class="section" id="id186">
<h3>Changed<a class="headerlink" href="#id186" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-slf4j: Move the SLF4J API logging bridges from <code class="docutils literal notranslate"><span class="pre">inject-slf4j</span></code> to <code class="docutils literal notranslate"><span class="pre">inject-app</span></code>
and <code class="docutils literal notranslate"><span class="pre">inject-server</span></code>. This allows code in the inject framework to be mostly useful in
environments where having the bridges on the classpath causes issues. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D179652</span></code></li>
</ul>
</div>
<div class="section" id="id187">
<h3>Fixed<a class="headerlink" href="#id187" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Fail startup for incorrect Controller callback functions. Controller route callback
functions that do not specify an input parameter or specify an incorrect input parameter should
fail server startup but were not correctly detected when building routes in the <code class="docutils literal notranslate"><span class="pre">CallbackConverter</span></code>.
The route building logic has been patched to correctly detect these routes which would fail at
runtime to ensure we fail fast at server startup (and can thus be caught by StartupTests).
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D178330</span></code></li>
<li>finatra-http: Change exceptions emitted from <code class="docutils literal notranslate"><span class="pre">c.t.f.http.filter.HttpNackFilter</span></code> to not extend
from <code class="docutils literal notranslate"><span class="pre">HttpException</span></code> and add a specific mapper over <code class="docutils literal notranslate"><span class="pre">HttpNackException</span></code> such that Nack
exceptions are handled distinctly from HttpExceptions and thus more specifically. Handling
of Nack exceptions should not be conflated with handling of the more generic <code class="docutils literal notranslate"><span class="pre">HttpExceptions</span></code>
and it should be clear if a new mapper is desired that it is specifically for changing how Nack
exceptions are handled. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D172456</span></code></li>
</ul>
</div>
<div class="section" id="id188">
<h3>Closed<a class="headerlink" href="#id188" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id189">
<h2>18.5.0<a class="headerlink" href="#id189" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id190">
<h3>Added<a class="headerlink" href="#id190" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>examples: Add external TwitterServer example. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D161204</span></code></li>
</ul>
</div>
<div class="section" id="id191">
<h3>Changed<a class="headerlink" href="#id191" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-utils: Remove deprecated <code class="docutils literal notranslate"><span class="pre">c.t.inject.RootMonitor</span></code>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D161036</span></code></li>
<li>finatra-http: Updated <code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.AdminHttpServer</span></code> to
isolate routes added to the admin. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D157818</span></code></li>
</ul>
</div>
<div class="section" id="id192">
<h3>Fixed<a class="headerlink" href="#id192" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">inject-slf4j, finatra-http: Fix <code class="docutils literal notranslate"><span class="pre">c.t.inject.logging.FinagleMDCAdapter</span></code> to initialize
properly. We were lazily initializing the backing <code class="docutils literal notranslate"><span class="pre">java.util.Map</span></code>
of the <code class="docutils literal notranslate"><span class="pre">FinagleMDCAdapter</span></code>
which could cause values to disappear when the map was not created
eagerly enough. Typical
usage would add one of the MDC logging filters to the top of the
request filter chain which would
put a value into the MDC thus creating the backing <code class="docutils literal notranslate"><span class="pre">java.util.Map</span></code>
early in the request chain.
However, if a filter which puts to the MDC was not included and the
first put happened in a
Future closure the map state would be lost upon exiting the closure.</p>
<p>This change updates how the MDC mapping is stored to move from a
<code class="docutils literal notranslate"><span class="pre">Local</span></code> to a <code class="docutils literal notranslate"><span class="pre">LocalContext</span></code>
and introduces new ergonomics for using/initializing the framework MDC
integration.</p>
<p>Initialization of the MDC integration should now go through the
<code class="docutils literal notranslate"><span class="pre">c.t.inject.logging.MDCInitializer</span></code> (that is users are not expected to
need to interact directly with the <code class="docutils literal notranslate"><span class="pre">FinagleMDCAdapter</span></code>). E.g.,
to initialize the MDC:</p>
<p><code class="docutils literal notranslate"><span class="pre">com.twitter.inject.logging.MDCInitializer.init()</span></code></p>
<p>This will initialize the <code class="docutils literal notranslate"><span class="pre">org.slf4j.MDC</span></code> and swap out the default
<code class="docutils literal notranslate"><span class="pre">org.slf4j.spi.MDCAdapter</span></code> with
an instance of the <code class="docutils literal notranslate"><span class="pre">c.t.inject.logging.FinagleMDCAdapter</span></code> allowing
for reading/writing MDC values across Future boundaries.</p>
<p>Then to start the scoping of an MDC context, use
<code class="docutils literal notranslate"><span class="pre">c.t.inject.logging.MDCInitializer#let</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">com.twitter.inject.logging.MDCInitializer.let</span> <span class="pre">{</span>&#160;&#160;&#160;&#160; <span class="pre">//</span> <span class="pre">operations</span> <span class="pre">which</span> <span class="pre">set</span> <span class="pre">and</span> <span class="pre">read</span> <span class="pre">MDC</span> <span class="pre">values</span>&#160;&#160;&#160;&#160; <span class="pre">???</span>&#160;&#160; <span class="pre">}</span></code>
Typically, this is done in a Filter wrapping the execution of the
service in the Filter’s apply,
For example, the framework provides this initialization and scoping in
both the <code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.filters.LoggingMDCFilter</span></code> and the
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.thrift.filters.LoggingMDCFilter</span></code>.</p>
<p>Simply including these at the top of the request filter chain for a
service will allow MDC integration to function properly. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D159536</span></code></p>
</li>
<li><p class="first">inject-app: Ensure that installed modules are de-duped before
creating injector. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D160955</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id193">
<h3>Closed<a class="headerlink" href="#id193" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id194">
<h2>18.4.0<a class="headerlink" href="#id194" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id195">
<h3>Added<a class="headerlink" href="#id195" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Added the ability for requests to have a maximum
forward depth to
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.routing.HttpRouter</span></code>, which prevents requests
from being forwarded
an infinite number of times. By default the maximum forward depth
is 5. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D154737</span></code></li>
<li>inject-thrift-client: Update <code class="docutils literal notranslate"><span class="pre">configureServicePerEndpoint</span></code> and
<code class="docutils literal notranslate"><span class="pre">configureMethodBuilder</span></code> in <code class="docutils literal notranslate"><span class="pre">ThriftMethodBuilderClientModule</span></code>
to also pass a
<code class="docutils literal notranslate"><span class="pre">c.t.inject.Injector</span></code> instance which allows users to use bound
instances from the object graph when providing further <code class="docutils literal notranslate"><span class="pre">thriftmux.MethodBuilder</span></code>
or <code class="docutils literal notranslate"><span class="pre">ThriftMethodBuilderFactory</span></code> configuration.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D155451</span></code></li>
<li>inject-thrift-client: Update <code class="docutils literal notranslate"><span class="pre">configureThriftMuxClient</span></code> in
<code class="docutils literal notranslate"><span class="pre">ThriftClientModuleTrait</span></code> to
also pass a <code class="docutils literal notranslate"><span class="pre">c.t.inject.Injector</span></code> instance which allows users to
use bound instances
from the object graph when providing further <code class="docutils literal notranslate"><span class="pre">ThriftMux.client</span></code>
configuration.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D152973</span></code></li>
<li>inject-server: Capture errors on close of the underlying
TwitterServer. The embedded
testing utilities can now capture and report on an exception that
occurs during close
of the underlying TwitterServer.
<code class="docutils literal notranslate"><span class="pre">EmbeddedTwitterServer#assertCleanShutdown</span></code> inspects
for any Throwable captured from closing the underlying server which
it will then throw.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D148946</span></code></li>
<li>finatra-http: Created a new API into
<code class="docutils literal notranslate"><span class="pre">c.t.f.h.response.StreamingResponse</span></code> which permits passing
a <code class="docutils literal notranslate"><span class="pre">transformer</span></code> which is an
<code class="docutils literal notranslate"><span class="pre">AsynStream[T]</span> <span class="pre">=&gt;</span> <span class="pre">AsyncStream[(U,</span> <span class="pre">Buf)]</span></code> for serialization
purposes,
as well as two callbacks -* <code class="docutils literal notranslate"><span class="pre">onDisconnect</span></code>, called when the
stream is disconnected, and <code class="docutils literal notranslate"><span class="pre">onWrite</span></code>,
which is a <code class="docutils literal notranslate"><span class="pre">respond</span></code> side-effecting callback to every individual
write to the stream.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D147925</span></code></li>
</ul>
</div>
<div class="section" id="id196">
<h3>Changed<a class="headerlink" href="#id196" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">inject-app: Update and improve the test <code class="docutils literal notranslate"><span class="pre">#bind[T]</span></code> DSL. The testing
<code class="docutils literal notranslate"><span class="pre">#bind[T]</span></code> DSL is lacking in
its ability to be used from Java and we would like to revise the API
to be more expressive such
that it also includes binding from a Type to a Type. Due to wanting
to also support the ability
to bind a Type to a Type, the DSL has been re-worked to more closely
match the actual Guice binding DSL.</p>
<p>For Scala users the <code class="docutils literal notranslate"><span class="pre">#bind[T]</span></code> DSL now looks as follows:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">to</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">to</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">toInstance</span><span class="o">(</span><span class="n">T</span><span class="o">)</span>

<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Ann</span><span class="o">].</span><span class="n">to</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Ann</span><span class="o">].</span><span class="n">to</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Ann</span><span class="o">].</span><span class="n">toInstance</span><span class="o">(</span><span class="n">T</span><span class="o">)</span>

<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">Ann</span><span class="o">]].</span><span class="n">to</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">Ann</span><span class="o">]].</span><span class="n">to</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">Ann</span><span class="o">]].</span><span class="n">toInstance</span><span class="o">(</span><span class="n">T</span><span class="o">)</span>

<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">(</span><span class="nc">Annotation</span><span class="o">).</span><span class="n">to</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">(</span><span class="nc">Annotation</span><span class="o">).</span><span class="n">to</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]]</span>
<span class="n">bind</span><span class="o">[</span><span class="kt">T</span><span class="o">].</span><span class="n">annotatedWith</span><span class="o">(</span><span class="nc">Annotation</span><span class="o">).</span><span class="n">toInstance</span><span class="o">(</span><span class="n">T</span><span class="o">)</span>

<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">to</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">to</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]]</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">toInstance</span><span class="o">(</span><span class="n">T</span><span class="o">)</span>

<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">Ann</span><span class="o">]].</span><span class="n">to</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">Ann</span><span class="o">]].[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]]</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">annotatedWith</span><span class="o">[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">Ann</span><span class="o">]].</span><span class="n">toInstance</span><span class="o">(</span><span class="n">T</span><span class="o">)</span>

<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">annotatedWith</span><span class="o">(</span><span class="nc">Annotation</span><span class="o">).</span><span class="n">to</span><span class="o">[</span><span class="kt">T</span><span class="o">]</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">annotatedWith</span><span class="o">(</span><span class="nc">Annotation</span><span class="o">).[</span><span class="kt">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">]]</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">]).</span><span class="n">annotatedWith</span><span class="o">(</span><span class="nc">Annotation</span><span class="o">).</span><span class="n">toInstance</span><span class="o">(</span><span class="n">T</span><span class="o">)</span>
</pre></div>
</div>
<p>For Java users, there are more Java-friendly methods:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">],</span> <span class="n">T</span><span class="o">)</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">],</span> <span class="nc">Annotation</span><span class="o">,</span> <span class="n">T</span><span class="o">)</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">],</span> <span class="nc">Class</span><span class="o">[</span><span class="kt">Annotation</span><span class="o">],</span> <span class="n">T</span><span class="o">)</span>

<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">],</span> <span class="nc">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">])</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">],</span>  <span class="nc">Annotation</span><span class="o">,</span> <span class="nc">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">])</span>
<span class="n">bindClass</span><span class="o">(</span><span class="nc">Class</span><span class="o">[</span><span class="kt">T</span><span class="o">],</span> <span class="nc">Class</span><span class="o">[</span><span class="kt">Annotation</span><span class="o">],</span> <span class="nc">Class</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;:</span> <span class="kt">T</span><span class="o">])</span>
</pre></div>
</div>
<p>Additionally, these changes highlighted the lack of Java-support in
the <code class="docutils literal notranslate"><span class="pre">TwitterModule</span></code> for
creating injectable Flags. Thus <code class="docutils literal notranslate"><span class="pre">c.t.inject.TwitterModuleFlags</span></code> has
been updated to also provide
Java-friendly flag creation methods:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span>protected def createFlag[T](name: String, default: T, help: String, flggble: Flaggable[T]): Flag[T]
protected def createMandatoryFlag[T](name: String, help: String, usage: String, flggble: Flaggable[T]): Flag[T]``
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">PHAB_ID=D149252</span></code></p>
</li>
<li><p class="first">inject-thrift-client: The “retryBudget” in the
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.modules.ThriftMethodBuilderClientModule</span></code>
should be a <code class="docutils literal notranslate"><span class="pre">RetryBudget</span></code> and not the generic <code class="docutils literal notranslate"><span class="pre">Budget</span></code>
configuration Param. Updated the type.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D151938</span></code></p>
</li>
<li><p class="first">inject-server: Move HTTP-related concerns out of the embedded
testing utilities into
specific HTTP “clients”. The exposed <code class="docutils literal notranslate"><span class="pre">httpAdminClient</span></code> in the
<code class="docutils literal notranslate"><span class="pre">EmbeddedTwitterServer</span></code>
and the <code class="docutils literal notranslate"><span class="pre">httpClient</span></code> and <code class="docutils literal notranslate"><span class="pre">httpsClient</span></code> in the
<code class="docutils literal notranslate"><span class="pre">EmbeddedHttpServer</span></code> are no longer just
Finagle Services from Request to Response, but actual objects. The
underlying Finagle
<code class="docutils literal notranslate"><span class="pre">Service[Request,</span> <span class="pre">Response]</span></code> can be accessed via
<code class="docutils literal notranslate"><span class="pre">Client.service</span></code>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D148946</span></code></p>
</li>
</ul>
</div>
<div class="section" id="id197">
<h3>Fixed<a class="headerlink" href="#id197" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id198">
<h3>Closed<a class="headerlink" href="#id198" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id199">
<h2>18.3.0<a class="headerlink" href="#id199" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id200">
<h3>Added<a class="headerlink" href="#id200" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Add a lint rule in
<code class="docutils literal notranslate"><span class="pre">c.t.inject.server.TwitterServer#warmup</span></code>. If a server does not
override the default implementation of <code class="docutils literal notranslate"><span class="pre">TwitterServer#warmup</span></code> a
lint rule violation will appear
on the lint page of the HTTP admin interface. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D141267</span></code></li>
<li>inject-server: Add <code class="docutils literal notranslate"><span class="pre">c.t.inject.server.TwitterServer#setup</span></code>
lifecycle callback method. This is
run at the end of the <code class="docutils literal notranslate"><span class="pre">postInjectorStartup</span></code> phase and is
primarily intended as a way for
servers to start pub-sub components on which the server depends.
Users should prefer this method
over overriding the <code class="docutils literal notranslate"><span class="pre">c.t.inject.server.TwitterServer#postWarmup</span></code>
&#64;Lifecycle-annotated method as
the callback does not require a call its super implementation for
the server to correctly start
and is ideally less error-prone to use. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D135827</span></code></li>
<li>inject-app: Add <code class="docutils literal notranslate"><span class="pre">c.t.inject.annotations.Flags#named</span></code> for getting
an implementation of an <code class="docutils literal notranslate"><span class="pre">&#64;Flag</span></code>
annotation. This is useful when trying to get or bind an instance
of an <code class="docutils literal notranslate"><span class="pre">&#64;Flag</span></code> annotated type.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D140831</span></code></li>
</ul>
</div>
<div class="section" id="id201">
<h3>Changed<a class="headerlink" href="#id201" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: <code class="docutils literal notranslate"><span class="pre">ReaderDiscarded</span></code> failures writing in
<code class="docutils literal notranslate"><span class="pre">c.t.f.http.StreamingResponse</span></code> now only log
at the info level without a stack trace, while other failures log
at the error level with
a stacktrace. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D141453</span></code></li>
<li>inject-thrift-client: Removed <code class="docutils literal notranslate"><span class="pre">withBackupRequestFilter</span></code> method on
deprecated
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.filters.ThriftClientFilterChain</span></code>. Instead of
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.modules.FilteredThriftClientModule</span></code>, use
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.modules.ThriftMethodBuilderClientModule</span></code> and
use the <code class="docutils literal notranslate"><span class="pre">idempotent</span></code> method on
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.ThriftMethodBuilder</span></code> to configure backup
requests. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D142049</span></code>.</li>
<li>inject-app: <code class="docutils literal notranslate"><span class="pre">c.t.inject.annotations.FlagImpl</span></code> is no longer public
and should not be used directly.
Use <code class="docutils literal notranslate"><span class="pre">c.t.inject.annotations.Flags#named</span></code> instead.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D140831</span></code></li>
</ul>
</div>
<div class="section" id="id202">
<h3>Fixed<a class="headerlink" href="#id202" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-thrift-client: Fix for duplicate stack client registration.
The
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.modules.ThriftMethodBuilderClientModule</span></code> was
incorrectly calling the
<code class="docutils literal notranslate"><span class="pre">ThriftMux.client</span></code> twice. Once to create a MethodBuilder and once
to create a ServicePerEndpoint.
Now, the ServicePerEndpoint is obtained from the configured
MethodBuilder. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D141304</span></code></li>
<li>inject-thrift-client: Convert non-camel case <code class="docutils literal notranslate"><span class="pre">ThriftMethod</span></code>
names, e.g., “get_tweets” to
camelCase, e.g., “getTweets” for reflection lookup on generated
<code class="docutils literal notranslate"><span class="pre">ServicePerEndpoint</span></code> interface in
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.ThriftMethodBuilder</span></code>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D138499</span></code></li>
</ul>
</div>
<div class="section" id="id203">
<h3>Closed<a class="headerlink" href="#id203" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id204">
<h2>18.2.0<a class="headerlink" href="#id204" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id205">
<h3>Added<a class="headerlink" href="#id205" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-thrift-client: Add methods to
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.filters.ThriftClientFilterChain</span></code> to allow
Tunable timeouts and request timeouts. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D128506</span></code></li>
<li>inject-thrift-client: Add <code class="docutils literal notranslate"><span class="pre">idempotent</span></code> and <code class="docutils literal notranslate"><span class="pre">nonIdempotent</span></code>
methods to
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.ThriftMethodBuilder</span></code>, which can be used to
configure retries and the sending of
backup requests. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D129959</span></code></li>
<li>inject-thrift-client: Add
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.modules.ServicePerEndpointModule</span></code> for
building ThriftMux clients using the <code class="docutils literal notranslate"><span class="pre">thriftmux.MethodBuilder</span></code>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D128196</span></code></li>
</ul>
</div>
<div class="section" id="id206">
<h3>Changed<a class="headerlink" href="#id206" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-thrift: Update <code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.PossibleRetryable</span></code> to specify a
ResponseClassifier and update usages in inject-thrift-client to use it. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D134328</span></code></li>
<li>inject-thrift-client: Un-deprecate <code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.modules.ThriftClientModule</span></code> and
update for parity with <code class="docutils literal notranslate"><span class="pre">ServicePerEndpointModule</span></code> in regards to ThriftMux client configuration.
Update documentation. Rename <code class="docutils literal notranslate"><span class="pre">ServicePerEndpointModule</span></code> to the more descriptive and consistently
named <code class="docutils literal notranslate"><span class="pre">ThriftMethodBuilderClientModule</span></code>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D129891</span></code></li>
</ul>
</div>
<div class="section" id="id207">
<h3>Fixed<a class="headerlink" href="#id207" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id208">
<h3>Closed<a class="headerlink" href="#id208" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id209">
<h2>18.1.0<a class="headerlink" href="#id209" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id210">
<h3>Added<a class="headerlink" href="#id210" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Add support for building all types of Finagle Thrift clients to the underlying
embedded TwitterServer with the <code class="docutils literal notranslate"><span class="pre">c.t.finatra.thrift.ThriftClient</span></code> test utility.
See: <a class="reference external" href="https://twitter.github.io/scrooge/Finagle.html#creating-a-client">Creating a client</a>
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D123915</span></code></li>
<li>finatra-jackson: Added support to finatra/jackson for de-serializing
<code class="docutils literal notranslate"><span class="pre">com.twitter.util.Duration</span></code> instances from their String representations.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D122366</span></code></li>
</ul>
</div>
<div class="section" id="id211">
<h3>Changed<a class="headerlink" href="#id211" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Change visibility of internal class
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.internal.marshalling.RequestInjectableValues</span></code>
to be correctly specified as private to the <code class="docutils literal notranslate"><span class="pre">http</span></code> package.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D127975</span></code></li>
</ul>
</div>
<div class="section" id="id212">
<h3>Fixed<a class="headerlink" href="#id212" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Ensure we close resources in the <code class="docutils literal notranslate"><span class="pre">ResponseBuilder</span></code>.
Addresses <a class="reference external" href="https://github.com/twitter/finatra/issues/440">#440</a>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D120779</span></code></li>
</ul>
</div>
<div class="section" id="id213">
<h3>Closed<a class="headerlink" href="#id213" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id214">
<h2>17.12.0<a class="headerlink" href="#id214" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id215">
<h3>Added<a class="headerlink" href="#id215" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Add tests for new Scrooge
<code class="docutils literal notranslate"><span class="pre">ReqRepServicePerEndpoint</span></code>
functionality. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D107397</span></code></li>
</ul>
</div>
<div class="section" id="id216">
<h3>Changed<a class="headerlink" href="#id216" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: add a <code class="docutils literal notranslate"><span class="pre">multipart</span> <span class="pre">=</span> <span class="pre">true</span></code> arg to
<code class="docutils literal notranslate"><span class="pre">EmbeddedHttpServer.httpMultipartFormPost</span></code>
`<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D113151</span></code></li>
<li>inject-sever: Do not use the
<code class="docutils literal notranslate"><span class="pre">c.t.inject.server.EmbeddedTwitterServer</span></code>
<code class="docutils literal notranslate"><span class="pre">InMemoryStatsReceiver</span></code> for embedded http clients. The http client
stats are
emitted with the server under test stats which can be confusing, thus
we now
create a new <code class="docutils literal notranslate"><span class="pre">InMemoryStatsReceiver</span></code> when creating an embedded http
client.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D112024</span></code></li>
</ul>
</div>
<div class="section" id="id217">
<h3>Fixed<a class="headerlink" href="#id217" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id218">
<h3>Closed<a class="headerlink" href="#id218" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id219">
<h2>17.11.0<a class="headerlink" href="#id219" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id220">
<h3>Added<a class="headerlink" href="#id220" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id221">
<h3>Changed<a class="headerlink" href="#id221" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>EmbeddedTwitterServer, EmbeddedHttpServer, and EmbeddedThriftServer
flags
and args parameters changed to call-by-name.
`<code class="docutils literal notranslate"><span class="pre">PHAB_ID=</span></code>D104733`</li>
</ul>
</div>
<div class="section" id="id222">
<h3>Fixed<a class="headerlink" href="#id222" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Ensure EmbeddedTwitterServer has started before trying
to
close httpAdminClient. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D111294</span></code></li>
</ul>
</div>
<div class="section" id="id223">
<h3>Closed<a class="headerlink" href="#id223" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id224">
<h2>17.10.0<a class="headerlink" href="#id224" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id225">
<h3>Added<a class="headerlink" href="#id225" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: Remove deprecated <code class="docutils literal notranslate"><span class="pre">c.t.inject.TestMixin#resetMocks</span></code>.
Properly
use <code class="docutils literal notranslate"><span class="pre">c.t.inject.Mockito</span></code> trait in tests. Deprecate resetting of
mocks and
resettables in <code class="docutils literal notranslate"><span class="pre">c.t.inject.IntegrationTestMixin</span></code>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D93876</span></code></li>
<li>finatra-http: Parameterize
<code class="docutils literal notranslate"><span class="pre">&#64;RouteParam</span></code>,<code class="docutils literal notranslate"><span class="pre">&#64;QueryParam</span></code>,<code class="docutils literal notranslate"><span class="pre">&#64;FormParam</span></code>, and
<code class="docutils literal notranslate"><span class="pre">&#64;Header</span></code> to allow specifying the field name to read from the
params or
header map. Previously these annotations only looked for values by
the
case class field name leading to possible ugliness when defining
case
class fields (especially with <code class="docutils literal notranslate"><span class="pre">&#64;Header</span></code>).
`<code class="docutils literal notranslate"><span class="pre">PHAB_ID=</span></code>D94220`</li>
<li>finatra: Add support for using a
<code class="docutils literal notranslate"><span class="pre">java.lang.annotation.Annotation</span></code> instance
with the <code class="docutils literal notranslate"><span class="pre">#bind[T]</span></code> testing DSL. This adds a way to bind
instances in tests
that use the &#64;Named binding annotation. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D91330</span></code></li>
<li>finatra-http: Allow setting the content type of a Mustache view.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D91949</span></code></li>
</ul>
</div>
<div class="section" id="id226">
<h3>Changed<a class="headerlink" href="#id226" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Move <code class="docutils literal notranslate"><span class="pre">FileResolver</span></code> to finatra/utils.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D103536</span></code></li>
<li>finatra-utils: Move <code class="docutils literal notranslate"><span class="pre">ResponseUtils</span></code> to finatra/http.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D103507</span></code></li>
<li>From now on, release versions will be based on release date in the
format of
YY.MM.x where x is a patch number. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D101244</span></code></li>
<li>finatra-utils: Remove deprecated <code class="docutils literal notranslate"><span class="pre">ExternalServiceExceptionMatcher</span></code>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D98343</span></code></li>
<li>finatra-jackson: ScalaType’s <code class="docutils literal notranslate"><span class="pre">isMap</span></code> and <code class="docutils literal notranslate"><span class="pre">isCollection</span></code> methods
now check that
the given object’s class is a subclass of
<code class="docutils literal notranslate"><span class="pre">scala.collection.Map[Any,</span> <span class="pre">Any]</span></code> and
<code class="docutils literal notranslate"><span class="pre">scala.collection.Iterable[Any]</span></code>, respectively. Previously the
superclasses’
packages were unspecified. This is a runtime behavior change.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D93104</span></code></li>
<li>finatra-http: Require that route URIs and prefixes begin with
forward slash (/).
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D90895</span></code></li>
<li>inject-utils: (BREAKING API CHANGE) RichOption toFutureOrFail,
toTryOrFail, and
toFutureOrElse signature changed to take the fail or else parameter
by name.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D89544</span></code></li>
<li>inject-server: Remove usage of deprecated
<code class="docutils literal notranslate"><span class="pre">c.t.inject.logging.Slf4jBridgeUtility</span></code>.
Change usages to <code class="docutils literal notranslate"><span class="pre">c.t.util.logging.Slf4jBridgeUtility</span></code>.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D88095</span></code></li>
<li>finatra-http, inject-thrift-client: Remove netty3 specific types
and dependency.
In finatra-http, the code using these types is deprecated and can
be removed allowing
us to remove netty3-specific dependencies. In inject-thrift-client
we can default to
use the DefaultTimer for the backupRequestFilter method param
instead of the
HashedWheelTimer. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D88025</span></code></li>
</ul>
</div>
<div class="section" id="id227">
<h3>Fixed<a class="headerlink" href="#id227" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Parameterized route callback inputs fail because the
lookup of a
corresponding <code class="docutils literal notranslate"><span class="pre">MessageBodyManager</span></code> reader lookup does not
properly handle parameterized
types such as collections. This change updates the
<code class="docutils literal notranslate"><span class="pre">MessageBodyManager</span></code> <code class="docutils literal notranslate"><span class="pre">MessageBodyReader</span></code>
lookup to take into account parameterized types. This allows for a
user to parse a
<code class="docutils literal notranslate"><span class="pre">Seq[T]</span></code>, or <code class="docutils literal notranslate"><span class="pre">Map[K,</span> <span class="pre">V]</span></code> as a route callback input type using
the default Finatra
<code class="docutils literal notranslate"><span class="pre">MessageBodyReader</span></code>. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D104277</span></code></li>
<li>finatra-jackson: Fix issue causing <code class="docutils literal notranslate"><span class="pre">IllegalArgumentException</span></code>
from Validations to
be swallowed. A catch clause in the
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.json.internal.caseclass.jackson.FinatraCaseClassDeserializer</span></code>
is too broad as it catches thrown <code class="docutils literal notranslate"><span class="pre">IllegalArgumentException</span></code>s
from field validations
when the annotation is applied to a field of the incorrect type,
e.g., when <code class="docutils literal notranslate"><span class="pre">&#64;Max</span></code> is
applied to a String field. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D95306</span></code></li>
</ul>
</div>
<div class="section" id="id228">
<h3>Closed<a class="headerlink" href="#id228" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id229">
<h2>2.13.0<a class="headerlink" href="#id229" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id230">
<h3>Added<a class="headerlink" href="#id230" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-server: Add ability to fail embedded server startup on lint
rule violation.
There is now a flag in the embedded servers that when set to true
will fail
server startup if a lint rule violation is detected. This will then
fail
the running test. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D82399</span></code></li>
</ul>
</div>
<div class="section" id="id231">
<h3>Changed<a class="headerlink" href="#id231" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: No longer depend on bijection-util. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D86640</span></code></li>
<li>finatra-jackson: Deprecate
c.t.finatra.json.utils.CamelCasePropertyNamingStrategy.
This object was created to reduce ambiguity with previous releases
of Jackson in which
the default PropertyNamingStrategy was an abstract class with a
default of camel case.
Users are encouraged to use the Jackson PropertyNamingStrategy
constants directly. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D81707</span></code></li>
</ul>
</div>
<div class="section" id="id232">
<h3>Fixed<a class="headerlink" href="#id232" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id233">
<h3>Closed<a class="headerlink" href="#id233" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id234">
<h2>2.12.0<a class="headerlink" href="#id234" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id235">
<h3>Added<a class="headerlink" href="#id235" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: Add support for injecting a snake case
FinatraObjectMapper by annotating
parameters with a new &#64;SnakeCaseMapper binding annotation.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D7798</span></code></li>
</ul>
</div>
<div class="section" id="id236">
<h3>Changed<a class="headerlink" href="#id236" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Add close hook when constructing a StreamingResponse
to allow for resource
release without consuming an entire AsyncStream. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D64013</span></code></li>
<li>finatra-http: Unmarshalling JSON no longer consumes the body of a
HTTP Request.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D74519</span></code></li>
<li>finatra-inject: RetryUtil.retry has been removed because it used a
blocking call
to Thread.sleep. Blocking Finagle threads results in poor
performance and
RetryUtil.retryFuture should be used instead. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D73949</span></code></li>
</ul>
</div>
<div class="section" id="id237">
<h3>Fixed<a class="headerlink" href="#id237" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id238">
<h3>Closed<a class="headerlink" href="#id238" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id239">
<h2>2.11.0<a class="headerlink" href="#id239" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id240">
<h3>Added<a class="headerlink" href="#id240" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id241">
<h3>Changed<a class="headerlink" href="#id241" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id242">
<h3>Fixed<a class="headerlink" href="#id242" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: Fix JSON deserialization of scala.util.Either type
in FinatraObjectMapper
for Scala 2.12. <code class="docutils literal notranslate"><span class="pre">RB_ID=917699</span></code></li>
</ul>
</div>
<div class="section" id="id243">
<h3>Closed<a class="headerlink" href="#id243" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id244">
<h2>2.10.0<a class="headerlink" href="#id244" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id245">
<h3>Added<a class="headerlink" href="#id245" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id246">
<h3>Changed<a class="headerlink" href="#id246" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Increase composability and flexibility of RouteDSL.
<code class="docutils literal notranslate"><span class="pre">RB_ID=912095</span></code></li>
<li>inject-app: Run installed modules postInjectorStartup before server
function. This makes
reasoning about the server lifecycle a bit more straight-forward
and simplifies things
like the exception manager logic for adding and overridding
mappers. <code class="docutils literal notranslate"><span class="pre">RB_ID=911965</span></code></li>
<li>finatra-jackson: Update framework tests to FunSuite ScalaTest testing
style. <code class="docutils literal notranslate"><span class="pre">RB_ID=911745</span></code></li>
<li>finatra: Move finatra/benchmarks and finatra/utils framework tests
to FunSuite ScalaTest
testing style. <code class="docutils literal notranslate"><span class="pre">RB_ID=910680</span></code></li>
</ul>
</div>
<div class="section" id="id247">
<h3>Fixed<a class="headerlink" href="#id247" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Correctly return a JsonParseException when the
incoming JSON is not parsable
as an expected custom case class request object. <code class="docutils literal notranslate"><span class="pre">RB_ID=912529</span></code></li>
<li>finatra-http: Ensure underlying members are injected for
AbstractControllers. <code class="docutils literal notranslate"><span class="pre">RB_ID=911635</span></code></li>
<li>finatra-jackson: Patch <code class="docutils literal notranslate"><span class="pre">FinatraDatetimeDeserializer</span></code> to support
parsing of Long value passed
as String, e.g., when parsing a query parameter.<code class="docutils literal notranslate"><span class="pre">RB_ID=911162</span></code></li>
<li>finatra: Close embedded server clients on embedded server close.
<code class="docutils literal notranslate"><span class="pre">RB_ID=910862</span></code></li>
</ul>
</div>
<div class="section" id="id248">
<h3>Closed<a class="headerlink" href="#id248" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id249">
<h2>2.9.0<a class="headerlink" href="#id249" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id250">
<h3>Added<a class="headerlink" href="#id250" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id251">
<h3>Changed<a class="headerlink" href="#id251" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: (BREAKING API CHANGE) Allow for binding of higher-kinded
types when testing. Deprecated <code class="docutils literal notranslate"><span class="pre">&#64;Bind</span></code> mechanism for replacing bound types in an object
graph. Now instead of using <code class="docutils literal notranslate"><span class="pre">&#64;Bind</span></code> like this:</li>
</ul>
<blockquote>
<div><div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DarkTrafficCanonicalResourceHeaderTest</span>
  <span class="k">extends</span> <span class="nc">FeatureTest</span>
  <span class="k">with</span> <span class="nc">Mockito</span> <span class="o">{</span>

  <span class="nd">@Bind</span>
  <span class="nd">@DarkTrafficService</span>
  <span class="k">val</span> <span class="n">darkTrafficService</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Service</span><span class="o">[</span><span class="kt">Request</span>, <span class="kt">Response</span><span class="o">]]</span> <span class="k">=</span>
    <span class="nc">Some</span><span class="o">(</span><span class="n">smartMock</span><span class="o">[</span><span class="kt">Service</span><span class="o">[</span><span class="kt">Request</span>, <span class="kt">Response</span><span class="o">]])</span>

  <span class="cm">/* mock request */</span>
  <span class="n">darkTrafficService</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">apply</span><span class="o">(</span><span class="n">any</span><span class="o">[</span><span class="kt">Request</span><span class="o">]).</span><span class="n">returns</span><span class="o">(</span><span class="nc">Future</span><span class="o">.</span><span class="n">value</span><span class="o">(</span><span class="n">smartMock</span><span class="o">[</span><span class="kt">Response</span><span class="o">]))</span>

  <span class="k">override</span> <span class="k">val</span> <span class="n">server</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">EmbeddedHttpServer</span><span class="o">(</span>
    <span class="n">twitterServer</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">DarkTrafficTestServer</span><span class="o">)</span>

  <span class="n">test</span><span class="o">(</span><span class="s">&quot;DarkTrafficServer#has Canonical-Resource header correctly set&quot;</span><span class="o">)</span> <span class="o">{</span>
   <span class="o">...</span>
</pre></div>
</div>
<p>Users can instead do:</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DarkTrafficCanonicalResourceHeaderTest</span>
<span class="k">extends</span> <span class="nc">FeatureTest</span>
<span class="k">with</span> <span class="nc">Mockito</span> <span class="o">{</span>
 <span class="k">val</span> <span class="n">darkTrafficService</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">Service</span><span class="o">[</span><span class="kt">Request</span>, <span class="kt">Response</span><span class="o">]]</span> <span class="k">=</span>
   <span class="nc">Some</span><span class="o">(</span><span class="n">smartMock</span><span class="o">[</span><span class="kt">Service</span><span class="o">[</span><span class="kt">Request</span>, <span class="kt">Response</span><span class="o">]])</span>

 <span class="cm">/* mock request */</span>
 <span class="n">darkTrafficService</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">apply</span><span class="o">(</span><span class="n">any</span><span class="o">[</span><span class="kt">Request</span><span class="o">]).</span><span class="n">returns</span><span class="o">(</span><span class="nc">Future</span><span class="o">.</span><span class="n">value</span><span class="o">(</span><span class="n">smartMock</span><span class="o">[</span><span class="kt">Response</span><span class="o">]))</span>

 <span class="k">override</span> <span class="k">val</span> <span class="n">server</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">EmbeddedHttpServer</span><span class="o">(</span>
   <span class="n">twitterServer</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">DarkTrafficTestServer</span><span class="o">)</span>
   <span class="o">.</span><span class="n">bind</span><span class="o">[</span><span class="kt">Option</span><span class="o">[</span><span class="kt">Service</span><span class="o">[</span><span class="kt">Request</span>, <span class="kt">Response</span><span class="o">]]</span>, <span class="kt">DarkTrafficService</span><span class="o">](</span><span class="n">darkTrafficService</span><span class="o">)</span>

 <span class="n">test</span><span class="o">(</span><span class="s">&quot;DarkTrafficServer#has Canonical-Resource header correctly set&quot;</span><span class="o">)</span> <span class="o">{</span>
   <span class="o">...</span>
</pre></div>
</div>
<p>This allows for more flexibility (as the binding is now per object
graph, rather
than per test files) and is less susceptible to errors due to
incorrect usage.</p>
<p>The breaking API change is due to adding this support in the
TestInjector, it is
now required that users call the <code class="docutils literal notranslate"><span class="pre">TestInjector#create</span></code> method in
order to build
the injector and that this is done <em>after</em> calls to
<code class="docutils literal notranslate"><span class="pre">TestInjector#bind</span></code>. Previously,
an <code class="docutils literal notranslate"><span class="pre">Injector</span></code> was directly returned from <code class="docutils literal notranslate"><span class="pre">TestInjector#apply</span></code>
which is no longer true,
thus it may look like your IntegrationTests are broken as you now need
to add a
call to <code class="docutils literal notranslate"><span class="pre">TestInjector#create</span></code>.</p>
<p>Additionally, this change updates all of the framework tests in the
inject modules to
the FunSuite testing style from the deprecated WordSpec testing style.
<code class="docutils literal notranslate"><span class="pre">RB_ID=910011</span></code></p>
</div></blockquote>
<ul class="simple">
<li>finatra-thrift: Update framework tests to FunSuite ScalaTest testing
style. <code class="docutils literal notranslate"><span class="pre">RB_ID=910262</span></code></li>
<li>inject-core: Move Logging from grizzled-slf4j to
util/util-slf4j-api.
<code class="docutils literal notranslate"><span class="pre">c.t.inject.Logger</span></code> is now deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">c.t.util.logging.Logger</span></code>
in util. <code class="docutils literal notranslate"><span class="pre">PHAB_ID=D29713</span></code></li>
<li>finatra-httpclient: Update framework tests to FunSuite ScalaTest
testing style. <code class="docutils literal notranslate"><span class="pre">RB_ID=909526</span></code></li>
<li>finatra-http: Update framework tests to FunSuite ScalaTest testing
style. <code class="docutils literal notranslate"><span class="pre">RB_ID=909349</span></code></li>
<li>finatra: Bump guava to 19.0. <code class="docutils literal notranslate"><span class="pre">RB_ID=907807</span></code></li>
<li>inject-thrift-client: Various APIs have changed to work with
<code class="docutils literal notranslate"><span class="pre">ThriftMethod.SuccessType</span></code>
instead of <code class="docutils literal notranslate"><span class="pre">ThriftMethod.Result</span></code>. See
<code class="docutils literal notranslate"><span class="pre">ThriftClientFilterChain</span></code>, <code class="docutils literal notranslate"><span class="pre">Controller</span></code>,
<code class="docutils literal notranslate"><span class="pre">ThriftWarmup</span></code>, <code class="docutils literal notranslate"><span class="pre">PossiblyRetryable</span></code>. <code class="docutils literal notranslate"><span class="pre">RB_ID=908846</span></code></li>
</ul>
</div>
<div class="section" id="id252">
<h3>Fixed<a class="headerlink" href="#id252" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Correctly support adding Java AbstractController by
instance. <code class="docutils literal notranslate"><span class="pre">RB_ID=910502</span></code></li>
</ul>
</div>
<div class="section" id="id253">
<h3>Closed<a class="headerlink" href="#id253" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id254">
<h2>2.8.0<a class="headerlink" href="#id254" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id255">
<h3>Added<a class="headerlink" href="#id255" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Add Java support for declaring admin routes.
<code class="docutils literal notranslate"><span class="pre">RB_ID=906264</span></code></li>
<li>finatra-http: Add AbstractExceptionMapper for ExceptionMapper usage
from Java.
Also update the HttpRouter to allow for registration of
AbstractExceptionMappers.
<code class="docutils literal notranslate"><span class="pre">RB_ID=902995</span></code></li>
<li>finatra-http: Support for JSON Patch
(<a class="reference external" href="https://tools.ietf.org/html/rfc6902">https://tools.ietf.org/html/rfc6902</a>). Utilities are
located in package <code class="docutils literal notranslate"><span class="pre">com.twitter.finatra.http.jsonpatch</span></code>.
<code class="docutils literal notranslate"><span class="pre">RB_ID=889152</span></code></li>
<li>finatra: Created companion trait mixins for
Test/FeatureTest/IntegrationTest/HttpTest.
<code class="docutils literal notranslate"><span class="pre">RB_ID=897778</span></code></li>
<li>finatra-http: Support for optional trailing slashes in HTTP routes.
Routes can
now specify that they allow an optional trailing slash by ending
the route URI
in the Controller with “/?”. <code class="docutils literal notranslate"><span class="pre">RB_ID=893167</span></code></li>
<li>finatra-http: Support for Controller route prefixes. This allows
users to define a
common prefix for a set of routes declaratively inside a
controller. <code class="docutils literal notranslate"><span class="pre">RB_ID=894695</span></code></li>
</ul>
</div>
<div class="section" id="id256">
<h3>Changed<a class="headerlink" href="#id256" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>inject-core: Add back JUNitRUnner to <code class="docutils literal notranslate"><span class="pre">c.t.inject.Test</span></code> and
<code class="docutils literal notranslate"><span class="pre">c.t.inject.WordSpecTest</span></code>
so that tests can be run when building with maven. <code class="docutils literal notranslate"><span class="pre">RB_ID=909789</span></code></li>
<li>finatra-http: Allow routes which begin with “/admin” to be exposed
on the external
interface and routes which DO NOT begin with “/admin” to be exposed
on the admin interface.
NOTE: routes which begin with “/admin/finatra” will continue to be
on the admin interface
only. Routes which begin with “/admin” that should be served from
the admin interface MUST
set the flag “admin = true” on the route in the Controller.
<code class="docutils literal notranslate"><span class="pre">RB_ID=905225</span></code></li>
<li>finatra: Move conversions and retry utilities from finatra/utils to
finatra/inject/inject-utils.
<code class="docutils literal notranslate"><span class="pre">RB_ID=905109</span></code></li>
<li>finatra: (BREAKING API CHANGE) Rename the existing test helper
classes to include
their current opinionated testing style, “WordSpec”. These are
functionally
equivalent as this is just a name change. We also introduce new
versions of the
test helpers which mix in the recommended FunSuite. Thus it will
look like your
tests are broken as you will need to update to change to use the
new “WordSpec”
classes or changed your testing style to the recommended
<code class="docutils literal notranslate"><span class="pre">FunSuite</span></code> style.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D19822</span></code></li>
<li>inject-core: Remove JUnitRunner from <code class="docutils literal notranslate"><span class="pre">c.t.inject.Test</span></code>. This was
only necessary for
internal building with pants and is no longer required. The sbt
build uses the
ScalaTest runner and is thus not affected. Additionally, update
specs2 to 2.4.17 and
to depend on just the <code class="docutils literal notranslate"><span class="pre">specs2-mock</span></code> dependency where needed.
<code class="docutils literal notranslate"><span class="pre">PHAB_ID=D18011</span></code></li>
</ul>
</div>
<div class="section" id="id257">
<h3>Fixed<a class="headerlink" href="#id257" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Fix issue where added admin routes did not have their
HTTP method
correctly specified leading to all routes being defaulted to ‘GET’.
<code class="docutils literal notranslate"><span class="pre">RB_ID=905887</span></code></li>
<li>finatra-http: Fix for custom request case class collection-type
fields which are
annotated with either <code class="docutils literal notranslate"><span class="pre">&#64;RouteParam</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;QueryParam</span></code>, or
<code class="docutils literal notranslate"><span class="pre">&#64;FormParam</span></code> to correctly
use a specified default value when a value is not sent in the
request. <code class="docutils literal notranslate"><span class="pre">RB_ID=903697</span></code></li>
<li>inject-app: Fix TestInjector to properly parse flags. The
TestInjector didn’t
properly handle defaulted boolean flags when defined in Modules.
Updated the
TestInjector logic to properly parse flags. Fixes <a class="reference external" href="https://github.com/twitter/finatra/issues/373">Issue
#373</a>
<code class="docutils literal notranslate"><span class="pre">RB_ID=901525</span></code></li>
<li>finatra: Correctly filter published tests-javadocs and
tests-sources jars for
projects. We are incorrectly publishing tests in the sources and
javadocs jars
for projects which publish a test-jar dependency (http, httpclient,
jackson,
thrift, util, inject-app, inject-core, inject-modules, and
inject-server).
<code class="docutils literal notranslate"><span class="pre">RB_ID=901153</span></code></li>
</ul>
</div>
<div class="section" id="id258">
<h3>Closed<a class="headerlink" href="#id258" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id259">
<h2>2.7.0<a class="headerlink" href="#id259" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id260">
<h3>Added<a class="headerlink" href="#id260" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Add built-in support for Scala
<code class="docutils literal notranslate"><span class="pre">scala.concurrent.Future</span></code>. The
CallbackConverter now supports a return type of Scala
<code class="docutils literal notranslate"><span class="pre">scala.concurrent.Future</span></code>
by using a bijection to convert to a Twitter <code class="docutils literal notranslate"><span class="pre">c.t.util.Future</span></code>.
<code class="docutils literal notranslate"><span class="pre">RB_ID=898147</span></code></li>
<li>finatra-http: Support for request forwarding. Requests can be
forwarded from
one route to another. Forwarded requests will not go through the
server’s
defined filter chain again but will pass through any Controller
defined filters
on the “forwarded to” route. <code class="docutils literal notranslate"><span class="pre">RB_ID=883224</span></code></li>
</ul>
</div>
<div class="section" id="id261">
<h3>Changed<a class="headerlink" href="#id261" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id262">
<h3>Fixed<a class="headerlink" href="#id262" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id263">
<h3>Closed<a class="headerlink" href="#id263" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id264">
<h2>2.6.0<a class="headerlink" href="#id264" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id265">
<h3>Added<a class="headerlink" href="#id265" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Move the OSS documentation to internal code repository to be
co-located with
source code. <code class="docutils literal notranslate"><span class="pre">RB_ID=881112</span></code></li>
</ul>
</div>
<div class="section" id="id266">
<h3>Changed<a class="headerlink" href="#id266" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Decompose the <code class="docutils literal notranslate"><span class="pre">ThrowableExceptionMapper</span></code> to allow
users to more easily replace
the portions they care about. Users can now just replace the
functionality per exception
type rather than needing to replace the entire
<code class="docutils literal notranslate"><span class="pre">ThrowableExceptionMapper</span></code>. `RB_ID=891666``</li>
<li>finatra-http: The ‘cookie’ method of
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.response.ResponseBuilder#EnrichedResponse</span></code>
that takes a Netty 3 cookie instance has been deprecated. Please
use the method which takes a
Finagle HTTP cookie instead. <code class="docutils literal notranslate"><span class="pre">RB_ID=888683</span></code></li>
<li>finatra-http: Update adding routes to the TwitterServer HTTP Admin
Interface to use
<code class="docutils literal notranslate"><span class="pre">c.t.finagle.http.RouteIndex</span></code> and remove the
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.http.routing.AdminIndexInfo</span></code>.
Also relaxed the rules for what routes can be added to the index to
include constant
/POST routes. Additionally, no longer fail if you define
conflicting admin routes –
we will now only warn. It is up to the user to not shoot themselves
in the foot.
<code class="docutils literal notranslate"><span class="pre">RB_ID=889792</span></code></li>
<li>finatra-http: Request in request case classes no longer requires
Inject annotation. <code class="docutils literal notranslate"><span class="pre">RB_ID=888197</span></code></li>
<li>inject-utils: Deprecated RootMonitor since finagle DefaultMonitor
is implicitly installed
and handles all exceptions caught in stack. We provide a monitor
method by default is a NullMonitor in
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.thrift.modules.DarkTrafficFilterModule</span></code> and
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.modules.FilteredThriftClientModule</span></code>,
users can handle other exceptions (unhandled by DefaultMonitor) by
overriding the monitor method <code class="docutils literal notranslate"><span class="pre">RB_ID=886773</span></code></li>
<li>finatra: We now depend on a fork of libthrift hosted in the Central
Repository.
The new package lives in the ‘com.twitter’ organization. This
removes the necessity of
depending on maven.twttr.com. This also means that eviction will
not be automatic and
using a newer libthrift library requires manual eviction if
artifacts are being pulled
in transitively. <code class="docutils literal notranslate"><span class="pre">RB_ID=885879</span></code></li>
<li>inject-thrift-client: (BREAKING API CHANGE) Update filter building
API with
FilteredThriftClientModule. The
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.filters.ThriftClientFilterChain</span></code>
builder API has changed along with the underlying mechanisms to
support
enforcement of a “correct” filter order when using the helper
methods. Methods
have been renamed to a ‘with’-syntax to be more inline with other
builders and
the confusing “globalFilter” method to the more verbose but more
accurate
“withAgnosticFilter”. <code class="docutils literal notranslate"><span class="pre">RB_ID=878260</span></code></li>
<li>inject-thrift-client: Remove deprecated package aliases. We’d like
people to
move the correct packages.<code class="docutils literal notranslate"><span class="pre">RB_ID=879330</span></code></li>
<li>finatra-http: (BREAKING API CHANGE) Update StreamingResponse to
avoid keeping
a reference to the head of the AsyncStream. This resolves the
memory leak
when streaming an infinite stream. The constructor is now private;
use the
StreamingResponse object methods that take an AsyncStream by-name
instead.
``RB_ID=890205’’</li>
</ul>
</div>
<div class="section" id="id267">
<h3>Fixed<a class="headerlink" href="#id267" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Allow 0,1,t,f as valid boolean values for QueryParam
case class requests.
<code class="docutils literal notranslate"><span class="pre">RB_ID=881939</span></code></li>
</ul>
</div>
<div class="section" id="id268">
<h3>Closed<a class="headerlink" href="#id268" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id269">
<h2>2.5.0<a class="headerlink" href="#id269" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id270">
<h3>Added<a class="headerlink" href="#id270" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Add DarkTrafficFilterModule symmetric with
thrift/DarkTrafficFilterModule. Add DarkTrafficService annotation in
finatra-utils and a filter function used for requests annotated with
Annotation Type in order to add DarkTrafficFilter. <code class="docutils literal notranslate"><span class="pre">RB_ID=878079</span></code></li>
</ul>
</div>
<div class="section" id="id271">
<h3>Changed<a class="headerlink" href="#id271" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: No longer need to add an additional resolver that points to
maven.twttr.com. <code class="docutils literal notranslate"><span class="pre">RB_ID=878967</span></code></li>
<li>inject-thrift-client: Stop counting response failures in the
<code class="docutils literal notranslate"><span class="pre">c.t.inject.thrift.ThriftClientFilterChain</span></code> as these are now
counted in the
<code class="docutils literal notranslate"><span class="pre">c.t.finagle.thrift.ThriftServiceIface</span></code>. <code class="docutils literal notranslate"><span class="pre">RB_ID=879075</span></code></li>
<li>finatra-jackson: Fix issue around JsonProperty annotation empty
value. In
CaseClassField.jsonNameForField, if the &#64;JsonProperty annotation is
used
without a value, the property name is interpreted as “”. It now
follows the
default Jackson behavior of using the name field name as the property
name when the annotation is empty. <code class="docutils literal notranslate"><span class="pre">RB_ID=877060</span></code></li>
<li>finatra: Correct instances of misspelled word “converter”. There are
several instances where the word “converter” is misspelled as
“convertor”.
Specifically, TwitterModule.addTypeConvertor has been changed to
TwitterModule.addTypeConverter. Other internal renamings are
TwitterDurationTypeConverter, JodatimeDurationTypeConverter, and
JacksonToGuiceTypeConverter. <code class="docutils literal notranslate"><span class="pre">RB_ID=877736</span></code></li>
<li>finatra: Move installation of the SLF4JBridgeHandler to the
constructor of
<code class="docutils literal notranslate"><span class="pre">c.t.inject.server.TwitterServer</span></code>. The
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.logging.modules.Slf4jBridgeModule</span></code> has been removed as
there is
now little reason to use it unless you are building an application
directly
from <code class="docutils literal notranslate"><span class="pre">c.t.inject.app.App</span></code> since the functionality is now provided
by default
in the constructor of <code class="docutils literal notranslate"><span class="pre">c.t.inject.server.TwitterServer</span></code>. If using
<code class="docutils literal notranslate"><span class="pre">c.t.inject.app.App</span></code>, then users can use the
<code class="docutils literal notranslate"><span class="pre">c.t.inject.logging.modules.LoggerModule</span></code>. The main advantage is
that slf4j
bridges are now installed earlier in the application or server
lifecycle and
thus more of the initialization logging is bridged to the slf4j-api.
<code class="docutils literal notranslate"><span class="pre">RB_ID=870913</span></code></li>
</ul>
</div>
<div class="section" id="id272">
<h3>Fixed<a class="headerlink" href="#id272" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-jackson: Test jar is missing files. Classes in the test
<code class="docutils literal notranslate"><span class="pre">c.t.finatra.validation</span></code> package were not properly marked for
inclusion in the finatra-jackson tests jar. They’ve now been added.
<code class="docutils literal notranslate"><span class="pre">RB_ID=878755</span></code></li>
</ul>
</div>
<div class="section" id="id273">
<h3>Closed<a class="headerlink" href="#id273" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id274">
<h2>2.4.0<a class="headerlink" href="#id274" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id275">
<h3>Added<a class="headerlink" href="#id275" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Enhanced support for Java Thrift services.
<code class="docutils literal notranslate"><span class="pre">RB_ID=868254</span></code></li>
<li>finatra-examples: Add web/UI application example. <code class="docutils literal notranslate"><span class="pre">RB_ID=868027</span></code></li>
<li>inject-server: Allow for the ability to disable test logging via
System
property. <code class="docutils literal notranslate"><span class="pre">RB_ID=867344</span></code></li>
</ul>
</div>
<div class="section" id="id276">
<h3>Changed<a class="headerlink" href="#id276" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Simplify ExceptionMapper configuration and usage.
We are dropping the need for a specialized DefaultExceptionMapper
(which
was simply an ExceptionMapper[Throwable]). Instead we now allow the
configuration of mappers in the ExceptionManager to be much more
flexible.
Previously, the framework tried to prevent a user from registering a
mapper
over a given exception type multiple times and specialized a
“default”
ExceptionMapper to invoke on an exception type of Throwable. The
ExceptionManager will now accept any mapper. If a mapper is added
over a
type already added, the previous mapper will be overwritten.</li>
</ul>
<p>The last registered mapper for an exception type wins.</p>
<div class="line-block">
<div class="line">The framework adds three mappers to the manager by default. If a user
wants</div>
<div class="line">to swap out any of these defaults they simply need add their own
mapper to</div>
<div class="line">the manager for the exception type to map. E.g., by default the
framework</div>
<div class="line">will add:</div>
<div class="line">Throwable -&gt;</div>
<div class="line">com.twitter.finatra.http.internal.exceptions.ThrowableExceptionMapper</div>
<div class="line">JsonParseException -&gt;</div>
<div class="line">com.twitter.finatra.http.internal.exceptions.json.JsonParseExceptionMapper</div>
<div class="line">CaseClassMappingException -&gt;</div>
<div class="line">com.twitter.finatra.http.internal.exceptions.json.CaseClassExceptionMapper</div>
</div>
<div class="line-block">
<div class="line">The manager walks the exception type hierarchy starting at the given</div>
<div class="line">exceptiontype and moving up the inheritence chain until it finds
mapper</div>
<div class="line">configured for the type. In this manner an ExceptionMapper[Throwable]
will</div>
<div class="line">be the last mapper invoked and performs as the “default”.</div>
</div>
<div class="line-block">
<div class="line">Thus, to change the “default” mapper, simply adding a new mapper over
the</div>
<div class="line">Throwable type will suffice, i.e., ExceptionMapper[Throwable] to the</div>
<div class="line">ExceptionManager. There are multiple ways to add a mapper. Either
through</div>
<div class="line">the HttpRouter:</div>
</div>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">override</span> <span class="k">def</span> <span class="n">configureHttp</span><span class="o">(</span><span class="n">router</span><span class="k">:</span> <span class="kt">HttpRouter</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
  <span class="n">router</span>
    <span class="o">.</span><span class="n">exceptionMapper</span><span class="o">[</span><span class="kt">MyDefaultExceptionMapper</span><span class="o">]</span>
    <span class="o">...</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Or in a module which is then added to the Server, e.g.,</p>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">object</span> <span class="nc">MyExceptionMapperModule</span> <span class="k">extends</span> <span class="nc">TwitterModule</span> <span class="o">{</span>
  <span class="k">override</span> <span class="k">def</span> <span class="n">singletonStartup</span><span class="o">(</span><span class="n">injector</span><span class="k">:</span> <span class="kt">Injector</span><span class="o">)</span><span class="k">:</span> <span class="kt">Unit</span> <span class="o">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">manager</span> <span class="k">=</span> <span class="n">injector</span><span class="o">.</span><span class="n">instance</span><span class="o">[</span><span class="kt">ExceptionManager</span><span class="o">]</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">add</span><span class="o">[</span><span class="kt">MyDefaultExceptionMapper</span><span class="o">]</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">add</span><span class="o">[</span><span class="kt">OtherExceptionMapper</span><span class="o">]</span>
  <span class="o">}</span>
<span class="o">}</span>


<span class="k">override</span> <span class="k">val</span> <span class="n">modules</span> <span class="k">=</span> <span class="nc">Seq</span><span class="o">(</span>
  <span class="nc">MyExceptionMapperModule</span><span class="o">,</span>
  <span class="o">...)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">This also means we can simplify the HttpServer as we no longer need to
expose</div>
<div class="line">any “framework” module for overridding the default ExceptionMappers.
So the</div>
<div class="line">“def exceptionMapperModule” has also been removed.<code class="docutils literal notranslate"><span class="pre">RB_ID=868614</span></code></div>
</div>
<ul class="simple">
<li>finatra-http: Specify HTTP Java API consistently. <code class="docutils literal notranslate"><span class="pre">RB_ID=868264</span></code></li>
<li>inject-core: Clean up inject.Logging trait. Remove dead code from
Logging.
<code class="docutils literal notranslate"><span class="pre">RB_ID=868261</span></code></li>
<li>finatra-http: Move integration tests to a package under
<code class="docutils literal notranslate"><span class="pre">com.twitter.finatra.http</span></code>. <code class="docutils literal notranslate"><span class="pre">RB_ID=866487</span></code></li>
</ul>
</div>
<div class="section" id="id277">
<h3>Fixed<a class="headerlink" href="#id277" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Fix issue with unimplemented methods in
NonValidatingHttpHeadersResponse. <code class="docutils literal notranslate"><span class="pre">RB_ID=868480</span></code></li>
</ul>
</div>
<div class="section" id="id278">
<h3>Closed<a class="headerlink" href="#id278" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id279">
<h2>2.3.0<a class="headerlink" href="#id279" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id280">
<h3>Added<a class="headerlink" href="#id280" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Add non-guice method to add controller to
ThriftRouter <code class="docutils literal notranslate"><span class="pre">RB_ID=863977</span></code></li>
<li>finatra-thrift: Add support for a “dark” traffic filter in thrift
routing. Add a Finatra implementation
of the Finagle AbstractDarkTrafficFilter which sub-classes
ThriftFilter and will work in the Finatra
filter chain. This will allow users to play incoming requests to a
configured “dark” service. <code class="docutils literal notranslate"><span class="pre">RB_ID=852338</span></code></li>
</ul>
</div>
<div class="section" id="id281">
<h3>Changed<a class="headerlink" href="#id281" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Performance improvements from latest micro-benchmarking
run.</li>
<li>BREAKING API CHANGE: Removed <code class="docutils literal notranslate"><span class="pre">HttpHeaders#setDate</span></code>,
<code class="docutils literal notranslate"><span class="pre">HttpHeaders#set</span></code> and <code class="docutils literal notranslate"><span class="pre">HttpHeaders#GMT</span></code>. <code class="docutils literal notranslate"><span class="pre">RB_ID=865247</span></code></li>
<li>finatra-thrift: Provide access to statsReceiver argument in
ThriftClientFilterBuilder. <code class="docutils literal notranslate"><span class="pre">RB_ID=857286</span></code></li>
</ul>
</div>
<div class="section" id="id282">
<h3>Fixed<a class="headerlink" href="#id282" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Add content headers for EmbeddedHttpServer #httpDelete
and #httpPatch methods. <code class="docutils literal notranslate"><span class="pre">RB_ID=862200</span></code></li>
</ul>
</div>
<div class="section" id="id283">
<h3>Closed<a class="headerlink" href="#id283" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="id284">
<h2>2.2.0<a class="headerlink" href="#id284" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id285">
<h3>Added<a class="headerlink" href="#id285" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Add python namespace to
finatra_thrift_exceptions.thrift. <code class="docutils literal notranslate"><span class="pre">RB_ID=844668</span></code></li>
<li>finatra-http: Support ANY method in HTTP Controllers. Adds support
for defining routes which will answer
to “any” HTTP method. <code class="docutils literal notranslate"><span class="pre">RB_ID=830429</span></code></li>
</ul>
</div>
<div class="section" id="id286">
<h3>Changed<a class="headerlink" href="#id286" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">finatra: Address lifecycle around com.twitter.inject.app.App#appMain.</p>
</li>
<li><p class="first">(BREAKING CHANGE) EmbeddedApp has been completely re-written to be a
better utility for testing command-line applications,
as a result there are transparent changes to EmbeddedTwitterServer.</p>
</li>
<li><p class="first">com.twitter.inject.app.App#appMain is now
com.twitter.inject.app.App#run and
com.twitter.inject.server.TwitterServer#start.</p>
<blockquote>
<div><p class="rubric" id="run-is-used-for-running-applications-and-start-is-used-for-starting-servers-in-the-lifecycle-twitterserver-implements">run() is used for “running” applications and #start() is
used for “starting” servers. In the lifecycle TwitterServer
implements</p>
</div></blockquote>
<p>App#run() as final and simply delegates to the start() method.</p>
</li>
<li><p class="first">Server await callback for adding server Awaitables to a list so that
the server will now Await.all on all collected
Awaitables.</p>
</li>
<li><p class="first">Added a new TwitterModuleLifecycle method:
singletonPostWarmupComplete.</p>
</li>
<li><p class="first">More documentation around server and app Lifecycle methods, their
intended usages, and usages of callback functions.<code class="docutils literal notranslate"><span class="pre">RB_ID=844303</span></code></p>
</li>
<li><p class="first">finatra: Narrow visibility on classes/objects in internal packages.
Classes/objects in internal packages are not
intended for use outside of the framework. <code class="docutils literal notranslate"><span class="pre">RB_ID=845278</span></code></p>
</li>
<li><p class="first">finatra-http: fix HttpHeaders’s Date locale problem. <code class="docutils literal notranslate"><span class="pre">RB_ID=843966</span></code></p>
</li>
<li><p class="first">inject-thrift: Address issues with
com.twitter.inject.exceptions.PossiblyRetryable. PossiblyRetryable
does not correctly
determine what is retryable. Updated to correct the logic for better
default retry utility. <code class="docutils literal notranslate"><span class="pre">RB_ID=843428</span></code></p>
</li>
<li><p class="first">finatra: finatra: Move com.twitter.finatra.annotations.Flag|FlagImpl
to com.twitter.inject.annotations.Flag|FlagImpl. <code class="docutils literal notranslate"><span class="pre">RB_ID=843383</span></code></p>
</li>
<li><p class="first">finatra: Remove
com.twitter.inject.conversions.map#atomicGetOrElseUpdate. This was
necessary for Scala 2.10 support
since #getOrElseUpdate was not atomic until Scala 2.11.6. See:
<a class="reference external" href="https://github.com/scala/scala/pull/4319">https://github.com/scala/scala/pull/4319</a>. <code class="docutils literal notranslate"><span class="pre">RB_ID=842684</span></code></p>
</li>
<li><p class="first">finatra: Upgrade to Jackson 2.6.5. <code class="docutils literal notranslate"><span class="pre">RB_ID=836819</span></code></p>
</li>
<li><p class="first">inject: Introduce inject/inject-thrift module to undo cyclic
dependency introduced in RB 839427. <code class="docutils literal notranslate"><span class="pre">RB_ID=841128</span></code></p>
</li>
<li><p class="first">inject-thrift-client: Improvements to FilteredThriftClientModule to
provide finer-grain insight on ThriftClientExceptions.
NOTE: previously per-route failure stats were in the form:
route/add1String/GET/status/503/handled/ThriftClientException/Adder/add1String/com.twitter.finatra.thrift.thriftscala.ServerError</p>
</li>
</ul>
<p>These will now split across per-route and detailed “service component”
failure stats, e.g.,</p>
<div class="line-block">
<div class="line">// per-route</div>
<div class="line">route/add1String/GET/failure/adder-thrift/Adder/add1String/com.twitter.finatra.thrift.thriftscala.ServerError</div>
<div class="line">route/add1String/GET/status/503/mapped/ThriftClientException</div>
<div class="line">// service component</div>
<div class="line">service/failure/adder-thrift/Adder/add1String/com.twitter.finatra.thrift.thriftscala.ServerError</div>
</div>
<div class="line-block">
<div class="line">Where the latter is in the form
“service/failure/SOURCE/THRIFT_SERVICE_NAME/THRIFT_METHOD/NAME/details”.</div>
<div class="line">“SOURCE” is by default the thrift client label, however, users are
able to map this to something else.<code class="docutils literal notranslate"><span class="pre">RB_ID=839427</span></code></div>
</div>
<ul class="simple">
<li>finatra: Renamed Embedded testing utilities constructor args,
clientFlags –&gt; flags and extraArgs –&gt; args. <code class="docutils literal notranslate"><span class="pre">RB_ID=839537</span></code></li>
<li>finatra-http: Set Content-Length correctly in EmbeddedHttpServer, to
support multi-byte characters
in the request body. <code class="docutils literal notranslate"><span class="pre">RB_ID=837438</span></code></li>
<li>finatra-http: No longer special-case NoSuchMethodException in the
ExceptionMappingFilter. <code class="docutils literal notranslate"><span class="pre">RB_ID=837369</span></code></li>
<li>finatra-http: Remove deprecated package objects in
com.twitter.finatra. Callers should be using code in
the com.twitter.finatra.http package. <code class="docutils literal notranslate"><span class="pre">RB_ID=836194</span></code></li>
<li>finatra-http: Removed deprecated ExceptionBarrierFilter. NOTE: The
ExceptionBarrierFilter produced stats in the form:
“server/response/status/RESPONSE_CODE”. Using the replacement
StatsFilter (in combination with the
ExceptionMappingFilter) will produce more granular per-route stats.
The comparable stats from the StatsFilter will be
in the form: “route/ROUTE_URI/HTTP_METHOD/status/RESPONSE_CODE”
with an additional aggregated total
stat. <code class="docutils literal notranslate"><span class="pre">RB_ID=836073</span></code> E.g,
server/response/status/200: 5,
server/response/status/201: 5,
server/response/status/202: 5,
server/response/status/403: 5,</li>
</ul>
<div class="line-block">
<div class="line">will now be:</div>
<div class="line">route/bar_uri/GET/status/200: 5,</div>
<div class="line">route/bar_uri/GET/status/2XX: 5,</div>
<div class="line">route/bar_uri/GET/status/400: 5,</div>
<div class="line">route/bar_uri/GET/status/401: 5,</div>
<div class="line">route/bar_uri/GET/status/403: 5,</div>
<div class="line">route/bar_uri/GET/status/4XX: 15,</div>
<div class="line">route/foo_uri/POST/status/200: 5,</div>
<div class="line">route/foo_uri/POST/status/2XX: 5,</div>
<div class="line">route/foo_uri/POST/status/400: 5,</div>
<div class="line">route/foo_uri/POST/status/401: 5,</div>
<div class="line">route/foo_uri/POST/status/403: 5,</div>
<div class="line">route/foo_uri/POST/status/4XX: 15,</div>
</div>
<ul class="simple">
<li>finatra: Made implicit classes extend AnyVal for less runtime
overhead. <code class="docutils literal notranslate"><span class="pre">RB_ID=835972</span></code></li>
<li>finatra-http: Remove deprecated package objects in
com.twitter.finatra. Callers should be using code in
the com.twitter.finatra.http package. <code class="docutils literal notranslate"><span class="pre">RB_ID=836194</span></code></li>
<li>finatra: Publish all artifacts under com.twitter organization.
<code class="docutils literal notranslate"><span class="pre">RB_ID=834484</span></code></li>
<li>finatra: Update sbt memory settings. <code class="docutils literal notranslate"><span class="pre">RB_ID=834571</span></code></li>
<li>inject-server: Rename com.twitter.inject.server.TwitterServer#run to
com.twitter.inject.server.TwitterServer#handle. <code class="docutils literal notranslate"><span class="pre">RB_ID=833965</span></code></li>
<li>finatra-http: Move test utilities in
<code class="docutils literal notranslate"><span class="pre">com.twitter.finatra.http.test.*</span></code> to
<code class="docutils literal notranslate"><span class="pre">com.twitter.finatra.http.*</span></code>. <code class="docutils literal notranslate"><span class="pre">RB_ID=833170</span></code></li>
<li>finatra: Update SLF4J to version 1.7.21 and Logback to 1.1.7. Also
update example
logging configurations for best practices. <code class="docutils literal notranslate"><span class="pre">RB_ID=832633</span></code></li>
<li>Builds are now only for Java 8 and Scala 2.11. See the
<code class="docutils literal notranslate"><span class="pre">blog</span> <span class="pre">post</span> <span class="pre">&lt;https://finagle.github.io/blog/2016/04/20/scala-210-and-java7/&gt;</span></code>_
for details. <code class="docutils literal notranslate"><span class="pre">RB_ID=828898</span></code></li>
</ul>
</div>
<div class="section" id="id287">
<h3>Fixed<a class="headerlink" href="#id287" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-examples: Add sbt-revolver to the hello-world example. Fixes
<a class="reference external" href="https://github.com/twitter/finatra/issues/209">GH-209</a>.
<code class="docutils literal notranslate"><span class="pre">RB_ID=838215</span></code></li>
<li>finatra: Fix to properly support Java controllers that return Futures
in their route callbacks. <code class="docutils literal notranslate"><span class="pre">RB_ID=834467</span></code></li>
</ul>
</div>
<div class="section" id="id288">
<h3>Closed<a class="headerlink" href="#id288" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/twitter/finatra/issues/276">GH-276</a>.
<code class="docutils literal notranslate"><span class="pre">RB_ID=836819</span></code></li>
<li><a class="reference external" href="https://github.com/twitter/finatra/pull/273">PR-273</a>.
<code class="docutils literal notranslate"><span class="pre">RB_ID=838215</span></code></li>
<li><a class="reference external" href="https://github.com/twitter/finatra/pull/324">PR-324</a>.
<code class="docutils literal notranslate"><span class="pre">RB_ID=838215</span></code></li>
</ul>
</div>
</div>
<div class="section" id="id289">
<h2>2.1.6<a class="headerlink" href="#id289" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.1.5...finatra-2.1.6">Full
Changelog</a></p>
<div class="section" id="id290">
<h3>Added<a class="headerlink" href="#id290" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-thrift: Add ThriftWarmup for thrift servers. <code class="docutils literal notranslate"><span class="pre">RB_ID=820771</span></code></li>
<li>finatra-inject/inject-server: Register framework in Library registry.
<code class="docutils literal notranslate"><span class="pre">RB_ID=809458</span></code></li>
<li>finatra-http: Support for trace, connect &amp; options in RequestBuilder.
<code class="docutils literal notranslate"><span class="pre">RB_ID=811102</span></code></li>
<li>finatra-thrift: Allow for thrift server configuration.
<code class="docutils literal notranslate"><span class="pre">RB_ID=811126</span></code></li>
</ul>
</div>
<div class="section" id="id291">
<h3>Changed<a class="headerlink" href="#id291" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra/twitter-server: Update to register TwitterServer as library
in /admin/registry.json. <code class="docutils literal notranslate"><span class="pre">RB_ID=825129</span></code></li>
<li>finatra-inject/inject-server: Deprecate PromoteToOldGenUtils in favor
of twitter-server’s prebindWarmup event. <code class="docutils literal notranslate"><span class="pre">RB_ID=819411</span></code></li>
<li>finatra-http: Move HttpServer to new Http stack API. <code class="docutils literal notranslate"><span class="pre">RB_ID=812718</span></code></li>
</ul>
</div>
<div class="section" id="id292">
<h3>Fixed<a class="headerlink" href="#id292" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Revert sbt-scoverage plugin to 1.2.0. <code class="docutils literal notranslate"><span class="pre">RB_ID=812098</span></code></li>
<li>finatra-http: Ensure headers are set correctly in requests and
responses. <code class="docutils literal notranslate"><span class="pre">RB_ID=813969</span></code></li>
</ul>
</div>
<div class="section" id="id293">
<h3>Closed<a class="headerlink" href="#id293" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="v2-1-5-2016-03-15">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.1.5">v2.1.5</a> (2016-03-15)<a class="headerlink" href="#v2-1-5-2016-03-15" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.1.4...v2.1.5">Full
Changelog</a></p>
<div class="section" id="id294">
<h3>Added<a class="headerlink" href="#id294" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http: Ability to access the finagle request in the
ResponseBuilder
for templating. <code class="docutils literal notranslate"><span class="pre">RB_ID=805317</span></code></li>
<li>finatra-http: Added ability to register routes into the TwitterServer
admin UI. <code class="docutils literal notranslate"><span class="pre">RB_ID=808272</span></code></li>
<li>finatra: Added PULL_REQUEST_TEMPLATE <code class="docutils literal notranslate"><span class="pre">RB_ID=808946</span></code></li>
</ul>
</div>
<div class="section" id="id295">
<h3>Changed<a class="headerlink" href="#id295" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra: Move to <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch as default branch for Github.
<code class="docutils literal notranslate"><span class="pre">RB_ID=810088</span></code></li>
<li>finatra: Updated test jars to <strong>only</strong> contain test utility
code. <code class="docutils literal notranslate"><span class="pre">RB_ID=809803</span></code></li>
</ul>
</div>
<div class="section" id="id296">
<h3>Fixed<a class="headerlink" href="#id296" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>finatra-http; finatra-thrift: Slf4JBridgeModule is added by default
and no
longer breaks services which use the slf4k-jdk14 logging
implementation. <code class="docutils literal notranslate"><span class="pre">RB_ID=807171</span></code></li>
<li>finatra-http: Fixed incorrect (or missing) content-type on some http
responses. <code class="docutils literal notranslate"><span class="pre">RB_ID=807773</span></code></li>
<li>finatra-jackson: Fix to support doubles/floats in the jackson
Min/Max/Range
validations. <code class="docutils literal notranslate"><span class="pre">RB_ID=809821</span></code></li>
</ul>
</div>
</div>
<div class="section" id="v2-1-4-2016-02-25">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.1.4">v2.1.4</a> (2016-02-25)<a class="headerlink" href="#v2-1-4-2016-02-25" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.1.3...v2.1.4">Full
Changelog</a></p>
<div class="section" id="id297">
<h3>Fixed<a class="headerlink" href="#id297" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Some Scaladoc links are broken on twitter.github.io/finatra <a class="reference external" href="https://github.com/twitter/finatra/issues/298">Github
Issue 298</a></li>
</ul>
</div>
<div class="section" id="id298">
<h3>Closed<a class="headerlink" href="#id298" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>LoggingMDCFilter lacks documentation <a class="reference external" href="https://github.com/twitter/finatra/issues/303">Github Issue
303</a></li>
<li>bug in finatra/examples/hello-world/src/main/resources/logback.xml
<a class="reference external" href="https://github.com/twitter/finatra/issues/289">Github Issue 289</a></li>
<li>Improve error message when &#64;Header field is missing <a class="reference external" href="https://github.com/twitter/finatra/issues/263">Github Issue
263</a></li>
</ul>
</div>
</div>
<div class="section" id="v2-1-3-2016-02-05">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.1.3">v2.1.3</a> (2016-02-05)<a class="headerlink" href="#v2-1-3-2016-02-05" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.1.2...v2.1.3">Full
Changelog</a></p>
<div class="section" id="id299">
<h3>Closed<a class="headerlink" href="#id299" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Is it possible to have different modules listen in different ports?
<a class="reference external" href="https://github.com/twitter/finatra/issues/295">Github Issue 295</a></li>
<li>Asynchronous method validations <a class="reference external" href="https://github.com/twitter/finatra/issues/292">Github Issue
292</a></li>
<li>if the Cookie contain version=’’ ,can’t get the request.cookies
<a class="reference external" href="https://github.com/twitter/finatra/issues/290">Github Issue 290</a></li>
<li>Failed to auto configure default logger context <a class="reference external" href="https://github.com/twitter/finatra/issues/288">Github Issue
288</a></li>
<li>Inject properties <a class="reference external" href="https://github.com/twitter/finatra/issues/287">Github Issue
287</a></li>
<li>sbt compile error on master <a class="reference external" href="https://github.com/twitter/finatra/issues/284">Github Issue
284</a></li>
<li>Optionally announce server location on startup <a class="reference external" href="https://github.com/twitter/finatra/issues/241">Github Issue
241</a></li>
</ul>
</div>
</div>
<div class="section" id="v2-1-2-2015-12-09">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.1.2">v2.1.2</a> (2015-12-09)<a class="headerlink" href="#v2-1-2-2015-12-09" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.1.1...v2.1.2">Full
Changelog</a></p>
<div class="section" id="id300">
<h3>Fixed<a class="headerlink" href="#id300" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Missing Scaladoc <a class="reference external" href="https://github.com/twitter/finatra/issues/279">Github Issue
279</a></li>
</ul>
</div>
<div class="section" id="id301">
<h3>Closed<a class="headerlink" href="#id301" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Finatra + Protobuf <a class="reference external" href="https://github.com/twitter/finatra/issues/277">Github Issue
277</a></li>
<li>Simple hello-world example does not compiled <a class="reference external" href="https://github.com/twitter/finatra/issues/274">Github Issue
274</a></li>
<li>Allow overriding of the http service name <a class="reference external" href="https://github.com/twitter/finatra/issues/270">Github Issue
270</a></li>
<li>Bump to latest finagle? <a class="reference external" href="https://github.com/twitter/finatra/issues/266">Github Issue
266</a></li>
<li>ClassCastException: com.twitter.inject.logging.FinagleMDCAdapter
cannot be cast to ch.qos.logback.classic.util.LogbackMDCAdapter
<a class="reference external" href="https://github.com/twitter/finatra/issues/256">Github Issue 256</a></li>
</ul>
</div>
</div>
<div class="section" id="v2-1-1-2015-10-29">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.1.1">v2.1.1</a> (2015-10-29)<a class="headerlink" href="#v2-1-1-2015-10-29" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.1.0...v2.1.1">Full
Changelog</a></p>
<div class="section" id="id302">
<h3>Closed<a class="headerlink" href="#id302" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Update Startup Test on doc <a class="reference external" href="https://github.com/twitter/finatra/issues/261">Github Issue
261</a></li>
<li>Error with simple test using httpPutJson <a class="reference external" href="https://github.com/twitter/finatra/issues/257">Github Issue
257</a></li>
<li>appfrog problem with admin server, I only can use one port <a class="reference external" href="https://github.com/twitter/finatra/issues/252">Github
Issue 252</a></li>
<li>Streaming content every X seconds <a class="reference external" href="https://github.com/twitter/finatra/issues/250">Github Issue
250</a></li>
<li>Mustache templates getting stripped <a class="reference external" href="https://github.com/twitter/finatra/issues/112">Github Issue
112</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Remove unneccesary files <a class="reference external" href="https://github.com/twitter/finatra/pull/265">Github Issue
265</a>
(<a class="reference external" href="https://github.com/cacoco">cacoco</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v2-1-0-2015-10-01">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.1.0">v2.1.0</a> (2015-10-01)<a class="headerlink" href="#v2-1-0-2015-10-01" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.0.1...v2.1.0">Full
Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>finatra/inject * Rename InjectUtils to more specific PoolUtils
<a class="reference external" href="https://github.com/twitter/finatra/pull/258">Github Issue 258</a>
(<a class="reference external" href="https://github.com/cacoco">cacoco</a>)</li>
</ul>
</div>
<div class="section" id="v2-0-1-2015-09-21">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.0.1">v2.0.1</a> (2015-09-21)<a class="headerlink" href="#v2-0-1-2015-09-21" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.0.0...v2.0.1">Full
Changelog</a></p>
<div class="section" id="id303">
<h3>Closed<a class="headerlink" href="#id303" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Split code into packages/modules <a class="reference external" href="https://github.com/twitter/finatra/issues/254">Github Issue
254</a></li>
<li>Support for Scala Future’s <a class="reference external" href="https://github.com/twitter/finatra/issues/249">Github Issue
249</a></li>
<li>Override TwitterModule in FeatureTest <a class="reference external" href="https://github.com/twitter/finatra/issues/233">Github Issue
233</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Update TweetsControllerIntegrationTest.scala <a class="reference external" href="https://github.com/twitter/finatra/pull/251">Github Issue
251</a>
(<a class="reference external" href="https://github.com/scosenza">scosenza</a>)</li>
<li>Update Travis CI to build with java8 fix. <a class="reference external" href="https://github.com/twitter/finatra/pull/244">Github Issue
244</a>
(<a class="reference external" href="https://github.com/cacoco">cacoco</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v2-0-0-2015-09-09">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.0.0">v2.0.0</a> (2015-09-09)<a class="headerlink" href="#v2-0-0-2015-09-09" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.0.0.M2...v2.0.0">Full
Changelog</a></p>
<div class="section" id="id304">
<h3>Closed<a class="headerlink" href="#id304" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Singleton classes <a class="reference external" href="https://github.com/twitter/finatra/issues/236">Github Issue
236</a></li>
<li>com.twitter.finatra.utils.ResponseUtils for 2.0.0.M2 missing
functions used in examples <a class="reference external" href="https://github.com/twitter/finatra/issues/235">Github Issue
235</a></li>
<li>Warmup example in README seems to be using non-existent features
<a class="reference external" href="https://github.com/twitter/finatra/issues/234">Github Issue 234</a></li>
<li>Unable to resolve finatra-slf4j artifact <a class="reference external" href="https://github.com/twitter/finatra/issues/232">Github Issue
232</a></li>
<li>Unable to resolve some of the dependencies <a class="reference external" href="https://github.com/twitter/finatra/issues/231">Github Issue
231</a></li>
<li>How to render static webpage in finatra2 <a class="reference external" href="https://github.com/twitter/finatra/issues/230">Github Issue
230</a></li>
<li>When running a FeatureTest a lot of data is dumped to stdout and
stderr <a class="reference external" href="https://github.com/twitter/finatra/issues/226">Github Issue
226</a></li>
<li>Mapping a header by name to a case class requires additional metadata
<a class="reference external" href="https://github.com/twitter/finatra/issues/225">Github Issue 225</a></li>
<li>Missing scaladoc documentation <a class="reference external" href="https://github.com/twitter/finatra/issues/221">Github Issue
221</a></li>
<li>finatra-hello-world does not compile <a class="reference external" href="https://github.com/twitter/finatra/issues/219">Github Issue
219</a></li>
<li>Add tags for Finatra 1.6.0 and 1.5.4 <a class="reference external" href="https://github.com/twitter/finatra/issues/216">Github Issue
216</a></li>
<li>FeatureTest withJsonBody not working <a class="reference external" href="https://github.com/twitter/finatra/issues/215">Github Issue
215</a></li>
<li>Disable admin <a class="reference external" href="https://github.com/twitter/finatra/issues/208">Github Issue
208</a></li>
<li>Regexes in paths for route definitions <a class="reference external" href="https://github.com/twitter/finatra/issues/197">Github Issue
197</a></li>
<li>AppService doesn’t support POST of JSON containing % and then &amp;
<a class="reference external" href="https://github.com/twitter/finatra/issues/173">Github Issue 173</a></li>
<li>fatjar includes unexpected assets in the public directory <a class="reference external" href="https://github.com/twitter/finatra/issues/147">Github
Issue 147</a></li>
<li>allow subclassing of request <a class="reference external" href="https://github.com/twitter/finatra/issues/116">Github Issue
116</a></li>
<li>Builtin Compressor for static files <a class="reference external" href="https://github.com/twitter/finatra/issues/113">Github Issue
113</a></li>
<li>bring back controller prefixes <a class="reference external" href="https://github.com/twitter/finatra/issues/104">Github Issue
104</a></li>
<li>code coverage stats <a class="reference external" href="https://github.com/twitter/finatra/issues/98">Github Issue
98</a></li>
<li>Add Aurora/Mesos support <a class="reference external" href="https://github.com/twitter/finatra/issues/94">Github Issue
94</a></li>
<li>Simplify Cookie API with a CookieBuilder <a class="reference external" href="https://github.com/twitter/finatra/issues/93">Github Issue
93</a></li>
<li>implement a routes.txt in admin <a class="reference external" href="https://github.com/twitter/finatra/issues/80">Github Issue
80</a></li>
<li>support ETAGS and/or Cache-Control headers in file server <a class="reference external" href="https://github.com/twitter/finatra/issues/73">Github
Issue 73</a></li>
<li>asset pipeline filter <a class="reference external" href="https://github.com/twitter/finatra/issues/62">Github Issue
62</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Scosenza update readmes <a class="reference external" href="https://github.com/twitter/finatra/pull/242">Github Issue
242</a>
(<a class="reference external" href="https://github.com/scosenza">scosenza</a>)</li>
<li>Update warmup docs <a class="reference external" href="https://github.com/twitter/finatra/pull/238">Github Issue
238</a>
(<a class="reference external" href="https://github.com/scosenza">scosenza</a>)</li>
<li>Change Google Analytics tracking to use Twitter OSS account <a class="reference external" href="https://github.com/twitter/finatra/pull/217">Github
Issue 217</a>
(<a class="reference external" href="https://github.com/travisbrown">travisbrown</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v2-0-0-m2-2015-06-12">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.0.0.M2">v2.0.0.M2</a> (2015-06-12)<a class="headerlink" href="#v2-0-0-m2-2015-06-12" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/v2.0.0.M1...v2.0.0.M2">Full
Changelog</a></p>
<div class="section" id="id305">
<h3>Closed<a class="headerlink" href="#id305" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Issue with POST request <a class="reference external" href="https://github.com/twitter/finatra/issues/214">Github Issue
214</a></li>
<li>error running example with sbt run: overloaded method value settings
with alternatives. <a class="reference external" href="https://github.com/twitter/finatra/issues/207">Github Issue
207</a></li>
<li>Was the 1.5.3 release retagged? <a class="reference external" href="https://github.com/twitter/finatra/issues/206">Github Issue
206</a></li>
<li>Finatra 1.5.3 and dependencies at Travis CI <a class="reference external" href="https://github.com/twitter/finatra/issues/205">Github Issue
205</a></li>
<li>Add an ADOPTERs.md <a class="reference external" href="https://github.com/twitter/finatra/issues/204">Github Issue
204</a></li>
<li>connect finagle filter to specific controller <a class="reference external" href="https://github.com/twitter/finatra/issues/203">Github Issue
203</a></li>
<li>Does Finatra support Scala 2.11? <a class="reference external" href="https://github.com/twitter/finatra/issues/196">Github Issue
196</a></li>
<li>Support multipart PUT requests <a class="reference external" href="https://github.com/twitter/finatra/issues/194">Github Issue
194</a></li>
<li>Content-type custom settings do not work when render json <a class="reference external" href="https://github.com/twitter/finatra/issues/191">Github
Issue 191</a></li>
<li>FlatSpecHelper dependency missing in finagle 1.6.0 <a class="reference external" href="https://github.com/twitter/finatra/issues/189">Github Issue
189</a></li>
<li>Allow other logging handlers <a class="reference external" href="https://github.com/twitter/finatra/issues/187">Github Issue
187</a></li>
<li>ErrorHandler used by ControllerCollection depends on order
Controllers are added <a class="reference external" href="https://github.com/twitter/finatra/issues/182">Github Issue
182</a></li>
<li>Deployment for newly generated project does not work on heroku
<a class="reference external" href="https://github.com/twitter/finatra/issues/180">Github Issue 180</a></li>
<li>finatra doc typo <a class="reference external" href="https://github.com/twitter/finatra/issues/174">Github Issue
174</a></li>
<li>Admin interface is showing a blank page. <a class="reference external" href="https://github.com/twitter/finatra/issues/171">Github Issue
171</a></li>
<li>Update to scala 2.11.x <a class="reference external" href="https://github.com/twitter/finatra/issues/159">Github Issue
159</a></li>
<li>Missing static resources report 500 Internal Server Error <a class="reference external" href="https://github.com/twitter/finatra/issues/157">Github
Issue 157</a></li>
<li>flag values are not resolved until server starts <a class="reference external" href="https://github.com/twitter/finatra/issues/148">Github Issue
148</a></li>
<li>docs are wrong about default template path <a class="reference external" href="https://github.com/twitter/finatra/issues/143">Github Issue
143</a></li>
<li>Static files can`t be found if finatra server starts at Windows
<a class="reference external" href="https://github.com/twitter/finatra/issues/130">Github Issue 130</a></li>
<li>Add support for parsing JSON request body <a class="reference external" href="https://github.com/twitter/finatra/issues/129">Github Issue
129</a></li>
<li>Add test for unicode content-length <a class="reference external" href="https://github.com/twitter/finatra/issues/122">Github Issue
122</a></li>
<li>Expose logger without having to include App and Logger traits in
every class <a class="reference external" href="https://github.com/twitter/finatra/issues/121">Github Issue
121</a></li>
<li>Make View class generic <a class="reference external" href="https://github.com/twitter/finatra/issues/118">Github Issue
118</a></li>
<li>premain docs <a class="reference external" href="https://github.com/twitter/finatra/issues/114">Github Issue
114</a></li>
<li>allow registration of custom jackson modules <a class="reference external" href="https://github.com/twitter/finatra/issues/110">Github Issue
110</a></li>
<li>Add CONTRIBUTING.md <a class="reference external" href="https://github.com/twitter/finatra/issues/109">Github Issue
109</a></li>
<li>expose server ip at startup time <a class="reference external" href="https://github.com/twitter/finatra/issues/108">Github Issue
108</a></li>
<li>explore dynamic routing <a class="reference external" href="https://github.com/twitter/finatra/issues/103">Github Issue
103</a></li>
<li>implement rails-like “flash” <a class="reference external" href="https://github.com/twitter/finatra/issues/100">Github Issue
100</a></li>
<li>CSRF Support <a class="reference external" href="https://github.com/twitter/finatra/issues/89">Github Issue
89</a></li>
<li>Session support <a class="reference external" href="https://github.com/twitter/finatra/issues/88">Github Issue
88</a></li>
<li>Configurable Key/Value store <a class="reference external" href="https://github.com/twitter/finatra/issues/87">Github Issue
87</a></li>
<li>apache-like directory browser for files <a class="reference external" href="https://github.com/twitter/finatra/issues/54">Github Issue
54</a></li>
<li>benchmark suite with caliper <a class="reference external" href="https://github.com/twitter/finatra/issues/45">Github Issue
45</a></li>
<li>RequestAdapter does not support multiple values for query params
<a class="reference external" href="https://github.com/twitter/finatra/issues/22">Github Issue 22</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Update README.md <a class="reference external" href="https://github.com/twitter/finatra/pull/202">Github Issue
202</a>
(<a class="reference external" href="https://github.com/scosenza">scosenza</a>)</li>
</ul>
</div>
</div>
<div class="section" id="v2-0-0-m1-2015-04-30">
<h2><a class="reference external" href="https://github.com/twitter/finatra/tree/v2.0.0.M1">v2.0.0.M1</a> (2015-04-30)<a class="headerlink" href="#v2-0-0-m1-2015-04-30" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.6.0...v2.0.0.M1">Full
Changelog</a></p>
<div class="section" id="id306">
<h3>Closed<a class="headerlink" href="#id306" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>UNRESOLVED DEPENDENCIES <a class="reference external" href="https://github.com/twitter/finatra/issues/199">Github Issue
199</a></li>
<li>Changing port breaks embedded static file server <a class="reference external" href="https://github.com/twitter/finatra/issues/192">Github Issue
192</a></li>
<li>Finatra cannot be built when Finagle’s version is greater than 6.13.0
<a class="reference external" href="https://github.com/twitter/finatra/issues/153">Github Issue 153</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>2.0.0.M1 <a class="reference external" href="https://github.com/twitter/finatra/pull/200">Github Issue
200</a>
(<a class="reference external" href="https://github.com/cacoco">cacoco</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id307">
<h2>1.6.0<a class="headerlink" href="#id307" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.5.4...1.6.0">Full
Changelog</a></p>
<div class="section" id="id308">
<h3>Closed<a class="headerlink" href="#id308" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Finatra 1.5.4 with finagle-stats 6.22.0 throws an exception <a class="reference external" href="https://github.com/twitter/finatra/issues/184">Github
Issue 184</a></li>
<li>Document unit testing controllers by using MockApp <a class="reference external" href="https://github.com/twitter/finatra/issues/178">Github Issue
178</a></li>
<li>maven.twttr.com not showing finatra <a class="reference external" href="https://github.com/twitter/finatra/issues/175">Github Issue
175</a></li>
<li>Finatra 1.5.4 java.lang.RuntimeException with Finagle 6.22.0 <a class="reference external" href="https://github.com/twitter/finatra/issues/172">Github
Issue 172</a></li>
<li>Error while pushing on Heroku <a class="reference external" href="https://github.com/twitter/finatra/issues/170">Github Issue
170</a></li>
<li>Finatra closes connection <a class="reference external" href="https://github.com/twitter/finatra/issues/161">Github Issue
161</a></li>
<li>Spec test doesn’t populate multiParams <a class="reference external" href="https://github.com/twitter/finatra/issues/155">Github Issue
155</a></li>
<li>RequestAdapter fails to decode non-multipart POSTs <a class="reference external" href="https://github.com/twitter/finatra/issues/154">Github Issue
154</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>FIX: issue Github Issue 182, let controller’s error handler handle
its own errors. <a class="reference external" href="https://github.com/twitter/finatra/pull/188">Github Issue
188</a>
(<a class="reference external" href="https://github.com/plaflamme">plaflamme</a>)</li>
<li>Update to use new Travis CI infrastructure <a class="reference external" href="https://github.com/twitter/finatra/pull/186">Github Issue
186</a>
(<a class="reference external" href="https://github.com/caniszczyk">caniszczyk</a>)</li>
<li>Refactor FinatraServer to allow custom tlsConfig <a class="reference external" href="https://github.com/twitter/finatra/pull/183">Github Issue
183</a>
(<a class="reference external" href="https://github.com/bpfoster">bpfoster</a>)</li>
<li>Fix heroku deployments for template project <a class="reference external" href="https://github.com/twitter/finatra/pull/181">Github Issue
181</a>
(<a class="reference external" href="https://github.com/tomjadams">tomjadams</a>)</li>
<li>remove dependency on scalatest <a class="reference external" href="https://github.com/twitter/finatra/pull/179">Github Issue
179</a>
(<a class="reference external" href="https://github.com/c089">c089</a>)</li>
<li>Update to twitter-server 1.8.0 and finagle 6.22.0 <a class="reference external" href="https://github.com/twitter/finatra/pull/176">Github Issue
176</a>
(<a class="reference external" href="https://github.com/bpfoster">bpfoster</a>)</li>
<li>Add an apache style directory browser <a class="reference external" href="https://github.com/twitter/finatra/pull/169">Github Issue
169</a>
(<a class="reference external" href="https://github.com/leeavital">leeavital</a>)</li>
<li>MultipartParsing should only be called for POST requests that are
multipart <a class="reference external" href="https://github.com/twitter/finatra/pull/168">Github Issue
168</a>
(<a class="reference external" href="https://github.com/manjuraj">manjuraj</a>)</li>
<li>fixed resource resolution not loading from dependencies, and
consistent … <a class="reference external" href="https://github.com/twitter/finatra/pull/167">Github Issue
167</a>
(<a class="reference external" href="https://github.com/tptodorov">tptodorov</a>)</li>
<li>Fix type error in sample code <a class="reference external" href="https://github.com/twitter/finatra/pull/165">Github Issue
165</a>
(<a class="reference external" href="https://github.com/leeavital">leeavital</a>)</li>
<li>added builder from ChannelBuffer <a class="reference external" href="https://github.com/twitter/finatra/pull/164">Github Issue
164</a>
(<a class="reference external" href="https://github.com/tptodorov">tptodorov</a>)</li>
<li>Do not log errors in the ErrorHandler <a class="reference external" href="https://github.com/twitter/finatra/pull/163">Github Issue
163</a>
(<a class="reference external" href="https://github.com/eponvert">eponvert</a>)</li>
<li>Adding missing copyright headers to source files <a class="reference external" href="https://github.com/twitter/finatra/pull/162">Github Issue
162</a>
(<a class="reference external" href="https://github.com/bdimmick">bdimmick</a>)</li>
<li>support use of templates from dependencies in development mode, by
loadi… <a class="reference external" href="https://github.com/twitter/finatra/pull/160">Github Issue
160</a>
(<a class="reference external" href="https://github.com/tptodorov">tptodorov</a>)</li>
<li>Update readme.md to reflect issues on installation <a class="reference external" href="https://github.com/twitter/finatra/pull/152">Github Issue
152</a>
(<a class="reference external" href="https://github.com/comamitc">comamitc</a>)</li>
<li>Add code coverage support with coveralls <a class="reference external" href="https://github.com/twitter/finatra/pull/151">Github Issue
151</a>
(<a class="reference external" href="https://github.com/caniszczyk">caniszczyk</a>)</li>
<li>Use HttpServerDispatcher to fix remoteAddress property of Request.
<a class="reference external" href="https://github.com/twitter/finatra/pull/142">Github Issue 142</a>
(<a class="reference external" href="https://github.com/pixell">pixell</a>)</li>
<li>Don’t add .mustache extension to template file name if it already has
an extension <a class="reference external" href="https://github.com/twitter/finatra/pull/138">Github Issue
138</a>
(<a class="reference external" href="https://github.com/jliszka">jliszka</a>)</li>
<li>Pass the filename of the template to the factory <a class="reference external" href="https://github.com/twitter/finatra/pull/136">Github Issue
136</a>
(<a class="reference external" href="https://github.com/jliszka">jliszka</a>)</li>
<li>path definitions on routes <a class="reference external" href="https://github.com/twitter/finatra/pull/131">Github Issue
131</a>
(<a class="reference external" href="https://github.com/grandbora">grandbora</a>)</li>
<li>ObjectMapper reuse &amp; config <a class="reference external" href="https://github.com/twitter/finatra/pull/126">Github Issue
126</a>
(<a class="reference external" href="https://github.com/Xorlev">Xorlev</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id309">
<h2>1.5.4<a class="headerlink" href="#id309" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.5.3...1.5.4">Full
Changelog</a></p>
<div class="section" id="id310">
<h3>Closed<a class="headerlink" href="#id310" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Could add support for Windows? <a class="reference external" href="https://github.com/twitter/finatra/issues/145">Github Issue
145</a></li>
<li>Sessions example <a class="reference external" href="https://github.com/twitter/finatra/issues/134">Github Issue
134</a></li>
<li>No main class detected. <a class="reference external" href="https://github.com/twitter/finatra/issues/133">Github Issue
133</a></li>
<li>Unresolved dependencies <a class="reference external" href="https://github.com/twitter/finatra/issues/132">Github Issue
132</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Bumped twitter-server to 1.6.1 <a class="reference external" href="https://github.com/twitter/finatra/pull/150">Github Issue
150</a>
(<a class="reference external" href="https://github.com/pcalcado">pcalcado</a>)</li>
<li>modify FileService handle conditional GETs for static assets <a class="reference external" href="https://github.com/twitter/finatra/pull/144">Github
Issue 144</a>
(<a class="reference external" href="https://github.com/tomcz">tomcz</a>)</li>
<li>remove duplicated <code class="docutils literal notranslate"><span class="pre">organization</span></code> config <a class="reference external" href="https://github.com/twitter/finatra/pull/140">Github Issue
140</a>
(<a class="reference external" href="https://github.com/jalkoby">jalkoby</a>)</li>
<li>More render shortcuts <a class="reference external" href="https://github.com/twitter/finatra/pull/139">Github Issue
139</a>
(<a class="reference external" href="https://github.com/grandbora">grandbora</a>)</li>
<li>mixing Router with Twitter App creates exitTimer thread per request
<a class="reference external" href="https://github.com/twitter/finatra/pull/135">Github Issue 135</a>
(<a class="reference external" href="https://github.com/manjuraj">manjuraj</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id311">
<h2>1.5.3<a class="headerlink" href="#id311" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.5.2...1.5.3">Full
Changelog</a></p>
<div class="section" id="id312">
<h3>Closed<a class="headerlink" href="#id312" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Response body truncated <a class="reference external" href="https://github.com/twitter/finatra/issues/120">Github Issue
120</a></li>
<li>Add 2 methods in FinatraServer.scala for custom start stop Code
<a class="reference external" href="https://github.com/twitter/finatra/issues/107">Github Issue 107</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Adding shortcut methods to common http statuses <a class="reference external" href="https://github.com/twitter/finatra/pull/128">Github Issue
128</a>
(<a class="reference external" href="https://github.com/grandbora">grandbora</a>)</li>
<li>maxRequestSize flag has no effect <a class="reference external" href="https://github.com/twitter/finatra/pull/127">Github Issue
127</a>
(<a class="reference external" href="https://github.com/manjuraj">manjuraj</a>)</li>
<li>Add content-length: 0 for no content responses <a class="reference external" href="https://github.com/twitter/finatra/pull/124">Github Issue
124</a>
(<a class="reference external" href="https://github.com/grandbora">grandbora</a>)</li>
<li>Updated SpecHelper to support a body for POST, PUT and OPTIONS
methods <a class="reference external" href="https://github.com/twitter/finatra/pull/123">Github Issue
123</a>
(<a class="reference external" href="https://github.com/mattweyant">mattweyant</a>)</li>
<li>Use bytes length for content-length instead of string length <a class="reference external" href="https://github.com/twitter/finatra/pull/117">Github
Issue 117</a>
(<a class="reference external" href="https://github.com/beenokle">beenokle</a>)</li>
<li>Add helper for setting contentType <a class="reference external" href="https://github.com/twitter/finatra/pull/115">Github Issue
115</a>
(<a class="reference external" href="https://github.com/murz">murz</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id313">
<h2>1.5.2<a class="headerlink" href="#id313" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.5.1...1.5.2">Full
Changelog</a></p>
<div class="section" id="id314">
<h3>Closed<a class="headerlink" href="#id314" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>multipart/form-data regression <a class="reference external" href="https://github.com/twitter/finatra/issues/101">Github Issue
101</a></li>
<li>flight/bower and bootstrap built in <a class="reference external" href="https://github.com/twitter/finatra/issues/63">Github Issue
63</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>upgrade mustache to 0.8.14 <a class="reference external" href="https://github.com/twitter/finatra/pull/106">Github Issue
106</a>
(<a class="reference external" href="https://github.com/murz">murz</a>)</li>
<li>set Content-Length on static file responses <a class="reference external" href="https://github.com/twitter/finatra/pull/102">Github Issue
102</a>
(<a class="reference external" href="https://github.com/zuercher">zuercher</a>)</li>
<li>Add support for Bower and use default bootstrap.css in new projects
<a class="reference external" href="https://github.com/twitter/finatra/pull/99">Github Issue 99</a>
(<a class="reference external" href="https://github.com/armandocanals">armandocanals</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id315">
<h2>1.5.1<a class="headerlink" href="#id315" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.5.0a...1.5.1">Full
Changelog</a></p>
<div class="section" id="id316">
<h3>Closed<a class="headerlink" href="#id316" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>1.7.x <a class="reference external" href="https://github.com/twitter/finatra/issues/96">Github Issue
96</a></li>
<li>Investigate automatic html escaping in mustache templating <a class="reference external" href="https://github.com/twitter/finatra/issues/91">Github
Issue 91</a></li>
<li>Missing share files? <a class="reference external" href="https://github.com/twitter/finatra/issues/90">Github Issue
90</a></li>
<li>Stats broken after twitter-server upgrade <a class="reference external" href="https://github.com/twitter/finatra/issues/95">Github Issue
95</a></li>
<li>Response tied to originating request <a class="reference external" href="https://github.com/twitter/finatra/issues/86">Github Issue
86</a></li>
<li>Test/Harden logging <a class="reference external" href="https://github.com/twitter/finatra/issues/84">Github Issue
84</a></li>
<li>LogLevel doesn’t seem to work <a class="reference external" href="https://github.com/twitter/finatra/issues/83">Github Issue
83</a></li>
<li>enable full admin endpoints besides metrics.json <a class="reference external" href="https://github.com/twitter/finatra/issues/74">Github Issue
74</a></li>
<li>request.routeParams should be decoded <a class="reference external" href="https://github.com/twitter/finatra/issues/68">Github Issue
68</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Fix unicode rendering in json. Correct size of response is now set
<a class="reference external" href="https://github.com/twitter/finatra/pull/97">Github Issue 97</a>
(<a class="reference external" href="https://github.com/yuzeh">yuzeh</a>)</li>
<li>enable HTML escaping in mustache templates <a class="reference external" href="https://github.com/twitter/finatra/pull/92">Github Issue
92</a>
(<a class="reference external" href="https://github.com/zuercher">zuercher</a>)</li>
</ul>
</div>
</div>
<div class="section" id="a">
<h2>1.5.0a<a class="headerlink" href="#a" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.5.0...1.5.0a">Full
Changelog</a></p>
<div class="section" id="id317">
<h3>Closed<a class="headerlink" href="#id317" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>0 deprecation/warnings <a class="reference external" href="https://github.com/twitter/finatra/issues/17">Github Issue
17</a></li>
</ul>
</div>
</div>
<div class="section" id="id318">
<h2>1.5.0<a class="headerlink" href="#id318" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.4.1...1.5.0">Full
Changelog</a></p>
<div class="section" id="id319">
<h3>Closed<a class="headerlink" href="#id319" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>filters for select routes only <a class="reference external" href="https://github.com/twitter/finatra/issues/85">Github Issue
85</a></li>
<li>using websockets <a class="reference external" href="https://github.com/twitter/finatra/issues/81">Github Issue
81</a></li>
<li>maven to sbt <a class="reference external" href="https://github.com/twitter/finatra/issues/78">Github Issue
78</a></li>
<li>support in release scripts for dual publishing scala 2.9 and 2.10
<a class="reference external" href="https://github.com/twitter/finatra/issues/75">Github Issue 75</a></li>
<li>PUT and PATCH command param issue <a class="reference external" href="https://github.com/twitter/finatra/issues/71">Github Issue
71</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Add Content-Length header as part of building the request. <a class="reference external" href="https://github.com/twitter/finatra/pull/82">Github
Issue 82</a>
(<a class="reference external" href="https://github.com/BenWhitehead">BenWhitehead</a>)</li>
<li>FinatraServer should take the generic Filters, not SimpleFilters
<a class="reference external" href="https://github.com/twitter/finatra/pull/76">Github Issue 76</a>
(<a class="reference external" href="https://github.com/pcalcado">pcalcado</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id320">
<h2>1.4.1<a class="headerlink" href="#id320" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.4.0...finatra-1.4.1">Full
Changelog</a></p>
<div class="section" id="id321">
<h3>Closed<a class="headerlink" href="#id321" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>1.4.1 <a class="reference external" href="https://github.com/twitter/finatra/issues/72">Github Issue
72</a></li>
<li>Filter invoked 4 times per single request? <a class="reference external" href="https://github.com/twitter/finatra/issues/69">Github Issue
69</a></li>
<li>Filters not working <a class="reference external" href="https://github.com/twitter/finatra/issues/66">Github Issue
66</a></li>
<li>libthrift outdated <a class="reference external" href="https://github.com/twitter/finatra/issues/65">Github Issue
65</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Adding lazy service <a class="reference external" href="https://github.com/twitter/finatra/pull/67">Github Issue
67</a>
(<a class="reference external" href="https://github.com/grandbora">grandbora</a>)</li>
<li>Fixed a bug with Inheritance using Mustache <a class="reference external" href="https://github.com/twitter/finatra/pull/64">Github Issue
64</a>
(<a class="reference external" href="https://github.com/pranjaltech">pranjaltech</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id322">
<h2>1.4.0<a class="headerlink" href="#id322" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.4.0...1.4.0">Full
Changelog</a></p>
<div class="section" id="id323">
<h3>Closed<a class="headerlink" href="#id323" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>port back apache’s multiupload handler <a class="reference external" href="https://github.com/twitter/finatra/issues/43">Github Issue
43</a></li>
<li>move to com.twitter.common.metrics instead of ostrich.stats <a class="reference external" href="https://github.com/twitter/finatra/issues/42">Github
Issue 42</a></li>
<li>move to twitter-server once published <a class="reference external" href="https://github.com/twitter/finatra/issues/41">Github Issue
41</a></li>
<li>Add public/ dir in src/main/resources as new docroot <a class="reference external" href="https://github.com/twitter/finatra/issues/39">Github Issue
39</a></li>
</ul>
</div>
</div>
<div class="section" id="id324">
<h2>1.4.0<a class="headerlink" href="#id324" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.3.9...finatra-1.4.0">Full
Changelog</a></p>
</div>
<div class="section" id="id325">
<h2>1.3.9<a class="headerlink" href="#id325" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.9...1.3.9">Full
Changelog</a></p>
</div>
<div class="section" id="id326">
<h2>1.3.9<a class="headerlink" href="#id326" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.3.8...finatra-1.3.9">Full
Changelog</a></p>
</div>
<div class="section" id="id327">
<h2>1.3.8<a class="headerlink" href="#id327" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.8...1.3.8">Full
Changelog</a></p>
</div>
<div class="section" id="id328">
<h2>1.3.8<a class="headerlink" href="#id328" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/1.3.7...finatra-1.3.8">Full
Changelog</a></p>
<div class="section" id="id329">
<h3>Closed<a class="headerlink" href="#id329" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Make mustache factory use baseTemplatePath local docroot and template
path <a class="reference external" href="https://github.com/twitter/finatra/issues/56">Github Issue
56</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Concatenate local docroot and template path when forming
mustacheFactory <a class="reference external" href="https://github.com/twitter/finatra/pull/57">Github Issue
57</a>
(<a class="reference external" href="https://github.com/yuzeh">yuzeh</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id330">
<h2>1.3.7<a class="headerlink" href="#id330" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.7...1.3.7">Full
Changelog</a></p>
</div>
<div class="section" id="id331">
<h2>1.3.7<a class="headerlink" href="#id331" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.4...finatra-1.3.7">Full
Changelog</a></p>
</div>
<div class="section" id="id332">
<h2>1.3.4<a class="headerlink" href="#id332" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.3...finatra-1.3.4">Full
Changelog</a></p>
<div class="section" id="id333">
<h3>Closed<a class="headerlink" href="#id333" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>handle param routing for static file handling <a class="reference external" href="https://github.com/twitter/finatra/issues/55">Github Issue
55</a></li>
<li>make redirects RFC compliant <a class="reference external" href="https://github.com/twitter/finatra/issues/49">Github Issue
49</a></li>
<li>Sending redirect require a body <a class="reference external" href="https://github.com/twitter/finatra/issues/48">Github Issue
48</a></li>
<li>support a “rails style” render.action to render arbitrary actions
from any other action without a redirect <a class="reference external" href="https://github.com/twitter/finatra/issues/44">Github Issue
44</a></li>
<li>Startup / Shutdown hooks <a class="reference external" href="https://github.com/twitter/finatra/issues/37">Github Issue
37</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Support OPTIONS HTTP method <a class="reference external" href="https://github.com/twitter/finatra/pull/53">Github Issue
53</a>
(<a class="reference external" href="https://github.com/theefer">theefer</a>)</li>
<li>Stying pass across the codebase. Fixing conventions. <a class="reference external" href="https://github.com/twitter/finatra/pull/51">Github Issue
51</a>
(<a class="reference external" href="https://github.com/twoism">twoism</a>)</li>
<li>closes Github Issue 49 * make redirects match the RFC <a class="reference external" href="https://github.com/twitter/finatra/pull/50">Github Issue
50</a>
(<a class="reference external" href="https://github.com/twoism">twoism</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id334">
<h2>1.3.3<a class="headerlink" href="#id334" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.2...finatra-1.3.3">Full
Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>fixed typing of jsonGenerator so it can be actually overridden
<a class="reference external" href="https://github.com/twitter/finatra/pull/47">Github Issue 47</a>
(<a class="reference external" href="https://github.com/bmdhacks">bmdhacks</a>)</li>
</ul>
</div>
<div class="section" id="id335">
<h2>1.3.2<a class="headerlink" href="#id335" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.1...finatra-1.3.2">Full
Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>allow json encoder to be overwritten <a class="reference external" href="https://github.com/twitter/finatra/pull/46">Github Issue
46</a>
(<a class="reference external" href="https://github.com/bmdhacks">bmdhacks</a>)</li>
<li>shutdown the built server on shutdown <a class="reference external" href="https://github.com/twitter/finatra/pull/40">Github Issue
40</a>
(<a class="reference external" href="https://github.com/sprsquish">sprsquish</a>)</li>
</ul>
</div>
<div class="section" id="id336">
<h2>1.3.1<a class="headerlink" href="#id336" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.3.0...finatra-1.3.1">Full
Changelog</a></p>
<div class="section" id="id337">
<h3>Closed<a class="headerlink" href="#id337" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>./finatra update-readme no longer works <a class="reference external" href="https://github.com/twitter/finatra/issues/34">Github Issue
34</a></li>
</ul>
</div>
</div>
<div class="section" id="id338">
<h2>1.3.0<a class="headerlink" href="#id338" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.2.2...finatra-1.3.0">Full
Changelog</a></p>
</div>
<div class="section" id="id339">
<h2>1.2.2<a class="headerlink" href="#id339" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.2.0...finatra-1.2.2">Full
Changelog</a></p>
<div class="section" id="id340">
<h3>Closed<a class="headerlink" href="#id340" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>./finatra generator doesnt work on linux <a class="reference external" href="https://github.com/twitter/finatra/issues/24">Github Issue
24</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Handle downstream exceptions and display the error handler. <a class="reference external" href="https://github.com/twitter/finatra/pull/38">Github
Issue 38</a>
(<a class="reference external" href="https://github.com/bmdhacks">bmdhacks</a>)</li>
<li>Force mustache partials to be uncached from the local filesystem in
development mode. <a class="reference external" href="https://github.com/twitter/finatra/pull/36">Github Issue
36</a>
(<a class="reference external" href="https://github.com/morria">morria</a>)</li>
<li>Fixing call to the request logger <a class="reference external" href="https://github.com/twitter/finatra/pull/35">Github Issue
35</a>
(<a class="reference external" href="https://github.com/morria">morria</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id341">
<h2>1.2.0<a class="headerlink" href="#id341" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.1.1...finatra-1.2.0">Full
Changelog</a></p>
</div>
<div class="section" id="id342">
<h2>1.1.1<a class="headerlink" href="#id342" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.1.0...finatra-1.1.1">Full
Changelog</a></p>
<div class="section" id="id343">
<h3>Closed<a class="headerlink" href="#id343" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Custom error handlers <a class="reference external" href="https://github.com/twitter/finatra/issues/29">Github Issue
29</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Fix Set-Cookier header bug in response <a class="reference external" href="https://github.com/twitter/finatra/pull/31">Github Issue
31</a>
(<a class="reference external" href="https://github.com/hontent">hontent</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id344">
<h2>1.1.0<a class="headerlink" href="#id344" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.0.3...finatra-1.1.0">Full
Changelog</a></p>
<div class="section" id="id345">
<h3>Closed<a class="headerlink" href="#id345" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Publish to Maven Central <a class="reference external" href="https://github.com/twitter/finatra/issues/23">Github Issue
23</a></li>
</ul>
</div>
</div>
<div class="section" id="id346">
<h2>1.0.3<a class="headerlink" href="#id346" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.0.2...finatra-1.0.3">Full
Changelog</a></p>
</div>
<div class="section" id="id347">
<h2>1.0.2<a class="headerlink" href="#id347" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.0.1...finatra-1.0.2">Full
Changelog</a></p>
<div class="section" id="id348">
<h3>Closed<a class="headerlink" href="#id348" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Serve static files <a class="reference external" href="https://github.com/twitter/finatra/issues/28">Github Issue
28</a></li>
</ul>
</div>
</div>
<div class="section" id="id349">
<h2>1.0.1<a class="headerlink" href="#id349" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-1.0.0...finatra-1.0.1">Full
Changelog</a></p>
<div class="section" id="id350">
<h3>Closed<a class="headerlink" href="#id350" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Unable to retrieve post parameters <a class="reference external" href="https://github.com/twitter/finatra/issues/26">Github Issue
26</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>fix of post parameters <a class="reference external" href="https://github.com/twitter/finatra/pull/27">Github Issue
27</a>
(<a class="reference external" href="https://github.com/mairbek">mairbek</a>)</li>
<li>Immutable instead of mutable map in tests <a class="reference external" href="https://github.com/twitter/finatra/pull/25">Github Issue
25</a>
(<a class="reference external" href="https://github.com/mairbek">mairbek</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id351">
<h2>1.0.0<a class="headerlink" href="#id351" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.3.4...finatra-1.0.0">Full
Changelog</a></p>
<div class="section" id="id352">
<h3>Closed<a class="headerlink" href="#id352" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>an config <a class="reference external" href="https://github.com/twitter/finatra/issues/12">Github Issue
12</a></li>
</ul>
</div>
</div>
<div class="section" id="id353">
<h2>0.3.4<a class="headerlink" href="#id353" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.3.3...finatra-0.3.4">Full
Changelog</a></p>
<div class="section" id="id354">
<h3>Closed<a class="headerlink" href="#id354" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>do a perf review <a class="reference external" href="https://github.com/twitter/finatra/issues/13">Github Issue
13</a></li>
<li>update docs <a class="reference external" href="https://github.com/twitter/finatra/issues/8">Github Issue
8</a></li>
</ul>
</div>
</div>
<div class="section" id="id355">
<h2>0.3.3<a class="headerlink" href="#id355" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.3.2...finatra-0.3.3">Full
Changelog</a></p>
</div>
<div class="section" id="id356">
<h2>0.3.2<a class="headerlink" href="#id356" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.2.4...finatra-0.3.2">Full
Changelog</a></p>
<div class="section" id="id357">
<h3>Closed<a class="headerlink" href="#id357" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>allow insertion of userland filters into the finagle stack <a class="reference external" href="https://github.com/twitter/finatra/issues/15">Github
Issue 15</a></li>
<li>bubble up view/mustache errors <a class="reference external" href="https://github.com/twitter/finatra/issues/14">Github Issue
14</a></li>
</ul>
</div>
</div>
<div class="section" id="id358">
<h2>0.2.4<a class="headerlink" href="#id358" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.2.3...finatra-0.2.4">Full
Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Add Controller method callback timing <a class="reference external" href="https://github.com/twitter/finatra/pull/21">Github Issue
21</a>
(<a class="reference external" href="https://github.com/franklinhu">franklinhu</a>)</li>
</ul>
</div>
<div class="section" id="id359">
<h2>0.2.3<a class="headerlink" href="#id359" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.2.1...finatra-0.2.3">Full
Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Pass controllers into AppService <a class="reference external" href="https://github.com/twitter/finatra/pull/20">Github Issue
20</a>
(<a class="reference external" href="https://github.com/franklinhu">franklinhu</a>)</li>
</ul>
</div>
<div class="section" id="id360">
<h2>0.2.1<a class="headerlink" href="#id360" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.2.0...finatra-0.2.1">Full
Changelog</a></p>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Fix FinatraServer register for AbstractFinatraController type change
<a class="reference external" href="https://github.com/twitter/finatra/pull/19">Github Issue 19</a>
(<a class="reference external" href="https://github.com/franklinhu">franklinhu</a>)</li>
</ul>
</div>
<div class="section" id="id361">
<h2>0.2.0<a class="headerlink" href="#id361" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.10...finatra-0.2.0">Full
Changelog</a></p>
<div class="section" id="id362">
<h3>Closed<a class="headerlink" href="#id362" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>regexed routes <a class="reference external" href="https://github.com/twitter/finatra/issues/11">Github Issue
11</a></li>
<li>PID management <a class="reference external" href="https://github.com/twitter/finatra/issues/5">Github Issue
5</a></li>
</ul>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Add Travis CI status to README <a class="reference external" href="https://github.com/twitter/finatra/pull/18">Github Issue
18</a>
(<a class="reference external" href="https://github.com/caniszczyk">caniszczyk</a>)</li>
</ul>
</div>
</div>
<div class="section" id="id363">
<h2>0.1.10<a class="headerlink" href="#id363" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.9...finatra-0.1.10">Full
Changelog</a></p>
</div>
<div class="section" id="id364">
<h2>0.1.9<a class="headerlink" href="#id364" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.8...finatra-0.1.9">Full
Changelog</a></p>
</div>
<div class="section" id="id365">
<h2>0.1.8<a class="headerlink" href="#id365" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.7...finatra-0.1.8">Full
Changelog</a></p>
<div class="section" id="id366">
<h3>Closed<a class="headerlink" href="#id366" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>mvn package doesnt fully package <a class="reference external" href="https://github.com/twitter/finatra/issues/16">Github Issue
16</a></li>
<li>update gem <a class="reference external" href="https://github.com/twitter/finatra/issues/7">Github Issue
7</a></li>
<li>verify heroku uploads works <a class="reference external" href="https://github.com/twitter/finatra/issues/6">Github Issue
6</a></li>
</ul>
</div>
</div>
<div class="section" id="id367">
<h2>0.1.7<a class="headerlink" href="#id367" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.6...finatra-0.1.7">Full
Changelog</a></p>
</div>
<div class="section" id="id368">
<h2>0.1.6<a class="headerlink" href="#id368" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.5...finatra-0.1.6">Full
Changelog</a></p>
<div class="section" id="id369">
<h3>Closed<a class="headerlink" href="#id369" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>unbreak file upload/form support <a class="reference external" href="https://github.com/twitter/finatra/issues/10">Github Issue
10</a></li>
</ul>
</div>
</div>
<div class="section" id="id370">
<h2>0.1.5<a class="headerlink" href="#id370" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.3...finatra-0.1.5">Full
Changelog</a></p>
<div class="section" id="id371">
<h3>Closed<a class="headerlink" href="#id371" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>add logging <a class="reference external" href="https://github.com/twitter/finatra/issues/4">Github Issue
4</a></li>
</ul>
</div>
</div>
<div class="section" id="id372">
<h2>0.1.3<a class="headerlink" href="#id372" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.2...finatra-0.1.3">Full
Changelog</a></p>
</div>
<div class="section" id="id373">
<h2>0.1.2<a class="headerlink" href="#id373" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.1...finatra-0.1.2">Full
Changelog</a></p>
<div class="section" id="id374">
<h3>Closed<a class="headerlink" href="#id374" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>unbreak cookie support <a class="reference external" href="https://github.com/twitter/finatra/issues/9">Github Issue
9</a></li>
</ul>
</div>
</div>
<div class="section" id="id375">
<h2>0.1.1<a class="headerlink" href="#id375" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.1.0...finatra-0.1.1">Full
Changelog</a></p>
</div>
<div class="section" id="id376">
<h2>0.1.0<a class="headerlink" href="#id376" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/twitter/finatra/compare/finatra-0.0.1...finatra-0.1.0">Full
Changelog</a></p>
</div>
<div class="section" id="id377">
<h2>0.0.1<a class="headerlink" href="#id377" title="Permalink to this headline">¶</a></h2>
<p><strong>Merged pull requests:</strong></p>
<ul class="simple">
<li>Fix synchronization/correctness issues <a class="reference external" href="https://github.com/twitter/finatra/pull/3">Github Issue
3</a>
(<a class="reference external" href="https://github.com/franklinhu">franklinhu</a>)</li>
<li>Fix HTTP response code for routes not found <a class="reference external" href="https://github.com/twitter/finatra/pull/2">Github Issue
2</a>
(<a class="reference external" href="https://github.com/franklinhu">franklinhu</a>)</li>
<li>Fix template file resolving for packaged jarfiles <a class="reference external" href="https://github.com/twitter/finatra/pull/1">Github Issue
1</a>
(<a class="reference external" href="https://github.com/franklinhu">franklinhu</a>)</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/finatra_logo.png" alt="Logo"/>
            </a></p><p>
  <a href="https://github.com/twitter/finatra">Finatra</a> is a Scala services framework built on top of <a href="https://twitter.github.io/twitter-server/">TwitterServer</a> and <a href="https://twitter.github.io/finagle/">Finagle</a>.
</p>

<h3>Useful Links</h3>
<ul>
  <li><a href="https://twitter.github.io/finatra/user-guide">User's&nbsp;Guide</a></li>
  <li><a href="https://finagle.github.io/blog/">Finagle&nbsp;Blog</a></li>
  <li><a href="https://github.com/twitter/finatra">Finatra&nbsp;on&nbsp;Github</a></li>
  <li><a href="https://github.com/twitter/finatra/issues">Github&nbsp;Issues</a></li>
</ul>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#unreleased">Unreleased</a></li>
<li><a class="reference internal" href="#id1">22.4.0</a></li>
<li><a class="reference internal" href="#id2">22.3.0</a><ul>
<li><a class="reference internal" href="#runtime-behavior-changes">Runtime Behavior Changes</a></li>
<li><a class="reference internal" href="#id3">Runtime Behavior Changes</a></li>
<li><a class="reference internal" href="#added">Added</a></li>
<li><a class="reference internal" href="#changed">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id4">22.2.0</a></li>
<li><a class="reference internal" href="#id5">22.1.0</a><ul>
<li><a class="reference internal" href="#id6">Added</a></li>
<li><a class="reference internal" href="#id7">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">21.12.0</a><ul>
<li><a class="reference internal" href="#id9">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id10">21.11.0</a><ul>
<li><a class="reference internal" href="#id11">Added</a></li>
<li><a class="reference internal" href="#id12">Runtime Behavior Changes</a></li>
<li><a class="reference internal" href="#id13">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id14">21.10.0</a></li>
<li><a class="reference internal" href="#id15">21.9.0</a><ul>
<li><a class="reference internal" href="#id16">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#no-21-7-0-release">21.8.0 (No 21.7.0 Release)</a><ul>
<li><a class="reference internal" href="#fixed">Fixed</a></li>
<li><a class="reference internal" href="#id17">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id18">21.6.0</a><ul>
<li><a class="reference internal" href="#id19">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id20">21.5.0</a><ul>
<li><a class="reference internal" href="#id21">Fixed</a></li>
<li><a class="reference internal" href="#id22">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id23">21.4.0</a><ul>
<li><a class="reference internal" href="#id24">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id25">21.3.0</a><ul>
<li><a class="reference internal" href="#id26">Added</a></li>
<li><a class="reference internal" href="#id27">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id28">21.2.0</a><ul>
<li><a class="reference internal" href="#id29">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id30">21.1.0</a><ul>
<li><a class="reference internal" href="#id31">Changed</a></li>
<li><a class="reference internal" href="#id32">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id33">20.12.0</a><ul>
<li><a class="reference internal" href="#id34">Added</a></li>
<li><a class="reference internal" href="#id35">Changed</a></li>
<li><a class="reference internal" href="#id36">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id37">20.10.0</a><ul>
<li><a class="reference internal" href="#id38">Added</a></li>
<li><a class="reference internal" href="#id39">Changed</a></li>
<li><a class="reference internal" href="#id40">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id41">20.9.0</a><ul>
<li><a class="reference internal" href="#id42">Added</a></li>
<li><a class="reference internal" href="#id43">Changed</a></li>
<li><a class="reference internal" href="#id44">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id45">20.8.1</a><ul>
<li><a class="reference internal" href="#id46">Added</a></li>
<li><a class="reference internal" href="#id47">Changed</a></li>
<li><a class="reference internal" href="#id48">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#do-not-use">20.8.0 (DO NOT USE)</a><ul>
<li><a class="reference internal" href="#id49">Added</a></li>
<li><a class="reference internal" href="#id50">Changed</a></li>
<li><a class="reference internal" href="#id51">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id52">20.7.0</a><ul>
<li><a class="reference internal" href="#id53">Added</a></li>
<li><a class="reference internal" href="#id54">Changed</a></li>
<li><a class="reference internal" href="#id55">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id56">20.6.0</a><ul>
<li><a class="reference internal" href="#id57">Added</a></li>
<li><a class="reference internal" href="#id58">Changed</a></li>
<li><a class="reference internal" href="#id59">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id60">20.5.0</a><ul>
<li><a class="reference internal" href="#id61">Added</a></li>
<li><a class="reference internal" href="#id62">Changed</a></li>
<li><a class="reference internal" href="#id63">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id64">20.4.1</a><ul>
<li><a class="reference internal" href="#id65">Added</a></li>
<li><a class="reference internal" href="#id68">Changed</a></li>
<li><a class="reference internal" href="#id69">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id70">20.4.0 (DO NOT USE)</a><ul>
<li><a class="reference internal" href="#id71">Added</a></li>
<li><a class="reference internal" href="#id72">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id73">20.3.0</a><ul>
<li><a class="reference internal" href="#id74">Added</a></li>
<li><a class="reference internal" href="#id75">Changed</a></li>
<li><a class="reference internal" href="#id76">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id77">20.2.1</a><ul>
<li><a class="reference internal" href="#id78">Added</a></li>
<li><a class="reference internal" href="#id79">Changed</a></li>
<li><a class="reference internal" href="#id80">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id81">20.1.0</a><ul>
<li><a class="reference internal" href="#id82">Changed</a></li>
<li><a class="reference internal" href="#id83">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id84">19.12.0</a><ul>
<li><a class="reference internal" href="#id85">Changed</a></li>
<li><a class="reference internal" href="#id86">Fixed</a></li>
<li><a class="reference internal" href="#id87">Added</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id88">19.11.0</a><ul>
<li><a class="reference internal" href="#id89">Fixed</a></li>
<li><a class="reference internal" href="#id90">Added</a></li>
<li><a class="reference internal" href="#id91">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id92">19.10.0</a><ul>
<li><a class="reference internal" href="#id93">Changed</a></li>
<li><a class="reference internal" href="#id94">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id95">19.9.0</a><ul>
<li><a class="reference internal" href="#id96">Added</a></li>
<li><a class="reference internal" href="#id97">Changed</a></li>
<li><a class="reference internal" href="#id98">Fixed</a></li>
<li><a class="reference internal" href="#closed">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id99">19.8.0</a><ul>
<li><a class="reference internal" href="#id100">Added</a></li>
<li><a class="reference internal" href="#id101">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id102">19.7.0</a><ul>
<li><a class="reference internal" href="#id103">Added</a></li>
<li><a class="reference internal" href="#id104">Changed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id113">19.6.0</a><ul>
<li><a class="reference internal" href="#id114">Added</a></li>
<li><a class="reference internal" href="#id115">Changed</a></li>
<li><a class="reference internal" href="#id116">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id117">19.5.1</a><ul>
<li><a class="reference internal" href="#id118">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id119">19.5.0</a><ul>
<li><a class="reference internal" href="#id120">Added</a></li>
<li><a class="reference internal" href="#id121">Changed</a></li>
<li><a class="reference internal" href="#id122">Fixed</a></li>
<li><a class="reference internal" href="#id123">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id124">19.4.0</a><ul>
<li><a class="reference internal" href="#id125">Added</a></li>
<li><a class="reference internal" href="#id126">Changed</a></li>
<li><a class="reference internal" href="#id127">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id128">19.3.0</a><ul>
<li><a class="reference internal" href="#id129">Added</a></li>
<li><a class="reference internal" href="#id130">Changed</a></li>
<li><a class="reference internal" href="#id131">Fixed</a></li>
<li><a class="reference internal" href="#id132">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id133">19.2.0</a><ul>
<li><a class="reference internal" href="#id134">Added</a></li>
<li><a class="reference internal" href="#id135">Changed</a></li>
<li><a class="reference internal" href="#id136">Fixed</a></li>
<li><a class="reference internal" href="#id143">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id144">19.1.0</a><ul>
<li><a class="reference internal" href="#id145">Added</a></li>
<li><a class="reference internal" href="#id146">Changed</a></li>
<li><a class="reference internal" href="#id147">Fixed</a></li>
<li><a class="reference internal" href="#id148">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id149">18.12.0</a><ul>
<li><a class="reference internal" href="#id150">Added</a></li>
<li><a class="reference internal" href="#id151">Changed</a></li>
<li><a class="reference internal" href="#id152">Fixed</a></li>
<li><a class="reference internal" href="#id153">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id154">18.11.0</a><ul>
<li><a class="reference internal" href="#id155">Added</a></li>
<li><a class="reference internal" href="#id156">Changed</a></li>
<li><a class="reference internal" href="#id157">Fixed</a></li>
<li><a class="reference internal" href="#id158">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id159">18.10.0</a><ul>
<li><a class="reference internal" href="#id160">Added</a></li>
<li><a class="reference internal" href="#id161">Changed</a></li>
<li><a class="reference internal" href="#id162">Fixed</a></li>
<li><a class="reference internal" href="#id163">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id164">18.9.1</a><ul>
<li><a class="reference internal" href="#id165">Added</a></li>
<li><a class="reference internal" href="#id166">Changed</a></li>
<li><a class="reference internal" href="#id167">Fixed</a></li>
<li><a class="reference internal" href="#id168">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id169">18.9.0</a><ul>
<li><a class="reference internal" href="#id170">Added</a></li>
<li><a class="reference internal" href="#id171">Changed</a></li>
<li><a class="reference internal" href="#id172">Fixed</a></li>
<li><a class="reference internal" href="#id173">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id174">18.8.0</a><ul>
<li><a class="reference internal" href="#id175">Added</a></li>
<li><a class="reference internal" href="#id176">Changed</a></li>
<li><a class="reference internal" href="#id177">Fixed</a></li>
<li><a class="reference internal" href="#id178">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id179">18.7.0</a><ul>
<li><a class="reference internal" href="#id180">Added</a></li>
<li><a class="reference internal" href="#id181">Changed</a></li>
<li><a class="reference internal" href="#id182">Fixed</a></li>
<li><a class="reference internal" href="#id183">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id184">18.6.0</a><ul>
<li><a class="reference internal" href="#id185">Added</a></li>
<li><a class="reference internal" href="#id186">Changed</a></li>
<li><a class="reference internal" href="#id187">Fixed</a></li>
<li><a class="reference internal" href="#id188">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id189">18.5.0</a><ul>
<li><a class="reference internal" href="#id190">Added</a></li>
<li><a class="reference internal" href="#id191">Changed</a></li>
<li><a class="reference internal" href="#id192">Fixed</a></li>
<li><a class="reference internal" href="#id193">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id194">18.4.0</a><ul>
<li><a class="reference internal" href="#id195">Added</a></li>
<li><a class="reference internal" href="#id196">Changed</a></li>
<li><a class="reference internal" href="#id197">Fixed</a></li>
<li><a class="reference internal" href="#id198">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id199">18.3.0</a><ul>
<li><a class="reference internal" href="#id200">Added</a></li>
<li><a class="reference internal" href="#id201">Changed</a></li>
<li><a class="reference internal" href="#id202">Fixed</a></li>
<li><a class="reference internal" href="#id203">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id204">18.2.0</a><ul>
<li><a class="reference internal" href="#id205">Added</a></li>
<li><a class="reference internal" href="#id206">Changed</a></li>
<li><a class="reference internal" href="#id207">Fixed</a></li>
<li><a class="reference internal" href="#id208">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id209">18.1.0</a><ul>
<li><a class="reference internal" href="#id210">Added</a></li>
<li><a class="reference internal" href="#id211">Changed</a></li>
<li><a class="reference internal" href="#id212">Fixed</a></li>
<li><a class="reference internal" href="#id213">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id214">17.12.0</a><ul>
<li><a class="reference internal" href="#id215">Added</a></li>
<li><a class="reference internal" href="#id216">Changed</a></li>
<li><a class="reference internal" href="#id217">Fixed</a></li>
<li><a class="reference internal" href="#id218">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id219">17.11.0</a><ul>
<li><a class="reference internal" href="#id220">Added</a></li>
<li><a class="reference internal" href="#id221">Changed</a></li>
<li><a class="reference internal" href="#id222">Fixed</a></li>
<li><a class="reference internal" href="#id223">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id224">17.10.0</a><ul>
<li><a class="reference internal" href="#id225">Added</a></li>
<li><a class="reference internal" href="#id226">Changed</a></li>
<li><a class="reference internal" href="#id227">Fixed</a></li>
<li><a class="reference internal" href="#id228">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id229">2.13.0</a><ul>
<li><a class="reference internal" href="#id230">Added</a></li>
<li><a class="reference internal" href="#id231">Changed</a></li>
<li><a class="reference internal" href="#id232">Fixed</a></li>
<li><a class="reference internal" href="#id233">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id234">2.12.0</a><ul>
<li><a class="reference internal" href="#id235">Added</a></li>
<li><a class="reference internal" href="#id236">Changed</a></li>
<li><a class="reference internal" href="#id237">Fixed</a></li>
<li><a class="reference internal" href="#id238">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id239">2.11.0</a><ul>
<li><a class="reference internal" href="#id240">Added</a></li>
<li><a class="reference internal" href="#id241">Changed</a></li>
<li><a class="reference internal" href="#id242">Fixed</a></li>
<li><a class="reference internal" href="#id243">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id244">2.10.0</a><ul>
<li><a class="reference internal" href="#id245">Added</a></li>
<li><a class="reference internal" href="#id246">Changed</a></li>
<li><a class="reference internal" href="#id247">Fixed</a></li>
<li><a class="reference internal" href="#id248">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id249">2.9.0</a><ul>
<li><a class="reference internal" href="#id250">Added</a></li>
<li><a class="reference internal" href="#id251">Changed</a></li>
<li><a class="reference internal" href="#id252">Fixed</a></li>
<li><a class="reference internal" href="#id253">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id254">2.8.0</a><ul>
<li><a class="reference internal" href="#id255">Added</a></li>
<li><a class="reference internal" href="#id256">Changed</a></li>
<li><a class="reference internal" href="#id257">Fixed</a></li>
<li><a class="reference internal" href="#id258">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id259">2.7.0</a><ul>
<li><a class="reference internal" href="#id260">Added</a></li>
<li><a class="reference internal" href="#id261">Changed</a></li>
<li><a class="reference internal" href="#id262">Fixed</a></li>
<li><a class="reference internal" href="#id263">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id264">2.6.0</a><ul>
<li><a class="reference internal" href="#id265">Added</a></li>
<li><a class="reference internal" href="#id266">Changed</a></li>
<li><a class="reference internal" href="#id267">Fixed</a></li>
<li><a class="reference internal" href="#id268">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id269">2.5.0</a><ul>
<li><a class="reference internal" href="#id270">Added</a></li>
<li><a class="reference internal" href="#id271">Changed</a></li>
<li><a class="reference internal" href="#id272">Fixed</a></li>
<li><a class="reference internal" href="#id273">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id274">2.4.0</a><ul>
<li><a class="reference internal" href="#id275">Added</a></li>
<li><a class="reference internal" href="#id276">Changed</a></li>
<li><a class="reference internal" href="#id277">Fixed</a></li>
<li><a class="reference internal" href="#id278">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id279">2.3.0</a><ul>
<li><a class="reference internal" href="#id280">Added</a></li>
<li><a class="reference internal" href="#id281">Changed</a></li>
<li><a class="reference internal" href="#id282">Fixed</a></li>
<li><a class="reference internal" href="#id283">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id284">2.2.0</a><ul>
<li><a class="reference internal" href="#id285">Added</a></li>
<li><a class="reference internal" href="#id286">Changed</a></li>
<li><a class="reference internal" href="#id287">Fixed</a></li>
<li><a class="reference internal" href="#id288">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id289">2.1.6</a><ul>
<li><a class="reference internal" href="#id290">Added</a></li>
<li><a class="reference internal" href="#id291">Changed</a></li>
<li><a class="reference internal" href="#id292">Fixed</a></li>
<li><a class="reference internal" href="#id293">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-1-5-2016-03-15">v2.1.5 (2016-03-15)</a><ul>
<li><a class="reference internal" href="#id294">Added</a></li>
<li><a class="reference internal" href="#id295">Changed</a></li>
<li><a class="reference internal" href="#id296">Fixed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-1-4-2016-02-25">v2.1.4 (2016-02-25)</a><ul>
<li><a class="reference internal" href="#id297">Fixed</a></li>
<li><a class="reference internal" href="#id298">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-1-3-2016-02-05">v2.1.3 (2016-02-05)</a><ul>
<li><a class="reference internal" href="#id299">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-1-2-2015-12-09">v2.1.2 (2015-12-09)</a><ul>
<li><a class="reference internal" href="#id300">Fixed</a></li>
<li><a class="reference internal" href="#id301">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-1-1-2015-10-29">v2.1.1 (2015-10-29)</a><ul>
<li><a class="reference internal" href="#id302">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-1-0-2015-10-01">v2.1.0 (2015-10-01)</a></li>
<li><a class="reference internal" href="#v2-0-1-2015-09-21">v2.0.1 (2015-09-21)</a><ul>
<li><a class="reference internal" href="#id303">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-0-0-2015-09-09">v2.0.0 (2015-09-09)</a><ul>
<li><a class="reference internal" href="#id304">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-0-0-m2-2015-06-12">v2.0.0.M2 (2015-06-12)</a><ul>
<li><a class="reference internal" href="#id305">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#v2-0-0-m1-2015-04-30">v2.0.0.M1 (2015-04-30)</a><ul>
<li><a class="reference internal" href="#id306">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id307">1.6.0</a><ul>
<li><a class="reference internal" href="#id308">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id309">1.5.4</a><ul>
<li><a class="reference internal" href="#id310">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id311">1.5.3</a><ul>
<li><a class="reference internal" href="#id312">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id313">1.5.2</a><ul>
<li><a class="reference internal" href="#id314">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id315">1.5.1</a><ul>
<li><a class="reference internal" href="#id316">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#a">1.5.0a</a><ul>
<li><a class="reference internal" href="#id317">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id318">1.5.0</a><ul>
<li><a class="reference internal" href="#id319">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id320">1.4.1</a><ul>
<li><a class="reference internal" href="#id321">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id322">1.4.0</a><ul>
<li><a class="reference internal" href="#id323">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id324">1.4.0</a></li>
<li><a class="reference internal" href="#id325">1.3.9</a></li>
<li><a class="reference internal" href="#id326">1.3.9</a></li>
<li><a class="reference internal" href="#id327">1.3.8</a></li>
<li><a class="reference internal" href="#id328">1.3.8</a><ul>
<li><a class="reference internal" href="#id329">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id330">1.3.7</a></li>
<li><a class="reference internal" href="#id331">1.3.7</a></li>
<li><a class="reference internal" href="#id332">1.3.4</a><ul>
<li><a class="reference internal" href="#id333">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id334">1.3.3</a></li>
<li><a class="reference internal" href="#id335">1.3.2</a></li>
<li><a class="reference internal" href="#id336">1.3.1</a><ul>
<li><a class="reference internal" href="#id337">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id338">1.3.0</a></li>
<li><a class="reference internal" href="#id339">1.2.2</a><ul>
<li><a class="reference internal" href="#id340">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id341">1.2.0</a></li>
<li><a class="reference internal" href="#id342">1.1.1</a><ul>
<li><a class="reference internal" href="#id343">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id344">1.1.0</a><ul>
<li><a class="reference internal" href="#id345">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id346">1.0.3</a></li>
<li><a class="reference internal" href="#id347">1.0.2</a><ul>
<li><a class="reference internal" href="#id348">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id349">1.0.1</a><ul>
<li><a class="reference internal" href="#id350">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id351">1.0.0</a><ul>
<li><a class="reference internal" href="#id352">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id353">0.3.4</a><ul>
<li><a class="reference internal" href="#id354">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id355">0.3.3</a></li>
<li><a class="reference internal" href="#id356">0.3.2</a><ul>
<li><a class="reference internal" href="#id357">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id358">0.2.4</a></li>
<li><a class="reference internal" href="#id359">0.2.3</a></li>
<li><a class="reference internal" href="#id360">0.2.1</a></li>
<li><a class="reference internal" href="#id361">0.2.0</a><ul>
<li><a class="reference internal" href="#id362">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id363">0.1.10</a></li>
<li><a class="reference internal" href="#id364">0.1.9</a></li>
<li><a class="reference internal" href="#id365">0.1.8</a><ul>
<li><a class="reference internal" href="#id366">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id367">0.1.7</a></li>
<li><a class="reference internal" href="#id368">0.1.6</a><ul>
<li><a class="reference internal" href="#id369">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id370">0.1.5</a><ul>
<li><a class="reference internal" href="#id371">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id372">0.1.3</a></li>
<li><a class="reference internal" href="#id373">0.1.2</a><ul>
<li><a class="reference internal" href="#id374">Closed</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id375">0.1.1</a></li>
<li><a class="reference internal" href="#id376">0.1.0</a></li>
<li><a class="reference internal" href="#id377">0.0.1</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="presentations/index.html" title="previous chapter">Finatra Presentations</a></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Search the contents of this site.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="github-fork-ribbon-wrapper right fixed" style="width: 150px;height: 150px;position: fixed;overflow: hidden;top: 0;z-index: 9999;pointer-events: none;right: 0;"><div class="github-fork-ribbon" style="position: absolute;padding: 2px 0;background-color: #900;background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);-moz-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);z-index: 9999;pointer-events: auto;top: 42px;right: -43px;-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg);transform: rotate(45deg);"><a target="_blank" href="https://github.com/twitter/finatra" style="font: 700 13px &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;color: #fff;text-decoration: none;text-shadow: 0 -1px rgba(0, 0, 0, 0.5);text-align: center;width: 200px;line-height: 20px;display: inline-block;padding: 2px 0;border-width: 1px 0;border-style: dotted;border-color: rgba(255, 255, 255, 0.7);">Fork me on GitHub</a></div></div>
  

  <div class="footer">
    &copy; Copyright 2022 Twitter, Inc.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</div>
  
  </body>
</html>